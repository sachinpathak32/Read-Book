self._b29c9da8eca447e0ddc1ba56a939297d = self._b29c9da8eca447e0ddc1ba56a939297d || {};(function(__c) {/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var n=function(a,b){var c=[];if(!a)throw Error(null==b?"invalid argument":aa(b,...c));},aa=function(a,...b){let c=0;return a.replace(/\{}/g,()=>c<b.length?b[c++]:"{}")},x=function(a,b){var c=[];if(!a)throw Error(null==b?"invalid state":aa(b,...c));},y=function(a,b){var c=[];if(null==a)throw Error(null==b?"argument is null":aa(b,...c));return a},ca=function(a){return new ba(a)},ea=function(a){return new da(a)},fa=function(a){return null!=a&&null!=a.then},ja=function(a){let b;return(...c)=>{n(0===c.length);
if(null==b)try{b=ha(a()),fa(b.value)&&b.value.then(null,()=>!0)}catch(d){b=ia(d)}if(b.ok)return b.value;throw b.error;}},ka=function(a,b,c,d){return{tag:c,J:2,A:b,default:null!=d?d:a.defaultValue,defaultValue:a.defaultValue,j:a.j}},la=function(a,b,c){return{tag:c,J:3,A:b,defaultValue:a.defaultValue,j:a.j}},A=function(a,b,c,d){const {tag:g,A:f,S:e}=z(b,c,d);return{tag:g,J:1,A:"A?"===a?void 0:a,Pa:f,value:e,kb:!1,j:"string"}},ma=function(a){const {tag:b,A:c,S:d,Ra:g}=z(1,a);return{tag:b,J:2,A:c,F:d,
default:g,j:"string"}},J=function(a){var b={};const c=ja(()=>{const g=a();var f=Object.keys(g);const e={},h={};for(const k of f)switch(f=g[k],f.J){case 1:h[f.tag]=Object.assign({},f,{name:k});break;case 2:case 3:case 4:case 5:e[f.tag]=Object.assign({},f,{name:k});break;default:throw new B(f);}return{type:1,Oa:g,ua:na(g,b.ra),nb:e,gb:h}});class d{static oa(g){return d.W(g,[])}static ka(g){return d.P(g,[])}static P(g,f){var {ua:e}=c(),h=Object.create(d.prototype);for(const u of e){const p=u.config,
v=u.name;var k=u.C,l=u.K,m=k;e=g[m];null==e&&null!=l&&null!=g[l]&&(m=l,e=g[m]);switch(p.J){case 3:if(null==e){h[v]=void 0;break}else if(typeof e!==p.j)throw oa({C:k,K:l},e,p.j,f);f.push(m);h[v]=p.F?p.F.P(e,f):e;f.pop();break;case 2:if(null==e&&null!=p.defaultValue){h[v]=p.defaultValue;break}else if(null==e||typeof e!==p.j)throw C({C:k,K:l},e,p.j,f);f.push(m);h[v]=p.F?p.F.P(e,f):e;f.pop();break;case 1:var q=u.za;m=u.Ia;if(null==e&&p.kb){h[v]=p.value;break}if(e===q){h[v]=p.value;break}if(null!=m&&e===
m){h[v]=p.value;break}g=q;h=m;throw new TypeError(`Expected value ${h?`either "${g}" OR "${h}"`:`"${g}"`} for key ${D({C:k,K:l})} found: ${JSON.stringify(e)} ${E(f)}`);case 4:var t;if(null==e){h[v]=[];break}else if(!Array.isArray(e))throw pa({C:k,K:l},e,p.j,f);if(q=null===(t=p.F)||void 0===t?void 0:t.P){var w=Array(e.length);for(var r=0;r<e.length;++r){if(typeof e[r]!==p.j)throw C({C:k,K:l},e[r],p.j,[...f,m],r);f.push(`${m}[${r}]`);w[r]=q(e[r],f);f.pop()}h[v]=w}else{for(q=0;q<e.length;++q)if(typeof e[q]!==
p.j)throw C({C:k,K:l},e[q],p.j,[...f,m],q);h[v]=e}break;case 5:if(null==e){h[v]=new Map;break}else if("object"!==typeof e)throw new TypeError(`Expected Map for key ${D({C:k,K:l})}, found: ${G(e)} ${E(f)}`);k="number"===p.Ya;l=Object.entries(e);q=Array(l.length);for(w=0;w<l.length;++w){const [I,F]=l[w];if(k){if(r=Number(I),isNaN(r))throw new TypeError(`Expected number map key, found: NaN ${E([...f,m])}`);}else r=I;if(typeof F!==p.j)throw new TypeError(`Expected ${p.j} map value for map key "${r}", found: ${G(F)} ${E([...f,
m])}`);f.push(`${m}["${r}"]`);const O=p.F?p.F.P(F,f):e[I];f.pop();q[w]=[r,O]}h[v]=new Map(q);break;default:throw new B(p);}}return h}constructor(g={}){var {ua:f}=c();for(const e of f){f=e.config;const h=e.name,k=g[h];switch(f.J){case 1:this[h]=f.value;break;case 2:this[h]=null==k?f.default:k;break;case 3:this[h]=k;break;case 4:this[h]=null==k?[]:k;break;case 5:this[h]=null==k?new Map:k;break;default:throw new B(f);}}}}d.init=c;d.W=b.Ca?(g,f)=>{throw new TypeError(`Unproducible oneof case ${E(f)}`);
}:(g,f)=>{if(null==g||"object"!==typeof g)throw new TypeError(`Expected type object, found: ${G(g)} ${E(f)}`);var {ua:e}=c();const h={};for(const w of e){e=w.config;var k=w.C,l=g[w.name];const r=k;switch(e.J){case 1:if(l!==e.value)throw new TypeError(`Expected value ${JSON.stringify(e.value)} for key "${k}", found: ${JSON.stringify(l)} ${E(f)}`);h[r]=w.za;break;case 2:if(null!=e.defaultValue&&l===e.defaultValue)break;f.push(r);var m=e.F?e.F.W(l,f):l;f.pop();if(typeof m!==e.j)throw C({C:k},l,e.j,f);
h[r]=m;break;case 3:if(null==l)break;f.push(r);m=e.F?e.F.W(l,f):l;f.pop();if(typeof m!==e.j)throw oa({C:k},l,e.j,f);h[r]=m;break;case 4:var q;if(null==l)break;else{if(!Array.isArray(l))throw pa({C:k},l,e.j,f);if(0===l.length)break}if(m=null===(q=e.F)||void 0===q?void 0:q.W){const u=Array(l.length);for(let p=0;p<l.length;++p){f.push(`${r}[${p}]`);const v=m(l[p],f);f.pop();if(typeof v!==e.j)throw C({C:k},v,e.j,[...f,r],p);u[p]=v}h[r]=u}else{for(m=0;m<l.length;++m)if(typeof l[m]!==e.j)throw C({C:k},
l[m],e.j,[...f,r],m);h[r]=l}break;case 5:var t;if(!(l instanceof Map))throw new TypeError(`Expected Map for key "${k}", found: ${G(l)} ${E(f)}`);if(0===l.size)break;k={};m=null===(t=e.F)||void 0===t?void 0:t.W;for(const [u,p]of l){if(typeof u!==e.Ya)throw new TypeError(`Expected ${e.Ya} map key, found: ${G(u)} ${E([...f,r])}`);f.push(`${r}["${u}"]`);l=m?m(p,f):p;f.pop();if(typeof l!==e.j)throw new TypeError(`Expected ${e.j} map value for map key "${u}", found: ${G(l)} ${E([...f,r])}`);k[u]=l}h[r]=
k;break;default:throw new B(e);}}return h};return d},ra=function(a,b){var c={};const d=ja(()=>{var e=a();const h=Object.keys(e)[0];let k;const l=new Map,m=new Map,q=new Map;for(var t=0;t<e[h].length;t+=2){var w=e[h][t];const p=e[h][t+1],v=p.init().Oa[h];if(!v)throw new TypeError("Missing discriminator.");if(1!==v.J)throw new TypeError(`Discriminator must be FieldType.CONSTANT, was ${v.J}.}`);var r=K("A?",v.A,c.ra);const {N:I,V:F}=K(qa(w-1),v.Pa,c.ra);q.set(w,{Ab:p,value:v.value});l.set(v.value,p);
m.set(I,p);F&&m.set(F,p);if(k&&k.C!==r.N)throw new TypeError(`oneOf JSON keys are not consistent. ${k.C} ${r.N}`);if(k&&k.K!==r.V)throw new TypeError(`oneOf secondary JSON keys are not consistent. ${k.K} ${r.V}`);w=v.tag;k={C:r.N,K:r.V}}if(null==k||null==w)throw new TypeError("OneOf has no cases.");e=b();r=Object.keys(e);t={};for(var u of r)t[e[u].tag]=Object.assign({},e[u],{name:u});u=null!=c.ib?c.ib():void 0;return{type:2,ua:na(e,c.ra),mb:h,qb:l,Bb:w,lb:k,xb:m,jb:u,Oa:e,nb:t,gb:{},Hb:q}}),g=(e,
h)=>{const {mb:k,qb:l}=d(),m=e[k],q=l.get(m);if(!q)throw new TypeError(`Unknown oneof deserialized case: ${JSON.stringify(m)} ${E(h)}`);return q.W(e,h)},f=(e,h)=>{const {xb:k,lb:l,jb:m}=d();var q=l.K;let t=e[l.C];null==t&&q&&(t=e[q]);if(null==t&&m)return m.P(e,h);q=k.get(t);if(!q)throw new TypeError(`Unknown oneof serialized case: ${JSON.stringify(t)} ${E(h)}`);return q.P(e,h)};return{init:d,oa:e=>g(e,[]),W:g,ka:e=>f(e,[]),P:f}},sa=function(a){var b={};const c=ja(()=>{const f=a(),e=[],h=new Map,k=
new Map,l=new Map,m=new Map,q=new Set;let t=0,w=1;for(;t<f.length;){const u=w++,p=f[t];var r=qa(p-0);t+=1;let v;const I=f[t];"string"===typeof I&&(v=I,t+=1);const {N:F,V:O}=K(r,v,b.ra);r=f[t];"object"===typeof r&&r.Ca&&(q.add(u),t+=1);e.push(u);h.set(F,u);O&&h.set(O,u);k.set(u,F);l.set(u,p);m.set(p,u)}return{values:e,$a:k,Ib:l,Gb:m,yb:h,Ca:q.size?q:void 0}}),d=(f,e,h)=>{const {Ca:k}=c();if(k&&k.has(f))throw new TypeError(`Unproducible enum value: ${JSON.stringify(f)} ${h?E(h):""}`);e=e.get(f);if(null==
e)throw new TypeError(`The proto enum serializer failed to serialize value ${JSON.stringify(f)} into JSON.
It does not recognize value ${JSON.stringify(f)} as a valid member of the TypeScript enum.
${h?E(h):""}`);return e},g=(f,e)=>{const h=c().yb.get(f);if(null==h)throw new TypeError(`The proto enum deserializer failed to deserialize JSON ${JSON.stringify(f)} into an enum value.
It does not recognize JSON ${JSON.stringify(f)} as a valid JSON value encoding of the enum.
${E(e)}`);return h};return{values:()=>c().values,Fb:()=>{const {values:f,Ca:e}=c();return null==e?f:f.filter(h=>!e.has(h))},oa:f=>d(f,c().$a,[]),W:(f,e)=>d(f,c().$a,e),ka:f=>g(f,[]),P:g}},na=function(a,b){return Object.entries(a).map(([c,d])=>{let g=qa(d.tag-1);if(1===d.J){const {N:k,V:l}=K(g,d.Pa,b);g="A?";var f={za:k,Ia:l}}const {N:e,V:h}=K(g,d.A,b);return{config:d,name:c,C:e,K:h,za:null===f||void 0===f?void 0:f.za,Ia:null===f||void 0===f?void 0:f.Ia}})},K=function(a,b,c){if(!b){if(void 0!==c)throw Error("Dual Deserialization config templated but JSON full key/value wasn't");
return{N:a}}if(void 0===c)return{N:b};if(0===c)return{N:a,V:b};if(1===c)return{N:b,V:a};throw Error("function should have been exhaustive, but wasn't");},pa=function(a,b,c,d){return new TypeError(`Expected repeated ${c} value for key ${D(a)}, found: ${G(b)} ${E(d)}`)},oa=function(a,b,c,d){return new TypeError(`Expected optional ${c} value for key ${D(a)}, found: ${G(b)} ${E(d)}`)},C=function(a,b,c,d,g){return new TypeError(`Expected ${c} value${void 0!==g?` at index ${g}`:""} for key ${D(a)}, found: ${G(b)} ${E(d)}`)},
D=function(a){const b=a.C;return(a=a.K)?`either "${b}" OR "${a}"`:`"${b}"`},E=function(a){return`(path: .${a.join(".")})`},G=function(a){return null===a?"null":Array.isArray(a)?"array":typeof a},qa=function(a){if(64>a)return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(a);const b=[];for(;0<a;)b.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(a%64)),a=Math.floor(a/64);return b.reverse().join("")},z=function(a,b,c){return"string"===typeof a?
{A:a,tag:b,S:c,Ra:void 0}:{tag:a,S:b,Ra:c}},va=function(a,{origin:b,data:c}){if("*"===a.origin||a.origin===b)c.__auth_message__?a.ta.map(d=>d(ta.ka(c.__auth_message__))):c.__design_button_message__&&a.ta.map(d=>d(ua.ka(c.__design_button_message__)))},wa=function(a,b){a.ta.includes(b)||a.ta.push(b)},xa=async function(a){if(/data:.*,.*/.test(a))return a;const b=()=>Error(`failed to load media, source: ${a}`),c=new FileReader,d=new Promise((f,e)=>{c.onerror=()=>e(c.error);c.onload=()=>{null!=c.result&&
""!==c.result||e(b());f(c.result)}}),g=await fetch(a).then(f=>{if(2!==Math.floor(f.status/100))throw b();return f.blob()});if(0===g.size)throw b();c.readAsDataURL(g);return d},ya=function(a,b){switch(a){case "cm":return 2.54/96*b;case "in":return Math.round(b/96*1E3)/1E3;case "mm":return 2.54/96*b*10;case "px":return b;default:throw new B(a);}},za=function(a,b){a.onDesignClose=b.onDesignClose;a.onDesignOpen=b.onDesignOpen;a.onDesignPublish=b.onDesignPublish;a.onError=b.onError},Ba=function(a,b){a.fileType=
void 0===b?"png":b},L=function(a){x(a.ga,"startListening has not been called")},Ca=function(a){if(!a.Za)return!0;var b=a.Za;b=b.pa&&b.pa<b.Ea.now()?{valid:!1,errors:[`We couldn't validate the autoAuthToken. The autoAuthToken has expired. The expiration time in the payload is ${b.pa/1E3}. Pass a different expiration time via the exp property, and try again.`]}:{valid:!0};if(b.valid)return!0;a.error(b.errors.join("\n"));return!1},Da=function(a,b){var c=Object.assign({},b),d=b.designId,g=b.template,
f=b.templateQuery;b=b.mediaId;c=(delete c.designId,delete c.template,delete c.templateQuery,delete c.mediaId,c);d?a.D(a.G.xa(Object.assign({},{designId:d,mediaId:b},c))):a.D(a.G.wa(Object.assign({},{template:g,templateQuery:f,mediaId:b},c)))},Ea=function(a,b,c){c=void 0===c?"px":c;if(void 0===b)return!0;const d=ya(c,40),g=ya(c,8E3);b>g||b<d?(a.error(`Design width and height must be no more than ${g} ${c} and no less than ${d} ${c}, ${b} ${c} found`),a=!1):a=!0;return a},Fa=function(a,b){b="AUTH_TOKEN_LISTENER_READY_EVENT"===
b.type||"AUTH_TOKEN_PAYLOAD_EVENT"===b.type?{__auth_message__:ta.oa(b)}:{__design_button_message__:ua.oa(b)};a.window.postMessage(b,a.targetOrigin)},Ha=async function(a){const b=["*:focus { outline: none; }",`*:focus-visible { outline: 3px solid ${"rgb(125, 42, 232)".toString()} }`].join("\n");await Ga(a,b)},Ja=function(a,b=!1){const c=document.createElement("div");c.className="AyyjgQ";a.appendChild(c);let d;b&&(d=document.createElement("button"),d.className="oA9Mcg",d.innerHTML=Ia,c.appendChild(d));
return{ba:c,da:d}},La=function({dir:a,B:b="global",bb:c=!0,ab:d=!0,zb:g=!0,na:f=!1}){const e=document.createElement("div");e.setAttribute("dir",a);e.className="_6cWMPA";const {ba:h,da:k}=c?Ja(e,d):{ba:e};a=document.createElement("div");a.className="YadCLg";d=document.createElement("div");a.appendChild(d);if(g||c){switch(b){case "spinner":b="LBM6QA";break;case "china":b="l2qO1Q";a.classList.add("_1JnG3w");break;default:b="IEy_yQ"}b=["_2721_Q","ImojUQ"].concat(b.split(" "));d.classList.add(...b)}else d.className=
"bcCxmA ImojUQ",d.innerHTML="\n        <div class=Smf5Xg>\n        <div class=As2zUA></div>\n        <div class=tMP_jQ>\n          <div class=HdsXQA></div>\n          <div class=n_337w></div>\n          <div class=yIE6Jg>\n            <div class=BIUa3g></div>\n          </div>\n        </div>\n        </div>\n      ";h.appendChild(a);return new Ka({root:e,ba:h,da:k,ya:a,fa:c,na:f})},Ga=async function(a,b){return new Promise(c=>{a.addEventListener("load",()=>{const d=y(a.contentDocument),g=d.createElement("style");
d.head.appendChild(g);g.innerHTML=b;c()},{once:!0})})},Ma=function(a,b){a.Qa=b},M=function(a,{Wa:b}={Wa:!1}){var c;const d=a.root,g=y(a.R);g.onload=null;g.src="about:blank";g.className="lyePVA";document.body.classList.remove("CHM3WQ");null===(c=a.Na)||void 0===c?void 0:Fa(c,new Na);const {transitionProperty:f,transitionDuration:e}=getComputedStyle(d);if("none"===f||"0s"===e||b)d.className="_6cWMPA";else{d.className="zuSYnw _6cWMPA";var h=()=>{d.className="_6cWMPA";Oa.forEach(k=>{d.removeEventListener(k,
h)})};Oa.forEach(k=>{d.addEventListener(k,h)})}},N=function(a,b){var c;"about:blank"!==(null===(c=a.R)||void 0===c?void 0:c.src)&&Fa(y(a.Na),b)},Pa=function(a,b){a.R&&(a.ba.removeChild(a.R),a.R=void 0);const c=document.createElement("iframe");c.setAttribute("allowpaymentrequest","");c.setAttribute("allowfullscreen","");c.setAttribute("allow","fullscreen; payment");a.R=c;c.className="lyePVA";c.src=b;a.na&&Ha(c);a.ba.appendChild(c)},Qa=function(a){var b;if("about:blank"!==(null===(b=a.R)||void 0===
b?void 0:b.src)){b=a.R;var c=a.root,d=a.ya;document.body.classList.add("CHM3WQ");c.className="jbNFPA _6cWMPA";y(b).className="LuEXOQ lyePVA";y(b).onload=a.X;d.style.display="block"}},Sa=function(){return Ra.includes(window.navigator.language)},Ta=function(a){return null!=a},Q=function(a){n(0<a.length);n(a.every(b=>0>b.indexOf("?")));return P(new Ua(["",...a.map(encodeURIComponent)].join("/")))},P=function(a,b){if(!b)return a;if(b instanceof Map)for(const [c,d]of b)R(a,c,d);else for(const c in b)R(a,
c,b[c]);return a},R=function(a,b,c){n(0<b.length);n(!a.ha.has(b));if(null!=c)if(Array.isArray(c)){c=c.filter(Ta);if(0===c.length)return a;n(c.every(d=>"number"===typeof d||"string"===typeof d));a.ha.set(b,c)}else if("boolean"===typeof c)a.ha.set(b,c||String(c));else if("number"===typeof c||"string"===typeof c)a.ha.set(b,String(c));else throw Error(`invalid param value type: ${typeof c}`);return a},S=function(a){if(0===a.ha.size)return a.path;const b=Array.from(a.ha.entries()).map(([c,d])=>!0===d?
`${encodeURIComponent(c)}`:Array.isArray(d)?d.map(g=>`${encodeURIComponent(c)}=${encodeURIComponent(g)}`).join("&"):`${encodeURIComponent(c)}=${encodeURIComponent(d)}`).join("&");return`${a.path}?${b}`},Va=function(a){return a.L+S(P(R(Q(["_partnership","embed"]),"action","uploader"),a.M))},Wa=function(a){if(!a.autoAuthToken)return{valid:!0};var b=a.autoAuthToken.split(".");if(3!==b.length)return{valid:!1,errors:[`We couldn't validate the autoAuthToken. The autoAuthToken isn't in the correct format. It must be header.payload.signature, whereas it is ${a.autoAuthToken}. Correct the format, and try again.`]};
const c=[];var d=JSON,g=d.parse;b=b[1];b=b.replace(/_/g,"/").replace(/-/g,"+");d=g.call(d,atob(b));d.iss||c.push("The API key in the payload is missing, empty or null. Pass it via the iss property, and try again.");d.sub||c.push("The user ID in the payload is missing, empty or null. Pass it via the sub property, and try again.");d.iat||c.push("The issue time in the payload is missing, empty or null. Pass it via the iat property, and try again.");d.exp||c.push("The expiration time in the payload is missing, empty or null. Pass it via the exp property, and try again.");
d.iss!==a.apiKey&&c.push(`The API key in the autoAuthToken doesn't match the apiKey parameter. The API key in the autoAuthToken is ${d.iss}, whereas the apiKey parameter is ${a.apiKey}. Pass the correct API key via the iss property or correct the apiKey parameter, and try again.`);g=0;d.exp&&(g=Number(d.exp),a.pa=1E3*g,a.pa<a.Ea.now()&&c.push(`The autoAuthToken has expired. The expiration time in the payload is ${d.exp}. Pass a different expiration time via the exp property, and try again.`));d.iat&&
(b=Number(d.iat),a=a.Ea.now()/1E3,600<b-a&&c.push(`The issue time in the payload is too far in the future. For security reasons, an autoAuthToken must be issued within 10 minutes from the current time. The issue time in the payload is ${b}. Pass an issue time within this time limit via the iat property, and try again.`),d.exp&&43200<g-b&&c.push("The expiration time in the payload is beyond the permitted time limit. For security reasons, the autoAuthToken must expire within 12 hours from the time it's issued. Pass an expiration time within this time limit via the exp property, and try again."));
c.length&&c.unshift("We couldn't validate the autoAuthToken.");return{valid:!c.length,errors:c}},Xa=function(a){return{artworkId:a.artworkId,artworkTitle:a.artworkTitle,designId:a.designId,pageCount:a.pageCount,previewImageSrc:a.previewImageSrc,previewImages:a.previewImages,partnerProductId:a.partnerProductId}},Ya=function(a){var b;M(a.l);null===(b=a.onDesignClose)||void 0===b?void 0:b.call(a)},Za=function(a,b){a.fa()||(void 0===b||null==b)&&console.warn("[Canva] Looks like you haven't provided an onBackClick handler. This is now required, and in future if it is not provided an exception will be thrown.")},
$a=function(a){if(a.onArtworkCreate&&a.onMultiArtworkCreate)throw Error('[Canva Partnership SDK] Both "onArtworkCreate" and "onMultiArtworkCreate" defined, please migrate to only using "onMultiArtworkCreate"');},ab=function({width:a,height:b,units:c}){(a||b||c)&&console.warn('[Canva Partnership SDK] The "width", "height" and "units", parameters of the "createDesign" method are now deprecated. They may be removed in a future release. Use the "partnerProductId" parameter instead.')},eb=function(){var a=
window.CANVA_DESIGN_BUTTON_DEV_SETTINGS||null;if(a&&"object"===typeof a){var b=a.targetOrigin,c=a.cssUrl;a=a.apiMode;if(null===b||void 0===b||!b.match(/^.*?:\/\/localhost/))throw new bb('"targetOrigin" is required and must point to localhost');if(!c)throw new bb('"cssUrl" is required');var d=new Map([["DESIGN_BUTTON_BETA",0],["DESIGN_BUTTON_STABLE",1],["KIOSK",2],["PARTNERSHIP",3]]);const g=d.get(a);if("undefined"===typeof g)throw new bb(`"apiMode" is required and must be one of "${Array.from(d.keys()).join('" | "')}", received "${a}"`);
return{targetOrigin:b,I:c,La:g,B:"global"}}a=document.querySelector("script[src*=\\/\\/sdk\\.canva]");d=/^.*?:\/\/sdk\.canva.*?\/.*\.js$/;b=window.CANVA_DESIGN_BUTTON_SDK_SOURCE||"";if(!(a&&a.src.match(d)||""!==b))throw new cb;c=!0;a&&a.src.match(d)&&(c=!1,b=a.src);a=b.replace(/^(.*?):\/\/sdk\.(canva.*?)\/.*$/,"$1://www.$2");d=b.replace(/^(.*)\.js$/,"$1.css");c=c?1:db(b);b=b.match(/^.*?:\/\/sdk\.canva[^.]*.(cn|com)\/.*$/);return{targetOrigin:a,I:d,La:c,B:b&&"cn"===b[1]?"china":"global"}},db=function(a){switch(a.replace(/^.*?:\/\/sdk\.canva.*?\/(.*\.js)$/,
"$1")){case "designbutton/v2/api.js":return 1;case "kiosk.js":return 2;case "partnership.js":return 3;case "v2/beta/api.js":return 0;default:throw new cb;}},fb=function(a,{apiKey:b,autoAuthToken:c}){a.Ka||(a.Ka=a.initialize({apiKey:b,autoAuthToken:c,apiLanguage:"html"}));return a.Ka},gb=function(a,b){a=a[b];y(a,`${b} callback is not found`);n("function"===typeof a,`${b} is not a function: ${typeof a}`);return a},T=function(a,b,c){b&&(y(a.querySelector(`input[name="${b}"]`),`Input element with name equals to "${b}" is not found`).value=
c)},mb=function(a){var b=document;const c=new hb(b,a),d=new ib(a),g=new jb(b,a),f=new kb(a),e=new lb(a);return{$:(h,k)=>{c.$(h,k);d.$(h,k)},aa:(h,k,l)=>{g.aa(h,k,l);f.aa(h,k,l)},la:()=>{e.la()}}},nb=function(a){switch(a){case "large":return"EIT08g _58Jiow u_3oDw Wls18A _8EhpRA";case "default":return"IcdUrA _58Jiow u_3oDw Wls18A _8EhpRA";case "small":return"bU0VTA _58Jiow u_3oDw Wls18A _8EhpRA";case "tiny":return"Xa2ohw _58Jiow u_3oDw Wls18A _8EhpRA";default:throw new B(a);}},ob=function(a,b){return a&&
b.has(a)?a:"default"},rb=function(a){a=a.dataset;const b=U(a,"designType","type"),c=a.designId;n(!!b!==!!c,"One and only one of design ID or design type must be provided.");return{apiKey:y(a.apiKey,"Empty apiKey is not allowed"),autoAuthToken:a.autoAuthToken,publishLabel:U(a,"editorPublishLabel","publishLabel"),Fa:b,designId:c,size:ob(a.buttonSize,pb),Xa:ob(a.buttonTheme,qb),width:U(a,"designWidth","width"),height:U(a,"designHeight","height"),units:U(a,"designUnits","units"),Ua:U(a,"onPublishUrlInput",
"input","designUrlInput"),Ta:U(a,"onPublishIdInput","idInput"),Ma:a.onCloseCallback,Sa:a.onPublishCallback,rb:a.urlCallback||a.publishCallback,fileType:U(a,"exportFileType","fileType")}},sb=function(a){a=a.dataset;const b=a.designType,c=a.designId;n(!!b!==!!c,"One and only one of design ID or design type must be provided.");return{apiKey:y(a.apiKey,"Empty apiKey is not allowed"),autoAuthToken:a.autoAuthToken,Fa:b,designId:c,designTitle:a.designTitle,width:a.designDimensionsWidth,height:a.designDimensionsHeight,
units:a.designDimensionsUnits,publishLabel:a.editorPublishLabel,fileType:a.editorFileType,size:ob(a.buttonSize,pb),Xa:ob(a.buttonTheme,qb),sb:a.onDesignOpen,Sa:a.onDesignPublish,Ma:a.onDesignClose,tb:a.onDesignOpenInputDesignId,ub:a.onDesignOpenInputTitle,Ta:a.onDesignPublishInputDesignId,Ua:a.onDesignPublishInputExportUrl,wb:a.onDesignPublishInputTitle}},U=function(a,b,...c){(c=c.find(d=>void 0!==a[d]))&&console.warn(`[CanvaButton]: You are using ${tb(c)}, `+"which is obsolete and will be removed after the beta phase."+
`  Please use ${tb(b)} instead`);return a[c||b]},vb=async function(a,b,c){try{const e=b(a),h=new ub(a,e,c);h.qa=mb(e);y(h.qa,"Handler is not set");h.Ja.initialize(h.config);const k=h.element,l=document.createElement("span"),m=document.createElement("span");m.className="vh_Z9g";l.setAttribute("dir","ltr");k.parentElement&&k.parentElement.replaceChild(l,k);l.appendChild(k);k.addEventListener("click",h.pb);var d=nb(h.config.size);a:{var g=h.config.Xa;switch(g){case "default":var f="_sjmGg";break a;case "dark":f=
"_0eJHmg";break a;case "light":f="YOby9A";break a;default:throw new B(g);}}k.className=[d,f].join(" ");k.insertBefore(m,k.firstChild);k.style.display=""}catch(e){console.error(`[CanvaButton] ${e.message}`)}},yb=function(a){const b=Array.from(document.body.querySelectorAll(".canva-design-button"));if(0!==b.length){var c=new wb(new xb(a));b.forEach(d=>vb(d,rb,c))}},Ab=function(a){const b=Array.from(document.body.querySelectorAll(".canva-design-button"));if(0!==b.length){var c=new zb(new xb(a));b.forEach(d=>
vb(d,sb,c))}},Bb=function(a){"complete"===document.readyState||"interactive"===document.readyState?a():document.addEventListener("DOMContentLoaded",a)};var B=class extends Error{constructor(a){super(`unhandled case: ${JSON.stringify(a)}`)}};var ba=class{get ok(){return!0}map(a){return new ba(a(this.value))}constructor(a){this.value=a}},da=class{get ok(){return!1}map(){return this}constructor(a){this.error=a}},ha=ca,ia=ea;var Cb={j:"string"},Db={j:"boolean",defaultValue:!1,ob:1},Eb={j:"number",defaultValue:0,ob:8},Fb={j:"number",defaultValue:0},Gb=a=>{const {tag:b,A:c,S:d}=z(a);return ka(Fb,c,b,d)},Hb=a=>{const {tag:b,A:c}=z(a);return la(Eb,c,b)},V=a=>{const {tag:b,A:c}=z(a);return la(Fb,c,b)},W=(a,b)=>{const {tag:c,A:d,S:g}=z(a,b);return ka(Cb,d,c,g)},X=a=>{const {tag:b,A:c}=z(a);return la(Cb,c,b)};var Ib=J(()=>Object.assign({},{},{type:A("type","AUTH_TOKEN_PAYLOAD_EVENT",1,"AUTH_TOKEN_PAYLOAD_EVENT"),autoAuthToken:W("autoAuthToken",1)}));var Jb=J(()=>Object.assign({},{},{type:A("type","AUTH_TOKEN_LISTENER_READY_EVENT",2,"AUTH_TOKEN_LISTENER_READY_EVENT")}));var ta=ra(()=>({type:[1,Ib,2,Jb]}),()=>({}));var Kb=J(()=>Object.assign({},{},{type:A("A?",1,"DESIGN_OPEN_EVENT"),designId:W(1),designTitle:W(2)}));var Lb=sa(()=>[1,2]);var Mb=J(()=>Object.assign({},{},{type:A("A?",11,"STATUS_PAGE_LOAD_EVENT"),Eb:ma(Lb)}));var Nb=sa(()=>[0,1,2]);var Ob=J(()=>{const {tag:a,A:b,S:c}=z(6,Nb);var d={tag:a,J:3,A:b,F:c,j:"string"};const {tag:g,A:f}=z(7);return Object.assign({},{},{type:A("A?",2,"DESIGN_PUBLISH_EVENT"),exportUrl:W(1),designId:W(2),designTitle:W(4),Cb:d,isShared:la(Db,f,g)})});var Pb=J(()=>({hb:W(1),fileName:W(2),altText:X(3)}));var Y=J(()=>{const {tag:a,A:b,S:c}=z(9,Pb);return Object.assign({},{},{type:A("A?",3,"DESIGN_BUTTON_CONFIG"),fileType:X(1),minPages:V(7),maxPages:V(2),pages:X(11),pagesResourceOrigin:X(12),pagesResourceExtension:X(13),U:{tag:a,J:3,A:b,F:c,j:"object"},productId:X(4),productSizeOptionId:X(5),partnerProductId:X(8),publishEmail:X(6)})});var Qb=J(()=>Object.assign({},{},{type:A("A?",4,"PRODUCT_SELECT_EVENT"),partnerProductId:W(1),analyticsCorrelationId:X(12),doctype:X(10),category:W(2),template:X(3),width:Hb(4),height:Hb(5),units:X(6),minPages:V(11),maxPages:Gb(7),productId:W(8),productSizeOptionId:W(9)}));var Rb=J(()=>{const {tag:a,A:b}=z(7);var c={tag:a,J:4,A:b,j:Cb.j};const {tag:d,A:g,S:f}=z(5);return Object.assign({},{},{type:A("A?",5,"ARTWORK_CREATE_EVENT"),artworkId:W(1),artworkTitle:W(3),designId:W(6),Db:ka(Db,g,d,f),pageCount:Gb(4),previewImageSrc:W(2),previewImages:c,partnerProductId:X(8)})});var Sb=J(()=>{const {tag:a,A:b,S:c}=z(1,Rb);return Object.assign({},{},{type:A("A?",12,"MULTI_ARTWORK_CREATE_EVENT"),artworks:{tag:a,J:4,A:b,F:c,j:"object"}})});var Tb=J(()=>Object.assign({},{},{type:A("A?",6,"EDITOR_BACK_CLICK_EVENT")}));var Ub=J(()=>Object.assign({},{},{type:A("A?",7,"DESIGN_SELECT_EVENT"),designId:W(1),minPages:V(4),maxPages:Gb(2),partnerProductId:W(3)}));var Vb=J(()=>Object.assign({},{},{type:A("A?",10,"MEDIA_UPLOAD_EVENT"),mediaId:W(1)}));var Na=J(()=>Object.assign({},{},{type:A("A?",9,"IFRAME_HIDE_EVENT")}));var Wb=sa(()=>[1,2]);var Xb=J(()=>Object.assign({},{},{type:A("A?",8,"ERROR_EVENT"),ea:ma(Wb),statusCode:V(2)}));var ua=ra(()=>({type:[1,Kb,11,Mb,2,Ob,3,Y,4,Qb,5,Rb,12,Sb,6,Tb,7,Ub,10,Vb,9,Na,8,Xb]}),()=>({}));var Yb=class{O(){this.cb(a=>va(this,a))}constructor(a,b){this.cb=a;this.origin=b;this.ta=[]}};var Zb=/^[a-zA-Z0-9-]+$/;var $b=class{O(){wa(this.T,a=>this.ma(a));this.T.O();Ma(this.l,()=>{var a;M(this.l);null===(a=this.onDesignClose)||void 0===a?void 0:a.call(this)});this.ga=!0}ma(a){switch(a.type){case "IFRAME_HIDE_EVENT":var b;M(this.l);null===(b=this.onDesignClose)||void 0===b?void 0:b.call(this);break;case "DESIGN_OPEN_EVENT":this.l.X();N(this.l,new Y({fileType:this.fileType,pages:this.pages,pagesResourceOrigin:this.pagesResourceOrigin,pagesResourceExtension:this.pagesResourceExtension}));this.onDesignOpen&&this.onDesignOpen({designId:a.designId,
designTitle:a.designTitle});break;case "DESIGN_PUBLISH_EVENT":M(this.l);this.onDesignPublish&&this.onDesignPublish(Object.assign({},{exportUrl:a.exportUrl,designId:a.designId,designTitle:a.designTitle},void 0!==a.isShared?{isShared:a.isShared}:{}));break;case "ERROR_EVENT":if(this.onError)switch(a.ea){case 1:this.onError({statusCode:403});break;case 2:this.onError({statusCode:a.statusCode||408});break;default:throw new B(a.ea);}break;case "STATUS_PAGE_LOAD_EVENT":this.l.X();if(!this.U||!this.Ga)break;
const c=this.U.fileName,d=this.U.altText;this.Ga.then(g=>{N(this.l,new Y({U:new Pb({hb:g,fileName:c,altText:d})}))});break;case "MEDIA_UPLOAD_EVENT":M(this.l,{Wa:!0});if(!this.onMediaUpload)break;this.onMediaUpload({mediaId:a.mediaId});break;case "DESIGN_SELECT_EVENT":case "PRODUCT_SELECT_EVENT":case "ARTWORK_CREATE_EVENT":case "MULTI_ARTWORK_CREATE_EVENT":case "DESIGN_BUTTON_CONFIG":case "EDITOR_BACK_CLICK_EVENT":case "AUTH_TOKEN_LISTENER_READY_EVENT":case "AUTH_TOKEN_PAYLOAD_EVENT":break;default:throw new B(a);
}}D(a,b){b=void 0===b?!1:b;Pa(this.l,a);b?this.l.X():Qa(this.l)}createDesign(a){var b=Object.assign({},a),c=a.designId,d=a.pages,g=a.pagesResourceOrigin,f=a.pagesResourceExtension,e=a.media,h=a.type,k=a.title,l=a.template,m=a.templateQuery,q=a.publishLabel,t=a.width,w=a.height,r=a.units;a=void 0===a.fileType?"png":a.fileType;b=(delete b.designId,delete b.pages,delete b.pagesResourceOrigin,delete b.pagesResourceExtension,delete b.media,delete b.type,delete b.title,delete b.template,delete b.templateQuery,
delete b.publishLabel,delete b.width,delete b.height,delete b.units,delete b.fileType,b);L(this);za(this,b);Ba(this,a);this.pages=d;this.pagesResourceOrigin=g;this.pagesResourceExtension=f;const u={type:h,title:k,publishLabel:q,width:t,height:w,fileType:a,units:r,Ba:!(null===b||void 0===b||!b.onError)};c&&l?this.error("Design id and template id should not be set at the same time"):Ca(this)&&(e?e.id?Da(this,Object.assign({},{designId:c,template:l,templateQuery:m,mediaId:e.id},u)):(this.U=e,d=this.U.source,
g=this.U.fileName,d&&g)?Ea(this,t,r)&&Ea(this,w,r)&&(this.Ga=xa(d),this.D(Va(this.G)),this.onMediaUpload=p=>{({mediaId:p}=p);Da(this,Object.assign({},{designId:c,template:l,templateQuery:m,mediaId:p},u))}):this.error("Must specify one of: id, source & altText (optional) & fileName"):c?Da(this,Object.assign({},{designId:c},u)):t&&w||h?Ea(this,t,r)&&Ea(this,w,r)&&Da(this,Object.assign({},{template:l,templateQuery:m},u)):this.error("Must specify one of: type, width & height, designId, media"))}error(a){console.error(`[CanvaButton] ${a}`);
if(this.onError)this.onError({statusCode:422});else{a=this.D;var b=this.G;b=b.L+S(P(R(Q(["partnership-status"]),"integrationError","BAD_API_REQUEST"),b.M));a.call(this,b)}}editDesign(a){var b=Object.assign({},a),c=a.designId,d=a.publishLabel;a=a.fileType;b=(delete b.designId,delete b.publishLabel,delete b.fileType,b);L(this);za(this,b);Ca(this)&&(Ba(this,a),this.D(this.G.Ha({designId:c,publishLabel:d,Ba:!(null===b||void 0===b||!b.onError)})))}uploadMedia(a){var {media:b,onError:c,onMediaUpload:d}=
a;this.U=b;this.Ga=xa(b.source);this.onError=c;this.onMediaUpload=d;Ca(this)&&this.D(Va(this.G))}showCatalog(a){var b=Object.assign({},a),c=a.supportSavedDesigns,d=a.initialSearch;a=a.tag;b=(delete b.supportSavedDesigns,delete b.initialSearch,delete b.tag,b);L(this);za(this,b);b.editor&&(Ba(this,b.editor.fileType),this.publishLabel=b.editor.publishLabel);Ca(this)&&(void 0===a||("string"!==typeof a?0:Zb.test(a))?this.D(this.G.va({supportSavedDesigns:void 0===c?!0:c,initialSearch:d,tag:a}),!0):this.error("If tag is provided it must be a kebab-cased non-empty alpha-numeric string. i.e. back-to-school\nIf you want to pass no tag, either omit the property or pass it with a value of undefined."))}constructor(a,
b,c,d){this.T=a;this.G=b;this.l=c;this.Za=d;this.ga=!1}};var ac=class{constructor(a,b){this.window=a;this.targetOrigin=b}};var Ia='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="m4 4 8 8m-8 0 8-8" stroke="currentColor" stroke-linecap="round" stroke-width="1.5"/></svg>';var Oa=["transitionend","transitionEnd","webkitTransitionEnd"],Ka=class{constructor({root:a,ba:b,da:c,ya:d,fa:g,na:f}){this.X=()=>{var e;"about:blank"!==(null===(e=this.R)||void 0===e?void 0:e.src)&&(this.root.className="jbNFPA _6cWMPA",e=y(this.R),document.body.classList.add("CHM3WQ"),e.className="pC_ENQ lyePVA",e.onload=null,this.ya.style.display="none",this.Na=new ac(y(e.contentWindow),e.src))};this.root=a;this.da=c;this.ya=d;this.ba=b;this.fa=g;this.na=f;this.da&&this.da.addEventListener("click",
()=>{this.Qa&&this.Qa()})}};var Ra="ar ar-AE ar-AR ar-AU ar-BH ar-DE ar-DK ar-DZ ar-EG ar-GB ar-ID ar-IL ar-IQ ar-JO ar-KW ar-LB ar-LY ar-MA ar-MR ar-OM ar-PS ar-QA ar-SA ar-SD ar-SO ar-SY ar-TN ar-TR ar-US ar-XB ar-YE fa fa-IR he he-GB he-IL he-IS he-US he-ZA pa pa-PK ckb ckb-US ckb-IQ ur ur-PK ug ug-CN".split(" ");var Ua=class{constructor(a){this.path=a;this.ha=new Map}};var bc=class{get M(){return{apiMode:"button",embed:!0,origin:this.origin,_sdkVersion:this.Da,apiLanguage:this.apiLanguage,autoAuthToken:this.autoAuthToken,apiKey:this.apiKey,locale:this.locale}}Ha({designId:a,publishLabel:b,Ba:c}){return this.L+S(P(R(R(R(R(Q(["_partnership","embed"]),"action","editDesign"),"designId",a),"publishLabel",b),"supportDesignButtonErrorPage",c),this.M))}wa({type:a,fileType:b,category:c,doctype:d,mediaId:g,template:f,title:e,publishLabel:h,width:k,height:l,units:m,templateQuery:q,
Ba:t}){return this.L+S(P(R(R(R(R(R(R(R(R(R(R(R(R(R(R(Q(["_partnership","embed"]),"action","createDesign"),"type",a),"fileType",b),"category",c),"doctype",d),"mediaId",g),"title",e),"template",f),"templateQuery",q),"publishLabel",h),"width",k),"height",l),"units",m),"supportDesignButtonErrorPage",t),this.M))}xa({designId:a,mediaId:b,type:c,title:d,publishLabel:g,width:f,height:e,units:h,Ba:k}){return this.L+S(P(R(R(R(R(R(R(R(R(R(R(Q(["_partnership","embed"]),"action","createDesign"),"designId",a),
"mediaId",b),"title",d),"type",c),"width",f),"height",e),"units",h),"publishLabel",g),"supportDesignButtonErrorPage",k),this.M))}va({supportSavedDesigns:a,initialSearch:b,tag:c}){return this.L+S(P(R(R(R(R(Q(["_partnership","embed"]),"action","catalog"),"supportSavedDesigns",a),"initialSearch",b),"tag",c),this.M))}constructor(a,b,c,d,g,f,e){this.L=a;this.apiKey=b;this.origin=c;this.Da=d;this.apiLanguage=g;this.autoAuthToken=f;this.locale=e}};var cc=class{async initialize(a){var {apiKey:b,autoAuthToken:c,locale:d,apiLanguage:g="js"}=a;x(0===this.state,"should only initialize once");this.state=1;try{await this.ja(this.I)}catch(e){throw this.state=0,e;}a=La({B:this.B,dir:Sa()?"rtl":"ltr"});const f=new $b(new Yb(e=>window.addEventListener("message",e),this.targetOrigin),new bc(this.targetOrigin,b,this.H,"D2b_1.1.3-e",g,c,d),a);f.O();document.body.appendChild(a.root);a=this.Y(f);this.state=2;return a}async ja(a){return new Promise((b,c)=>
{const d=document.createElement("link");d.rel="stylesheet";d.href=a;d.onload=()=>b();d.onerror=()=>c(Error("failed to load css"));document.body.appendChild(d)})}Y(a){return{createDesign:b=>{var c=Object.assign({},b),d=b.onDesignClose,g=b.onDesignOpen,f=b.onDesignPublish,e=b.onError,h=b.onCreateCallback,k=b.onPublishCallback;b=(delete c.onDesignClose,delete c.onDesignOpen,delete c.onDesignPublish,delete c.onError,delete c.onCreateCallback,delete c.onPublishCallback,c);!g&&h&&(Z("api.createDesign({onCreateCallback:(designId)=>{}})",
"api.createDesign({onDesignOpen:({designId})=>{}})"),g=l=>{({designId:l}=l);h&&h(l)});!f&&k&&(Z("api.createDesign({onPublishCallback:(designId)=>{}})","api.createDesign({onDesignPublish:({designId, exportUrl})=>{}})"),f=l=>{var {exportUrl:m,designId:q}=l;k&&k(m,q)});a.createDesign(Object.assign({},b,{onDesignClose:d,onDesignOpen:g,onDesignPublish:f,onError:e}))},editDesign:b=>{var c=Object.assign({},b),d=b.onDesignClose,g=b.onDesignOpen,f=b.onDesignPublish,e=b.onError,h=b.onOpenCallback,k=b.onPublishCallback;
b=(delete c.onDesignClose,delete c.onDesignOpen,delete c.onDesignPublish,delete c.onError,delete c.onOpenCallback,delete c.onPublishCallback,c);!g&&h&&(Z("api.editDesign({onOpenCallback:(designId)=>{}})","api.createDesign({onDesignOpen:({designId})=>{}})"),g=l=>{({designId:l}=l);h&&h(l)});!f&&k&&(Z("api.editDesign({onPublishCallback:(designId)=>{}})","api.createDesign({onDesignPublish:({designId, exportUrl})=>{}})"),f=l=>{var {exportUrl:m,designId:q}=l;k&&k(m,q)});a.editDesign(Object.assign({},b,
{onDesignClose:d,onDesignOpen:g,onDesignPublish:f,onError:e}))}}}Z(){return{initialize:(a,b,c)=>"string"===typeof a?(Z(`CanvaButton.initialize(apiKey${b?", autoAuthToken":""})`,`CanvaButton.initialize({apiKey: "API-KEY"${b?', autoAuthToken: "AUTO-AUTH-TOKEN"':""}})`),this.initialize({apiKey:a,autoAuthToken:b,locale:c,apiLanguage:"js"})):this.initialize({apiKey:a.apiKey,autoAuthToken:a.autoAuthToken,locale:a.locale,apiLanguage:a.apiLanguage})}}constructor(a){this.state=0;this.targetOrigin=a.targetOrigin;
this.H=a.H;this.I=a.I;this.B=a.B}},Z=(a,b)=>{console.warn(`[CanvaButton] Looks like your are using ${a}, it will be removed after beta phase, `+`please use ${b} instead.`)};var dc={now:()=>Date.now()};var ec=class{constructor(a,b){this.apiKey=a;this.autoAuthToken=b;this.Ea=dc}};var fc=class{async initialize({apiKey:a,autoAuthToken:b,loadingIconVariant:c,locale:d,apiLanguage:g="js"}){x(0===this.state,"should only initialize once");this.state=1;const f=new ec(a,b),e=Wa(f);if(!e.valid)throw Error(e.errors.join("\n"));try{await this.ja(this.I)}catch(h){throw this.state=0,h;}c=La({B:c||this.B,dir:Sa()?"rtl":"ltr"});a=new $b(new Yb(h=>window.addEventListener("message",h),this.targetOrigin),new bc(this.targetOrigin,a,this.H,"D2_1.1.3-e",g,b,d),c,f);a.O();document.body.appendChild(c.root);
a=this.Y(a);this.state=2;return a}async ja(a){return new Promise((b,c)=>{const d=document.createElement("link");d.rel="stylesheet";d.href=a;d.onload=()=>b();d.onerror=()=>c(Error("failed to load css"));document.body.appendChild(d)})}Y(a){return{createDesign:b=>{var c,d,g,f,e;a.createDesign({designId:b.design.id,title:b.design.title,pages:b.design.pages,pagesResourceOrigin:b.design.pagesResourceOrigin,pagesResourceExtension:b.design.pagesResourceExtension,media:b.design.media,type:b.design.type,width:null===
(c=b.design.dimensions)||void 0===c?void 0:c.width,height:null===(d=b.design.dimensions)||void 0===d?void 0:d.height,units:null===(g=b.design.dimensions)||void 0===g?void 0:g.units,template:b.design.template,publishLabel:null===(f=b.editor)||void 0===f?void 0:f.publishLabel,fileType:null===(e=b.editor)||void 0===e?void 0:e.fileType,onDesignOpen:b.onDesignOpen,onDesignPublish:b.onDesignPublish,onDesignClose:b.onDesignClose,onError:b.onError})},editDesign:b=>{var c,d;a.editDesign({designId:b.design.id,
publishLabel:null===(c=b.editor)||void 0===c?void 0:c.publishLabel,fileType:null===(d=b.editor)||void 0===d?void 0:d.fileType,onDesignOpen:b.onDesignOpen,onDesignPublish:b.onDesignPublish,onDesignClose:b.onDesignClose,onError:b.onError})},uploadMedia:b=>{a.uploadMedia(b)},showCatalog:b=>a.showCatalog(b)}}Z(){return{initialize:a=>this.initialize({apiKey:a.apiKey,autoAuthToken:a.autoAuthToken,loadingIconVariant:a.loadingIconVariant,locale:a.locale,apiLanguage:a.apiLanguage})}}constructor(a){this.state=
0;this.targetOrigin=a.targetOrigin;this.H=a.H;this.I=a.I;this.B=a.B}};var gc=class{O(){wa(this.T,a=>this.ma(a));this.T.O();Ma(this.l,()=>M(this.l));this.ga=!0}Aa(a){this.maxPages=a}ma(a){switch(a.type){case "PRODUCT_SELECT_EVENT":sessionStorage&&sessionStorage.setItem("canvaLastPartnerProductId",a.partnerProductId);this.onProductSelect&&this.onProductSelect({partnerProductId:a.partnerProductId,productId:a.productId,productSizeOptionId:a.productSizeOptionId,doctype:a.doctype,category:a.category,template:a.template,width:a.width,height:a.height,units:a.units,maxPages:a.maxPages});
break;case "DESIGN_SELECT_EVENT":this.onDesignSelect&&this.onDesignSelect({designId:a.designId,maxPages:a.maxPages,partnerProductId:a.partnerProductId});break;case "ARTWORK_CREATE_EVENT":M(this.l);this.onArtworkCreate&&this.onArtworkCreate({artworkId:a.artworkId,designId:a.designId,previewImageSrc:a.previewImageSrc,previewImages:a.previewImages,pageCount:a.pageCount});break;case "EDITOR_BACK_CLICK_EVENT":this.onBackClick&&this.onBackClick();break;case "DESIGN_OPEN_EVENT":this.l.X();N(this.l,new Y({maxPages:this.maxPages?
Number(this.maxPages):2,partnerProductId:this.partnerProductId,publishEmail:this.publishEmail}));this.onDesignOpen&&this.onDesignOpen({designId:a.designId,designTitle:a.designTitle});break;case "ERROR_EVENT":if(this.onError)switch(a.ea){case 1:this.onError({statusCode:403});break;case 2:break;default:throw new B(a.ea);}break;case "DESIGN_PUBLISH_EVENT":this.onDesignPublish&&this.onDesignPublish(a);break;case "DESIGN_BUTTON_CONFIG":case "MULTI_ARTWORK_CREATE_EVENT":case "MEDIA_UPLOAD_EVENT":case "IFRAME_HIDE_EVENT":case "STATUS_PAGE_LOAD_EVENT":case "AUTH_TOKEN_LISTENER_READY_EVENT":case "AUTH_TOKEN_PAYLOAD_EVENT":break;
default:throw new B(a);}}D(a,b=!1){Pa(this.l,a);b?this.l.X():Qa(this.l)}createDesign({doctype:a,category:b,type:c,designId:d,maxPages:g,partnerProductId:f,template:e,title:h,width:k,height:l,units:m,publishLabel:q,onArtworkCreate:t,onDesignOpen:w,onBackClick:r,onDesignPublish:u,onError:p,kiosk:v}){L(this);this.Aa(g);this.onArtworkCreate=t;this.onDesignOpen=w;this.onBackClick=r;this.onDesignPublish=u;this.onError=p;this.partnerProductId=f;this.publishEmail=null===v||void 0===v?void 0:v.publishEmail;
g=sessionStorage&&sessionStorage.getItem("canvaLastPartnerProductId")||"";d?this.D(this.G.xa({doctype:a,category:b,type:c,designId:d,partnerProductId:f||g,title:h,width:k,height:l,units:m,publishLabel:q,ca:!!p})):this.D(this.G.wa({doctype:a,category:b,type:c,partnerProductId:f||g,template:e,title:h,width:k,height:l,units:m,publishLabel:q,ca:!!p}))}showCatalog({onProductSelect:a,onDesignSelect:b,initialSearch:c}){L(this);this.onProductSelect=a;this.onDesignSelect=b;this.D(this.G.va({supportSavedDesigns:!!b,
initialSearch:c}),!0)}constructor(a,b,c){this.T=a;this.G=b;this.l=c;this.ga=!1}};var hc=class{get M(){return{apiMode:"partnership",embed:!0,origin:this.origin,_sdkVersion:this.Da,autoAuthToken:this.autoAuthToken,apiKey:this.apiKey,locale:this.locale,willSupplyAutoAuthToken:!0}}wa({analyticsCorrelationId:a,designSource:b,doctype:c,category:d,type:g,partnerProductId:f,template:e,title:h,width:k,height:l,units:m,publishLabel:q,ca:t,fb:w}){return this.L+S(P(R(R(R(R(R(R(R(R(R(R(R(R(R(R(R(R(Q(["_partnership","embed"]),"action","createDesign"),"doctype",c),"category",d),"type",g),"fileType",
"png"),"analyticsCorrelationId",a),"designSource",b),"partnerProductId",f),"template",e),"title",h),"publishLabel",q),"width",k),"height",l),"units",m),"supportPartnershipErrorPage",t),"catalogTag",w),this.M))}xa({designSource:a,doctype:b,category:c,type:d,designId:g,partnerProductId:f,title:e,width:h,height:k,units:l,publishLabel:m,ca:q}){return this.L+S(P(R(R(R(R(R(R(R(R(R(R(R(R(R(Q(["_partnership","embed"]),"action","createDesign"),"doctype",b),"category",c),"type",d),"designSource",a),"designId",
g),"partnerProductId",f),"title",e),"publishLabel",m),"width",h),"height",k),"units",l),"supportPartnershipErrorPage",q),this.M))}Ha({designId:a,ca:b,publishLabel:c}){return this.L+S(P(R(R(R(R(Q(["_partnership","embed"]),"action","editDesign"),"designId",a),"publishLabel",c),"supportPartnershipErrorPage",b),this.M))}va({supportSavedDesigns:a,initialSearch:b,tag:c}){return this.L+S(P(R(R(R(R(Q(["_partnership","embed"]),"action","catalog"),"supportSavedDesigns",a),"initialSearch",b),"tag",c),this.M))}constructor(a,
b,c,d,g,f){this.L=a;this.apiKey=b;this.origin=c;this.Da=d;this.autoAuthToken=g;this.locale=f}};var ic=class{async initialize({apiKey:a,autoAuthToken:b,container:c}){x(0===this.state,"should only initialize once");this.state=1;const d=La({B:this.B,dir:Sa()?"rtl":"ltr",bb:null==c,ab:null==c,zb:!1,na:!0});a=new gc(new Yb(g=>window.addEventListener("message",g),this.targetOrigin),new hc(this.targetOrigin,a,this.H,"K1_1.1.3-e",b),d);a.O();(c||document.body).appendChild(d.root);c=this.Y(a);this.state=2;return c}Y(a){return{createDesign:b=>{a.createDesign(b)},showCatalog:b=>a.showCatalog(b)}}Z(){return{initialize:a=>
this.initialize({apiKey:a.apiKey,autoAuthToken:a.autoAuthToken,container:a.container})}}constructor(a){this.state=0;this.targetOrigin=a.targetOrigin;this.H=a.H;this.B=a.B}};var jc=sa(()=>[1,"catalog",2,"direct",3,"remix",4,"magic_resize",5,"copy_saved_design"]);var lc=class{O(){wa(this.T,a=>this.ma(a));this.T.O();Ma(this.l,()=>Ya(this));this.ga=!0}Aa(a){this.maxPages=a}fa(){return this.l.fa}ma(a){switch(a.type){case "PRODUCT_SELECT_EVENT":sessionStorage&&sessionStorage.setItem("canvaLastPartnerProductId",a.partnerProductId);this.onProductSelect&&this.onProductSelect({analyticsCorrelationId:a.analyticsCorrelationId,designSource:"catalog",partnerProductId:a.partnerProductId,productId:a.productId,productSizeOptionId:a.productSizeOptionId,doctype:a.doctype,
category:a.category,template:a.template,width:a.width,height:a.height,units:a.units,minPages:a.minPages,maxPages:a.maxPages});break;case "DESIGN_SELECT_EVENT":sessionStorage&&sessionStorage.setItem("canvaLastPartnerProductId",a.partnerProductId);this.onDesignSelect&&this.onDesignSelect({designId:a.designId,minPages:a.minPages,maxPages:a.maxPages,partnerProductId:a.partnerProductId});break;case "ARTWORK_CREATE_EVENT":M(this.l);a=Xa(a);this.onArtworkCreate&&this.onArtworkCreate(a);break;case "MULTI_ARTWORK_CREATE_EVENT":M(this.l);
!this.onMultiArtworkCreate&&1<a.artworks.length&&console.warn("[Canva Partnership SDK] Multiple artworks have been created but onMultiArtworkCreate callback was not specified to handle them");this.onMultiArtworkCreate&&this.onMultiArtworkCreate({artworks:a.artworks.map(Xa)});break;case "EDITOR_BACK_CLICK_EVENT":this.fa()&&Ya(this);this.onBackClick&&this.onBackClick();break;case "DESIGN_OPEN_EVENT":var b,c;this.l.X();const d=this.minPages?Number(this.minPages):void 0,g=this.maxPages?Number(this.maxPages):
2,f=(null===(b=sessionStorage)||void 0===b?void 0:b.getItem("canvaLastPartnerProductId"))||void 0;N(this.l,new Y({minPages:d,maxPages:g,partnerProductId:f}));null===(c=sessionStorage)||void 0===c?void 0:c.removeItem("canvaLastPartnerProductId");this.onDesignOpen&&this.onDesignOpen({designId:a.designId,designTitle:a.designTitle});break;case "AUTH_TOKEN_LISTENER_READY_EVENT":(a=this.eb.autoAuthToken)&&N(this.l,new Ib({autoAuthToken:a}));break;case "ERROR_EVENT":if(this.onError)switch(a.ea){case 1:this.onError({statusCode:403});
break;case 2:break;default:throw new B(a.ea);}break;case "DESIGN_PUBLISH_EVENT":case "DESIGN_BUTTON_CONFIG":case "MEDIA_UPLOAD_EVENT":case "IFRAME_HIDE_EVENT":case "AUTH_TOKEN_PAYLOAD_EVENT":case "STATUS_PAGE_LOAD_EVENT":break;default:throw new B(a);}}D(a,b=!1){Pa(this.l,a);b?this.l.X():Qa(this.l)}createDesign({analyticsCorrelationId:a,designSource:b,doctype:c,category:d,type:g,designId:f,minPages:e,maxPages:h,partnerProductId:k,template:l,title:m,width:q,height:t,units:w,publishLabel:r,onArtworkCreate:u,
onMultiArtworkCreate:p,onDesignClose:v,onDesignOpen:I,onBackClick:F,onError:O}){var Aa;L(this);Za(this,F);this.minPages=e;this.Aa(h);this.onArtworkCreate=u;this.onMultiArtworkCreate=p;this.onDesignClose=v;this.onDesignOpen=I;this.onBackClick=F;this.onError=O;if(k){k&&sessionStorage&&sessionStorage.setItem("canvaLastPartnerProductId",k);$a(this);ab({width:q,height:t,units:w});let H;if(b)try{H=jc.ka(b)}catch(kc){kc instanceof TypeError&&console.warn(`Unrecognized designSource value: ${b}`)}H&&1!==H&&
2!==H&&(console.warn(`Unexpected designSource value: ${b}`),H=void 0);f&&1===H&&(console.warn(`Supplying designId with designSource "${b}" is not supported`),H=void 0);f&&2===H&&(H=3);b=H?jc.oa(H):void 0;e=(null===(Aa=sessionStorage)||void 0===Aa?void 0:Aa.getItem("canvaLastCatalogTag"))||void 0;f?this.D(this.G.xa({designSource:b,doctype:c,category:d,type:g,designId:f,partnerProductId:k,title:m,width:q,height:t,units:w,publishLabel:r,ca:!!O})):this.D(this.G.wa({analyticsCorrelationId:a,designSource:b,
doctype:c,category:d,type:g,partnerProductId:k,template:l,title:m,width:q,height:t,units:w,publishLabel:r,ca:!!O,fb:e}))}else console.error('[Canva Partnership SDK] No partnerProductId was provided when calling the "createDesign" method.')}editDesign({designId:a,minPages:b,maxPages:c,publishLabel:d,onArtworkCreate:g,onMultiArtworkCreate:f,onDesignClose:e,onDesignOpen:h,onBackClick:k,onError:l}){L(this);Za(this,k);this.minPages=b;this.Aa(c);this.onArtworkCreate=g;this.onMultiArtworkCreate=f;this.onDesignClose=
e;this.onDesignOpen=h;this.onBackClick=k;this.onError=l;$a(this);this.D(this.G.Ha({designId:a,ca:!!l,publishLabel:d}))}showCatalog({onProductSelect:a,onDesignSelect:b,tag:c}){L(this);this.onProductSelect=a;this.onDesignSelect=b;void 0===c||("string"!==typeof c?0:Zb.test(c))?(sessionStorage&&null!=c?sessionStorage.setItem("canvaLastCatalogTag",c):sessionStorage.removeItem("canvaLastCatalogTag"),this.D(this.G.va({supportSavedDesigns:!!b,tag:c}),!0)):console.error("[Canva Partnership SDK] If tag is provided it must be a kebab-cased non-empty alpha-numeric string. i.e. back-to-school\nIf you want to pass no tag, either omit the property or pass it with a value of undefined.")}constructor(a,
b,c,d){this.T=a;this.G=b;this.l=c;this.eb=d;this.ga=!1}};var mc=class{async initialize({apiKey:a,autoAuthToken:b,container:c,locale:d}){x(0===this.state,"should only initialize once");this.state=1;try{await this.ja(c,this.I)}catch(f){throw this.state=0,f;}const g=La({B:this.B,dir:Sa()?"rtl":"ltr",bb:null==c,ab:null==c});a=new lc(new Yb(f=>window.addEventListener("message",f),this.targetOrigin),new hc(this.targetOrigin,a,this.H,"P1_1.1.3-e",void 0,d),g,{autoAuthToken:b});a.O();(c||document.body).appendChild(g.root);c=this.Y(a);this.state=2;return c}async ja(a=
document.body,b){return new Promise((c,d)=>{const g=document.createElement("link");g.rel="stylesheet";g.href=b;g.onload=()=>c();g.onerror=()=>d(Error("failed to load css"));a.appendChild(g)})}Y(a){return{createDesign:b=>{a.createDesign(b)},editDesign:b=>{a.editDesign(b)},showCatalog:b=>a.showCatalog(b)}}Z(){return{initialize:a=>this.initialize({apiKey:a.apiKey,autoAuthToken:a.autoAuthToken,container:a.container,locale:a.locale})}}constructor(a){this.state=0;this.targetOrigin=a.targetOrigin;this.H=
a.H;this.I=a.I;this.B=a.B}};var cb=class extends Error{},bb=class extends Error{};var wb=class{async initialize(a){await fb(this.ia,a)}async Va(a,b){const c=await fb(this.ia,a),d=a.designId,g=a.Fa,f=a.publishLabel,e=a.width,h=a.height,k=a.units;a=a.fileType;const l=b.onDesignOpen,m=b.onDesignPublish;b=b.onDesignClose;d?c.editDesign({designId:d,publishLabel:f,fileType:a,onDesignPublish:m,onDesignClose:b}):c.createDesign({type:g,publishLabel:f,width:e?parseInt(e,10):void 0,height:h?parseInt(h,10):void 0,units:"px"===k||"cm"===k||"mm"===k||"in"===k?k:void 0,fileType:a,onDesignOpen:l,
onDesignPublish:m,onDesignClose:b})}constructor(a){this.ia=a}};var zb=class{async initialize(a){await fb(this.ia,a)}async Va(a,b){const c=await fb(this.ia,a),d=a.designId,g=a.Fa,f=a.designTitle,e=a.publishLabel,h=a.width,k=a.height,l=a.units;a=a.fileType;const m=b.onDesignOpen,q=b.onDesignPublish;b=b.onDesignClose;d?c.editDesign({design:{id:d},editor:{publishLabel:e,fileType:a},onDesignOpen:m,onDesignPublish:q,onDesignClose:b}):c.createDesign({design:{type:g,title:f,dimensions:h&&k?{width:parseInt(h,10),height:parseInt(k,10),units:"px"===l||"cm"===l||"mm"===
l||"in"===l?l:void 0}:void 0},editor:{publishLabel:e,fileType:a},onDesignOpen:m,onDesignPublish:q,onDesignClose:b})}constructor(a){this.ia=a}};var xb=class{constructor(a){this.initialize=a}};var lb=class{la(){const a=this.config.Ma;a&&gb(this.window,a)()}constructor(a){this.window=window;this.config=a}};var ib=class{$(a,b){const c=this.config.sb;c&&gb(this.window,c)({designId:a,designTitle:b})}constructor(a){this.window=window;this.config=a}};var kb=class{aa(a,b,c){const d=this.config.Sa,g=this.config.rb;d&&gb(this.window,d)({exportUrl:a,designId:b,designTitle:c});g&&(c=gb(this.window,g),console.warn('[CanvaButton]: You are using "callback(exportUrl,designId)", which is obsolete and will be removed after the beta phase. Please use "data-on-publish-callback" and "callback({exportUrl,designId})" instead'),c(a,b))}constructor(a){this.window=window;this.config=a}};var hb=class{$(a,b){const c=this.config.ub;T(this.document,this.config.tb,a);T(this.document,c,b)}constructor(a,b){this.document=a;this.config=b}};var jb=class{aa(a,b,c){const d=this.config.Ta,g=this.config.wb;T(this.document,this.config.Ua,a);T(this.document,d,b);T(this.document,g,c)}constructor(a,b){this.document=a;this.config=b}};var ub=class{constructor(a,b,c){this.element=a;this.config=b;this.Ja=c;this.pb=async()=>{const d=Object.assign({},this.config,{designId:this.designId});this.Ja.Va(d,{onDesignOpen:this.$,onDesignPublish:this.aa,onDesignClose:this.la})};this.$=({designId:d,designTitle:g})=>{var f,e;this.designId=d;null===(e=this.qa)||void 0===e?void 0:null===(f=e.$)||void 0===f?void 0:f.call(e,d,g)};this.aa=({exportUrl:d,designId:g,designTitle:f})=>{var e,h;null===(h=this.qa)||void 0===h?void 0:null===(e=h.aa)||void 0===
e?void 0:e.call(h,d,g,f)};this.la=()=>{var d,g;null===(g=this.qa)||void 0===g?void 0:null===(d=g.la)||void 0===d?void 0:d.call(g)};b.designId&&(this.designId=b.designId)}};var qb=new Set(["dark","light","default"]),pb=new Set(["large","default","small","tiny"]),tb=a=>`data-${a.replace(/[A-Z]/g,b=>`-${b.toLowerCase()}`)}`;var nc={[0]:"[Canva Button SDK]",[1]:"[Canva Button SDK]",[2]:"[Canva Kiosk SDK]",[3]:"[Canva Partnership SDK]"};
(function(){null==window.Canva||null==window.Canva.DesignButton&&null==window.Canva.Partnership&&null==window.Canva._Kiosk||console.warn("[Canva] You are loading the SDK multiple times, and it's not necessary");window.CanvaButton=void 0;window.Canva={DesignButton:void 0,Partnership:void 0,_Kiosk:void 0};let a,b,c,d;try{({targetOrigin:a,I:b,La:c,B:d}=eb())}catch(g){if(g instanceof cb)console.error(nc[c||1]+" Please import the SDK following the way of the snippet provided at https://www.canva.com/button/documentation");
else throw g;return}switch(c){case 1:const g=(new fc({targetOrigin:a,H:window.location.origin,I:b,B:d})).Z();window.Canva={DesignButton:g};Bb(()=>{Ab(g.initialize)});break;case 0:const f=(new cc({targetOrigin:a,H:window.location.origin,I:b,B:d})).Z();window.CanvaButton=f;window.Canva={DesignButton:f};Bb(()=>{yb(f.initialize)});break;case 2:window.Canva={_Kiosk:(new ic({targetOrigin:a,H:window.location.origin,B:d})).Z()};break;case 3:window.Canva={Partnership:(new mc({targetOrigin:a,H:window.location.origin,
I:b,B:d})).Z()};break;default:throw new B(c);}})();
}).call(self, self._b29c9da8eca447e0ddc1ba56a939297d);
//# sourceMappingURL=sourcemaps/5c32c532c4e04e37.js.map