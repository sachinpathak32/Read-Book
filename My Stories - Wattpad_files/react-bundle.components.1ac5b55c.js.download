!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("moment"),require("_")):"function"==typeof define&&define.amd?define(["moment","_"],t):"object"==typeof exports?exports.components=t(require("moment"),require("_")):(e.app=e.app||{},e.app.components=t(e.moment,e._))}(window,(function(e,t){return function(e){function t(t){for(var r,i,s=t[0],l=t[1],c=t[2],d=0,m=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);m.length;)m.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={1:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;return o.push([163,0]),n()}([,,function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return u.a})),n.d(t,"g",(function(){return S})),n.d(t,"l",(function(){return d})),n.d(t,"o",(function(){return m.a})),n.d(t,"f",(function(){return p})),n.d(t,"m",(function(){return b})),n.d(t,"k",(function(){return E})),n.d(t,"j",(function(){return N})),n.d(t,"e",(function(){return y})),n.d(t,"h",(function(){return R})),n.d(t,"p",(function(){return k.b})),n.d(t,"i",(function(){return P})),n.d(t,"b",(function(){return U})),n.d(t,"n",(function(){return A})),n.d(t,"q",(function(){return x}));var r=n(0),a=n.n(r);var o=function(e){var t=e.isLoading,n=e.onSetDefault,a=Object(r.useRef)(!1),o=Object(r.useRef)();Object(r.useEffect)((function(){o.current=n}),[n]),Object(r.useEffect)((function(){a.current||t||(o.current(),a.current=!0),t&&(a.current=!1)}),[t,a])},i=n(1),s=n.n(i);function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=t}),[t]),Object(r.useEffect)((function(){if(e){var t=function(t){e&&e.contains(t.target)||n.current(t.target)};return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}}),[e])}l.propTypes={handleClickOutside:s.a.func.isRequired,ref:s.a.object.isRequired};var c=l,u=n(88);var d=function(e){var t=e.onThreshold,n=e.direction,a=void 0===n?"down":n,o=e.threshold,i=void 0===o?0:o,s=Object(r.useRef)(),l=Object(r.useRef)(0);Object(r.useEffect)((function(){s.current=t}),[t]),Object(u.a)("scroll",(function(){var e=function(e){var t,n=window.pageYOffset||document.documentElement.scrollTop;return t=n>e.current?"down":"up",e.current=n>0?n:0,t}(l);("down"===a&&"down"===e&&window.innerHeight+window.scrollY>=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight||0)-i||"up"===a&&"up"===e&&window.pageYOffset<=i)&&s.current()}))},m=n(57),f=n(41);function p(){return Object(r.useContext)(f.c)}function b(e){Object(r.useEffect)((function(){window.document.title=e}),[e])}function y(){return Object(r.useContext)(f.a)}var g=n(7),h=n(53),v=n(13),E=function(){var e=p(),t=Object(g.c)(),n=function(){return t(Object(v.b)())},r=function(t,n,r,o,i,s,l,c){return a.a.createElement(h.c,{reportType:t,triggerRef:c,requesterUsername:e.username,requesterEmail:e.email,reportId:{name:n,body:r,location:o,deepLink:i},hideModal:s,storyLanguage:l})},o=function(e,a,o,i,s,l){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",u=arguments.length>7?arguments[7]:void 0,d=function(){var e;n(),null==u||null===(e=u.current)||void 0===e||e.focus()};t(Object(v.b)({hideClose:!0,disableScroll:!0,disableClose:!0,className:"report-modal ".concat(c),useGlobalModalContainer:!0,component:function(){return r(e,a,o,i,s,d,l,u)}}))};return{openReportStoryModal:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;o(h.b.STORY,n,t,e,a,r)},openReportCommentModal:function(e,t,n,r,a,i){o(e,t,n,r,a,null,"report-comment-modal",i)},openReportModal:o}},w=n(14),O=n.n(w),S=function(e){var t=e.hasMore,n=e.isDisabled,a=e.onLoadMore,o=e.scrollOffset,i=e.scrollableRef,s=null==i?void 0:i.current,l=O.a.throttle((function(){s.scrollHeight-s.scrollTop<=s.clientHeight+o&&t&&!n&&a()}),300);Object(r.useEffect)((function(){if(s)return s.addEventListener("scroll",l),function(){return s.removeEventListener("scroll",l)}}),[t,n,a])};function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=function(){var e=C(Object(r.useState)(new URLSearchParams),2),t=e[0],n=e[1];return Object(r.useEffect)((function(){n(new URLSearchParams(window.location.search))}),[]),t},k=n(123),T=n(34),P=function(){var e=Object(g.c)();return{handleClosePopover:function(t){var n;null===(n=t.current)||void 0===n||n.focus(),e(Object(T.a)())},handleOpenPopover:function(t,n,r,a){e(Object(T.c)({component:t,triggerRef:n,passthroughProps:a,contentClass:r}))}}},_=n(20),R=function(e){var t=Object(m.a)().trans,n=Object(g.c)(),a=U().openConfirmModal,o=Object(g.d)((function(e){return e.profileData.mutedUsers})),i=Object(r.useRef)(!0);Object(r.useEffect)((function(){if(i.current)i.current=!1;else if(e&&o&&o.length>0){var t=o[o.length-1].username;e(t)}}),[o]);return{openMuteUserModal:function(e,r,o){a({contentText:t("This account will not be able to follow you, send you messages, post on your profile or comment on your stories. This action can take 30 minutes to take effect."),title:t("Mute %s",e),confirmLabel:t("Mute"),declineLabel:t("Cancel"),onConfirmClick:function(){return n(Object(_.f)(e,o))},openTriggerRef:r})},openUnmuteUserModal:function(e,r,o){a({contentText:t("This account will now be able to follow you, send you messages, post on your profile and comment on your stories. This action can take 30 minutes to take effect."),title:t("Unmute %s",e),confirmLabel:t("Unmute"),declineLabel:t("Cancel"),onConfirmClick:function(){return n(Object(_.k)(e,o))},openTriggerRef:r})}}},I=n(67),A=function(){var e=Object(g.c)(),t=(0,Object(m.a)().trans)("Sign up to comment and interact with the largest storytelling community"),n=function(){return a.a.createElement(I.a,{nextUrl:window.location.href,title:t})};return{openSignupModal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e(Object(v.b)({className:"signup-modal ".concat(t),disableScroll:!0,useGlobalModalContainer:!0,component:function(){return n()}}))}}},x=function(){var e=p(),t=A().openSignupModal;return{userNeedsVerification:function(){return e.username?!e.verified_email&&(wattpad.utils.showPleaseVerifyModal(),!0):(t("comments-signup-modal"),!0)}}},L=n(6),M=function(e){var t=e.title,n=e.triggerRef,o=e.contentText,i=e.confirmLabel,s=e.declineLabel,l=e.onConfirmClick,c=e.onDeclineClick,u=Object(m.a)().trans,d=Object(r.useRef)();return Object(k.b)(d.current,n.current),a.a.createElement("div",{className:"confirm-modal",ref:d},t&&a.a.createElement("h3",{className:"title"},t),o&&a.a.createElement("p",{className:"content-text"},o),a.a.createElement("div",{className:"confirm-buttons"},a.a.createElement(L.Button,{onClick:c,variant:L.ButtonVariant.SECONDARY,label:s||u("No"),fullWidth:!0}),a.a.createElement(L.Button,{onClick:l,label:i||u("Yes"),fullWidth:!0})))};M.propTypes={onConfirmClick:s.a.func.isRequired,onDeclineClick:s.a.func.isRequired,title:s.a.string,triggerRef:s.a.object,contentText:s.a.string,confirmLabel:s.a.string,declineLabel:s.a.string};var D=M,U=function(){var e=Object(g.c)(),t=function(){return e(Object(v.b)())};return{openConfirmModal:function(n){var r=n.title,o=n.contentText,i=n.confirmLabel,s=n.declineLabel,l=n.onConfirmClick,c=n.openTriggerRef,u=function(){t(),l()},d=function(){var e;t(),null===(e=c.current)||void 0===e||e.focus()};e(Object(v.b)({hideClose:!0,useGlobalModalContainer:!0,className:"confirm-modal-container",component:function(){return function(e,t,n,r,o,i,s){return a.a.createElement(D,{title:e,contentText:t,confirmLabel:n,declineLabel:r,onConfirmClick:o,onDeclineClick:i,triggerRef:s})}(r,o,i,s,u,d,c)}}))}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"q",(function(){return ht})),n.d(t,"c",(function(){return j.a})),n.d(t,"g",(function(){return re.a})),n.d(t,"k",(function(){return de})),n.d(t,"m",(function(){return fe})),n.d(t,"r",(function(){return Te.a})),n.d(t,"s",(function(){return qe})),n.d(t,"u",(function(){return Ve})),n.d(t,"t",(function(){return Ct})),n.d(t,"o",(function(){return O})),n.d(t,"v",(function(){return rt.a})),n.d(t,"f",(function(){return ne})),n.d(t,"w",(function(){return et})),n.d(t,"i",(function(){return ct})),n.d(t,"b",(function(){return pt})),n.d(t,"h",(function(){return bt.a})),n.d(t,"n",(function(){return yt.a})),n.d(t,"e",(function(){return tt.a})),n.d(t,"p",(function(){return nt.a})),n.d(t,"l",(function(){return Pt})),n.d(t,"j",(function(){return jt.b})),n.d(t,"d",(function(){return At}));var r=n(7),a=n(700),o=n(1),i=n.n(o),s=n(40),l=n.n(s),c=n(4),u=n.n(c),d=n(0),m=n.n(d),f=n(2),p=n(34);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){var t=e.popoverProps,n=e.closePopover,r=t.triggerRef,o=t.component,i=t.passthroughProps,s=void 0===i?{}:i,c=t.contentClass,p=v(Object(d.useState)(),2),b=p[0],y=p[1];return Object(f.p)(b,null==r?void 0:r.current,n),Object(f.a)(b,(function(e){r&&(e===r.current||r.current.contains(e)||n())})),r&&o?l.a.createPortal(m.a.createElement(a.a,h({innerRef:function(e){return y(e)},referenceElement:r.current,strategy:"fixed"},s),(function(e){var t=e.placement,r=e.ref,a=e.style,i=e.arrowProps;return m.a.createElement("div",{className:u()("react-popover-content",c),ref:r,style:a,"data-placement":t},o&&o({closePopover:n}),s.showArrow&&m.a.createElement("div",{className:"react-popover-arrow",ref:i.ref,style:i.style}))})),document.querySelector("#react-popover")):null}w.propTypes={popoverProps:i.a.shape({triggerRef:i.a.object,component:i.a.func,passthroughProps:i.a.object}).isRequired};var O=Object(r.b)((function(e){return{popoverProps:y({},e.popover.popoverProps)}}),{closePopover:p.a})(w),S=function(e){var t=e.avatar,n=e.username;return m.a.createElement("img",{src:t,"aria-hidden":"true",alt:n})};S.propTypes={avatar:i.a.string.isRequired,username:i.a.string.isRequired};var C=S,j=n(29);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var a=A(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(o,e);var t,n,r,a=P(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),x(I(t=a.call(this,e)),"onChange",(function(e){e.preventDefault(),t.props.onChange(e.target.value,t.props.id)})),x(I(t),"onBlur",(function(e){t.setState({hasBlurred:!0}),t.props.onBlur(e)})),t.state={hasBlurred:!1},t}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.labelText,r=e.type,a=e.required,o=e.value,i=e.pattern,s=e.onFocus,l=e.onInvalid,c=e.classes,d=e.placeholder,f=e.autoFocus,p=this.state.hasBlurred,b="float-label-container ".concat(c),y=u()({empty:!o,hasBlurred:p});return m.a.createElement("div",{className:b},m.a.createElement("input",{className:y,id:t,onChange:this.onChange,placeholder:d,pattern:i,type:r,required:a,value:o,onBlur:this.onBlur,onFocus:s,onInvalid:l,autoFocus:f}),m.a.createElement("label",{htmlFor:t},n))}}])&&k(t.prototype,n),r&&k(t,r),o}(m.a.Component);L.defaultProps={type:"text",required:!1,onChange:function(){},onBlur:function(){},onInvalid:function(){},onFocus:function(){},placeholder:"",classes:"",autoFocus:!1},L.propTypes={id:i.a.string.isRequired,labelText:i.a.string.isRequired,value:i.a.string.isRequired,type:i.a.string,pattern:i.a.string,onChange:i.a.func,onBlur:i.a.func,onInvalid:i.a.func,onFocus:i.a.func,classes:i.a.string,placeholder:i.a.string,required:i.a.bool,autoFocus:i.a.bool};var M=n(47);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var a=H(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return W(this,n)}}function W(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var V,Y,G,z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(o,e);var t,n,r,a=B(o);function o(){return U(this,o),a.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){return!1===this.props.isValid&&"month"!==this.props.name&&"day"!==this.props.name&&"year"!==this.props.name?m.a.createElement("div",{"aria-live":"assertive",className:u()("error-msg"),role:"alert"},this.props.errorMessage):null}}])&&q(t.prototype,n),r&&q(t,r),o}(d.Component);function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var a=ee(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return J(this,n)}}function J(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?Q(e):t}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}V=z,Y="propTypes",G={name:i.a.string,isValid:i.a.bool,errorMessage:i.a.string},Y in V?Object.defineProperty(V,Y,{value:G,enumerable:!0,configurable:!0,writable:!0}):V[Y]=G;var ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(n,e);var t=X(n);function n(){var e;K(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return te(Q(e=t.call.apply(t,[this].concat(a))),"render",(function(){var t,n,r=e.props,a=r.autofocus,o=r.className,i=r.errorMessage,s=r.form,l=r.hasValidation,c=r.inputType,d=r.isValid,f=r.label,p=r.name,b=r.title,y=r.alt_msg,g=r.inputRef,h=r.onBlur,v=r.onChange,E=r.showLabel,w=r.showVisibilityToggle,O="".concat(s,"-").concat(p),S=u()("form-group","has-feedback","".concat(p),(te(t={},o,!!o),te(t,"valid",!0===d),te(t,"invalid",!1===d),t));return n="month"==p||"year"==p||"day"==p?y:b&&!d?i:b,m.a.createElement("div",{className:S,"data-attr":p,key:p},E&&m.a.createElement("span",{className:"form-label","aria-hidden":"true"},f),m.a.createElement("label",{className:"control-label sr-only",htmlFor:O,"aria-hidden":"true"},f),m.a.createElement(M.a,{inputType:c,name:p,id:O,alt:n,label:f,inputRef:g,placeholder:b,onBlur:h,onChange:v,autofocus:a,showVisibilityToggle:w,isValid:d}),l&&m.a.createElement(z,{isValid:d,errorMessage:i,name:p}))})),e}return n}(d.Component);te(ne,"propTypes",{autofocus:i.a.bool,className:i.a.string,form:i.a.string,hasValidation:i.a.bool,inputType:i.a.string,isValid:i.a.bool,label:i.a.string,errorMessage:i.a.string,name:i.a.string,onBlur:i.a.func,onChange:i.a.func,showLabel:i.a.bool,showVisibilityToggle:i.a.bool,title:i.a.string,alt_msg:i.a.string,inputRef:i.a.object});var re=n(10);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ue(e);if(t){var a=ue(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ce(this,n)}}function ce(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(o,e);var t,n,r,a=le(o);function o(){return oe(this,o),a.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props.headerName,t=this.props.options;return m.a.createElement("ul",{className:"menu-options"},t.map((function(t){return m.a.createElement("li",{key:t.key},m.a.createElement(re.a,{iconName:"fa-right",height:"16",color:"wp-neutral-1"}),"Browse"===e?m.a.createElement("a",{href:t.url,className:"on-navigate on-topic"},t.name):m.a.createElement("a",{href:t.url,className:"on-navigate"},t.name))})))}}])&&ie(t.prototype,n),r&&ie(t,r),o}(m.a.Component);de.propTypes={headerName:i.a.string,options:i.a.array.isRequired};var me=m.a.forwardRef((function(e,t){return m.a.createElement("button",{ref:t,className:"btn btn-white dropdown-toggle profile-more-options","data-toggle":"dropdown","aria-controls":"profile-more-options","aria-expanded":"false","aria-label":"more options",role:"menuitem"},m.a.createElement(re.a,{name:"more",size:"16",className:"more-icon"}))}));me.displayName="MoreOptions",me.propTypes={onClick:i.a.func};var fe=me,pe=n(107);function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ye(e){return function(e){if(Array.isArray(e))return Oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||we(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||we(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){if(e){if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(e,t):void 0}}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Se(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ce(e){var t=e.children,n=e.defaultSelectedItems,r=e.onChange,a=e.isLoading,o=Se(e,["children","defaultSelectedItems","onChange","isLoading"]),i=Ee(Object(d.useState)(n),2),s=i[0],l=i[1];function c(e){var t=s.filter((function(t){return t!==e}));l(t),r&&r(t)}return Object(f.c)({isLoading:a,onSetDefault:function(){l(n)}}),m.a.createElement(pe.a,be({},o,{stateReducer:function(e,t){switch(t.type){case pe.a.stateChangeTypes.keyDownEnter:case pe.a.stateChangeTypes.clickItem:return he(he({},t),{},{highlightedIndex:e.highlightedIndex,isOpen:!0,inputValue:""});default:return t}},onChange:function(e){var t,n;s.includes(e)?c(e):(t=e,n=[].concat(ye(s),[t]),l([].concat(ye(s),[t])),r&&r(n))},selectedItem:null}),(function(e){return t(function(e){return he({removeItem:c,selectedItems:s},e)}(e))}))}function je(e){var t=e.placeholder,n=e.itemToString,r=e.handleChange,a=e.getItems,o=e.defaultSelectedItems,i=e.disabled,s=e.isLoading,l=e.className,c=e.maxLimit,p=Object(f.o)().trans,b=Object(d.useRef)();return m.a.createElement(Ce,{isLoading:s,defaultSelectedItems:o,onChange:r,itemToString:n},(function(e){var n,r=e.getInputProps,o=e.getToggleButtonProps,s=e.removeItem,d=e.isOpen,f=e.inputValue,y=e.selectedItems,g=e.getItemProps,h=e.toggleMenu;return m.a.createElement("div",{className:u()("multi-select-container",{disabled:i},l)},m.a.createElement("div",{className:u()("multi-select",{disabled:i||y.length>c}),role:"button",tabIndex:"0",style:{borderBottomRightRadius:d?0:6,borderBottomLeftRadius:d?0:6},onClick:function(){h(),!d&&b.current.focus()}},m.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",flex:1}},y.length>0?y.map((function(e){return m.a.createElement("div",{key:e.id,className:"multi-select-item-container"},m.a.createElement("div",{className:"multi-select-grid"},m.a.createElement("span",null,e.name),m.a.createElement("button",{type:"button",className:"multi-select-remove-btn",onClick:function(t){t.stopPropagation(),s(e),b.current.focus(),!d&&h()}},m.a.createElement(re.a,{iconName:"fa-remove",height:"12",color:"wp-neutral-2"}))))})):d?"":t||p("Select items"),m.a.createElement("input",r({ref:b,onKeyDown:function(e){if("Enter"===e.key)return e.preventDefault(),void e.stopPropagation();"Backspace"!==e.key||f||(s(y[y.length-1]),!d&&h())},className:"multi-select-search-input"}))),m.a.createElement("div",be({className:"multi-select-toggle-btn"},o({onClick:function(e){e.stopPropagation()}})),m.a.createElement(re.a,{iconName:d?"fa-up":"fa-down",height:"12",color:"wp-neutral-2"}))),m.a.createElement("div",{className:u()("multi-select-menu",{"is-open":d},{disabled:i||y.length>c})},d?0===(n=a(f).filter((function(e){return!y.find((function(t){return t.id===e.id}))}))).length?m.a.createElement("div",{className:"multi-select-menu-item disabled"},p("No options")):n.map((function(e,t){return m.a.createElement("div",be({key:e.id,className:"multi-select-menu-item"},g({item:e,index:t})),e.name)})):null))}))}Ce.propTypes={children:i.a.func,onChange:i.a.func,isLoading:i.a.bool,defaultSelectedItems:i.a.array},je.defaultProps={itemToString:function(e){return e?e.name:""},defaultSelectedItems:[]},je.propTypes={disabled:i.a.bool,isLoading:i.a.bool,itemToString:i.a.func.isRequired,handleChange:i.a.func.isRequired,placeholder:i.a.string,className:i.a.string,maxLimit:i.a.number,getItems:i.a.func.isRequired,defaultSelectedItems:i.a.array};n(71);var Ne={full:{url:"/img/premium-branding/premium-logo-full.png",aspectRatio:.1678},full_orange:{url:"/img/premium-branding/premium-logo-full-orange.png",aspectRatio:.1656},short:{url:"/img/premium-branding/premium-logo-short.png",aspectRatio:.4722},short_grey:{url:"/img/premium-branding/premium-logo-short-grey.png",aspectRatio:.4722},short_white:{url:"/img/premium-branding/premium-logo-short-white.png",aspectRatio:.4722},letter_grey:{url:"/img/premium-branding/premium-logo-letter-grey.png",aspectRatio:.8667}},ke=function(e){var t=e.width,n=e.variant,r=Ne[n];if(!r)throw new Error("Variant ".concat(n," unknown"));var a=r.url,o=r.aspectRatio*t;return m.a.createElement("img",{style:{height:"".concat(o,"px"),width:"".concat(t,"px")},src:a,alt:"wattpad premium logo"})};ke.propTypes={width:i.a.string.isRequired,variant:i.a.string.isRequired};var Te=n(121);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Me(e);if(t){var a=Me(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Le(this,n)}}function Le(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var De=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(o,e);var t,n,r,a=xe(o);function o(){return Re(this,o),a.apply(this,arguments)}return t=o,(n=[{key:"formatSocialShareVisible",value:function(e){return e?e.map((function(e){return m.a.createElement(Ue,_e({},e,{isVisible:!0,key:e.name}))})):null}},{key:"formatSocialShareHidden",value:function(e){return e?m.a.createElement("div",{className:"button-group relative inline-block more"},m.a.createElement("button",{className:"btn btn-no-background dropdown-toggle btn-left-align","data-toggle":"dropdown"},m.a.createElement(re.a,{iconName:"fa-more",height:"24",color:"wp-neutral-3"})),m.a.createElement("div",{className:"triangle"}),m.a.createElement("ul",{className:"dropdown-menu"},e.map((function(e){return m.a.createElement("li",{key:e.name},m.a.createElement(Ue,_e({},e,{isVisible:!1,key:e.name})))})))):null}},{key:"render",value:function(){var e=this.props.socialShareVisible||this.props.socialLinks,t=this.props.socialShareHidden;return m.a.createElement("div",{className:"SocialSharing"},this.formatSocialShareVisible(e),this.formatSocialShareHidden(t))}}])&&Ie(t.prototype,n),r&&Ie(t,r),o}(d.Component);De.propTypes={socialShareVisible:i.a.arrayOf(i.a.object),socialLinks:i.a.arrayOf(i.a.object),socialShareHidden:i.a.arrayOf(i.a.object)};var Ue=function(e){var t=e.name,n=e.href,r=e.icon,a=e.isVisible,o=e.nopopup,i=e.label,s=e.content,l=e.text,c=e.url,d=e.urlTemplate;return m.a.createElement("a",{"data-gtm-action":"share:".concat(t),rel:"nofollow noreferrer",className:u()("share-".concat(t),{"social-share":!o}),target:o?"":"_blank",href:n,"data-share-channel":t,"data-share-url":d,"data-url":c,"data-share-text":l,"data-share-content":s},m.a.createElement(re.a,{iconName:r,height:a?"24":"20",color:a?"wp-neutral-5":"wp-neutral-2",className:u()({"pull-left":!a})}),a?"":i)};Ue.defaultProps={nopopup:!1,content:"",text:"",url:"",urlTemplate:""},Ue.propTypes={name:i.a.string.isRequired,href:i.a.string.isRequired,isVisible:i.a.bool.isRequired,icon:i.a.string.isRequired,label:i.a.string.isRequired,nopopup:i.a.bool,content:i.a.string,text:i.a.string,url:i.a.string,urlTemplate:i.a.string};var qe=De,Fe=n(128);function Be(e){var t=e.username,n=e.isMutedByCurrentUser,r=e.isBlockedByCurrentUser,a=e.onUserMuted,o=e.onUserUnmuted,i=e.onBlockUser,s=e.onUnblockUser,l=e.onDeleteConversation,c=e.onReportUser,u=e.showBlockOption,d=e.showModerationOptions,p=Object(f.o)().trans,b=null!=n;return m.a.createElement("div",{className:"user-safety-operations"},d&&b&&!r&&m.a.createElement(We,{username:t,isMutedByCurrentUser:n,onUserMuted:a,onUserUnmuted:o}),d&&u&&void 0!==r&&m.a.createElement(He,{username:t,isBlockedByCurrentUser:r,onBlockUser:function(){return i(t)},onUnblockUser:function(){s(t)}}),c&&m.a.createElement("button",{onClick:c,className:"on-report user-safety-operation btn-no-background btn-left-icon","data-username":t},m.a.createElement(re.a,{name:"report"}),p("Report")),l&&m.a.createElement("button",{onClick:l,className:"user-safety-operation btn-no-background btn-left-icon delete"},m.a.createElement(re.a,{name:"trash"}),p("Delete Conversation")),m.a.createElement(Fe.a,null))}function We(e){var t=e.isMutedByCurrentUser,n=e.username,r=e.onUserUnmuted,a=e.onUserMuted,o=Object(f.o)().trans,i=Object(d.useRef)(),s=Object(f.h)(),l=s.openMuteUserModal,c=s.openUnmuteUserModal;return m.a.createElement(m.a.Fragment,null,t?m.a.createElement("button",{onClick:function(){return c(n,i,r)},className:"user-safety-operation btn-no-background btn-left-icon unmute"},m.a.createElement(re.a,{name:"unmute"}),o("Unmute %s",n)):m.a.createElement("button",{ref:i,onClick:function(){return l(n,i,a)},className:"user-safety-operation btn-no-background btn-left-icon mute"},m.a.createElement(re.a,{name:"mute"}),o("Mute %s",n)))}function He(e){var t=e.isBlockedByCurrentUser,n=e.onBlockUser,r=e.onUnblockUser,a=e.username,o=Object(f.o)().trans;return m.a.createElement(m.a.Fragment,null,t?m.a.createElement("button",{onClick:r,className:"user-safety-operation btn-no-background btn-left-icon unblock"},m.a.createElement(re.a,{name:"block",strokeWidth:"0",viewBox:"16"}),o("Unblock %s",a)):m.a.createElement("button",{onClick:n,className:"user-safety-operation btn-no-background btn-left-icon block"},m.a.createElement(re.a,{name:"block",strokeWidth:"0",viewBox:"16"}),o("Block %s",a)))}Be.propTypes={username:i.a.string.isRequired,onDeleteConversation:i.a.func,isMutedByCurrentUser:i.a.bool,isBlockedByCurrentUser:i.a.bool,onUserMuted:i.a.func,onUserUnmuted:i.a.func,onBlockUser:i.a.func,onUnblockUser:i.a.func,onReportUser:i.a.func,showBlockOption:i.a.any,showModerationOptions:i.a.bool},We.propTypes={username:i.a.string.isRequired,isMutedByCurrentUser:i.a.bool.isRequired,onUserMuted:i.a.func,onUserUnmuted:i.a.func},He.propTypes={username:i.a.string.isRequired,isBlockedByCurrentUser:i.a.bool.isRequired,onBlockUser:i.a.func.isRequired,onUnblockUser:i.a.func.isRequired};var Ve=Be;function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Je(e);if(t){var a=Je(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ze(this,n)}}function Ze(e,t){return!t||"object"!==Ye(t)&&"function"!=typeof t?Xe(e):t}function Xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var et=function(e){var t,n;return n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}(r,t);var n=Ke(r);function r(){var t;ze(this,r);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return Qe(Xe(t=n.call.apply(n,[this].concat(o))),"state",{isValid:null,errorMessage:""}),Qe(Xe(t),"componentDidMount",(function(){t.props.validationModel&&(t.props.validationModel.on("attr:invalid",t.onInvalid,Xe(t)),t.props.validationModel.on("attr:valid",t.onValid,Xe(t)))})),Qe(Xe(t),"componentWillUnmount",(function(){t.props.validationModel&&(t.props.validationModel.off("attr:invalid"),t.props.validationModel.off("attr:valid"))})),Qe(Xe(t),"setAndValidate",(function(e){var n=t.props.validationModel;n.set(t.props.name,e.target.value),n.validate(t.props.name)})),Qe(Xe(t),"onInvalid",(function(e,n){e===t.props.name&&(t.setState({isValid:!1,errorMessage:n}),t.props.onInvalid&&t.props.onInvalid(n,e))})),Qe(Xe(t),"onValid",(function(e){e===t.props.name&&("email"===e?t.setState({isValid:null}):t.setState({isValid:!0}),t.props.onValid&&t.props.onValid(e))})),Qe(Xe(t),"render",(function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement(e,Ge({},t.props,{hasValidation:!0,isValid:t.state.isValid,onBlur:function(e){var n,r;t.setAndValidate(e),null===(n=(r=t.props).onBlur)||void 0===n||n.call(r)},onChange:function(e){var n,r;t.props.validateOnChange&&t.setAndValidate(e),null===(n=(r=t.props).onChange)||void 0===n||n.call(r)},errorMessage:t.state.errorMessage})))})),t}return r}(d.Component),Qe(t,"propTypes",{name:i.a.string,validateOnChange:i.a.bool,validationModel:i.a.shape({on:i.a.func,off:i.a.func,set:i.a.func,validate:i.a.func}),onInvalid:i.a.func,onValid:i.a.func,onChange:i.a.func,onBlur:i.a.func}),n},tt=n(118),nt=n(66),rt=n(122),at=n(11);function ot(){return(ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ct(e){var t,n=e.animationId,r=e.animationOptions,a=e.onAnimationLoad,o=lt(e,["animationId","animationOptions","onAnimationLoad"]),i=function(){var e=document.getElementById(n),t=window.bodymovin.loadAnimation(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){st(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({wrapper:e},r));t.addEventListener("DOMLoaded",(function(){a&&a(t),t.removeEventListener("DOMLoaded")}))};return t=function(){if(window.bodymovin)i();else{var e,t=document.getElementById("lottie-script");t||((e=document.createElement("script")).src="".concat(at.a,"/js/lottie.js"),e.id="lottie-script",document.head.appendChild(e),t=e),t.addEventListener("load",(function e(){i(),t.removeEventListener("load",e,!1)}))}},Object(d.useEffect)(t,[]),m.a.createElement("div",ot({id:n},o))}function ut(){return(ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ft(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function pt(e){var t=e.onChange,n=e.defaultValue,r=ft(e,["onChange","defaultValue"]),a=dt(Object(d.useState)(n||!1),2),o=a[0],i=a[1];return m.a.createElement("button",ut({className:u()("react-checkbox btn-no-style",{checked:o}),onClick:function(e){e.stopPropagation(),e.preventDefault(),t(!o),i(!o)}},r),o&&m.a.createElement(re.a,{name:"check",color:"wp-neutral-5",size:16}))}ct.propTypes={animationId:i.a.string.isRequired,animationOptions:i.a.object.isRequired,onAnimationLoad:i.a.func},pt.defaultProps={onChange:function(){},defaultValue:!1},pt.propTypes={onChange:i.a.func,defaultValue:i.a.bool};var bt=n(70),yt=n(37),gt=function(e){var t=e.partId,n=e.storyId,r=e.storyTitle,a=e.author,o=e.language,i=Object(f.o)().trans,s=Object(f.k)().openReportStoryModal;return m.a.createElement("button",{className:"btn-option",onClick:function(){s(n,r,a,o,t)}},m.a.createElement(re.a,{iconName:"fa-warning",color:"wp-neutral-2",height:"20",className:"pull-left"}),i("Report Story"))};gt.propTypes={partId:i.a.string.isRequired,storyId:i.a.string.isRequired,storyTitle:i.a.string,author:i.a.string,language:i.a.string};var ht=gt,vt=n(15),Et=n(5),wt=n(22),Ot=n(72),St=function(e){var t=e.className,n=e.currentPartIsBlocked,r=e.group,a=e.part,o=e.title,i=e.draft,s=e.readCount,l=e.voteCount,c=Object(f.o)(),d=c.ngettext,p=c.trans;if(!a)return null;var b=a.bonusType,y=a.bonusTypeName,g=a.authorNote,h=a.chapterDescription,v=a.wordCount,E=a.commentCount,w=Object(Et.c)(Object(Et.l)(v));return m.a.createElement("div",{className:"bonus-part-header container"},m.a.createElement("div",{className:"row part-header"},m.a.createElement("div",{className:"col-sm-12 col-md-8 col-lg-8 col-md-offset-2 col-lg-offset-2"},m.a.createElement("header",{className:u()(t,"panel panel-bonus-header text-center")},!isNaN(b)&&m.a.createElement("div",{className:"bonus-type"},b===at.c.EXCLUSIVE_CHAPTER&&m.a.createElement(re.a,{className:"stats-label__icon exclusive-chapter-icon",name:"exclusiveChapter",size:22,color:"ds-base-2-60",fillColor:"ds-base-2-60",viewBox:22}),b===at.c.WRITER_REVEAL&&m.a.createElement(re.a,{className:"stats-label__icon writer-reveal-icon",name:"writerReveal",size:22,color:"ds-base-2-60",viewBox:22}),y),m.a.createElement("h1",{className:"h2 title"},o,i&&m.a.createElement("span",{className:"draft-tag"}," (",p("Draft"),")")),!i&&h&&m.a.createElement("div",{className:"chapter-description"},h),!i&&n&&m.a.createElement("div",{className:"bonus-part-stats"},m.a.createElement(Ot.a,{statsItems:[{icon:"readTime",label:p("Time"),size:16,viewBox:16,hoursVal:w.hours,minutesVal:w.minutes},{icon:"commentStats",label:p("Comments"),size:16,viewBox:16,value:E}],className:"hidden-xxs",showTooltip:!0})),!i&&!n&&m.a.createElement("div",{className:"story-stats"},m.a.createElement("span",{className:"stat-item reads"},m.a.createElement("span",{className:"fa fa-view fa-wp-neutral-2"}),Object(wt.a)({value:Object(Et.b)(s),tooltip:Object(vt.sprintf)(d("%s Read","%s Reads",parseInt(s).toLocaleString()),parseInt(s).toLocaleString()),ariaHidden:!0})),m.a.createElement("span",{className:"stat-item votes"},m.a.createElement("span",{className:"fa fa-vote fa-wp-neutral-2"}),Object(wt.a)({value:Object(Et.b)(l),tooltip:Object(vt.sprintf)(d("%s Vote","%s Votes",parseInt(l).toLocaleString()),parseInt(l).toLocaleString()),ariaHidden:!0})),m.a.createElement("span",{className:"stat-item comments on-comments"},m.a.createElement("span",{className:"fa fa-comment fa-wp-neutral-2"}),m.a.createElement("button",{type:"button",className:"btn-link"},Object(wt.a)({value:E,tooltip:Object(vt.sprintf)(d("%s Comment","%s Comments",E),E),ariaHidden:!0})))),!i&&g&&b===at.c.EXCLUSIVE_CHAPTER&&m.a.createElement("div",{className:"author-note"},m.a.createElement("div",{className:"author-header"},p("Author's Note"),m.a.createElement("div",{className:"author"},m.a.createElement("img",{className:"author-avatar on-hover","data-toggle":"tooltip","data-placement":"right",title:"Writer: ".concat(r.user.username),alt:"Writer: ".concat(r.user.username),src:Object(Et.s)(r.user.avatar,16)}),r.user.username)),m.a.createElement("div",{className:"note"},g)),m.a.createElement("div",{className:u()("divider",{"is-draft":i})})))))};St.propTypes={className:i.a.string,id:i.a.number.isRequired,currentPartIsBlocked:i.a.bool,group:i.a.shape({user:i.a.shape({avatar:i.a.string.isRequired,username:i.a.string.isRequired})}),part:i.a.shape({bonusType:i.a.number,bonusTypeName:i.a.string,authorNote:i.a.string,chapterDescription:i.a.string,wordCount:i.a.number,commentCount:i.a.number}),title:i.a.string,draft:i.a.bool,readCount:i.a.number,voteCount:i.a.number};var Ct=St,jt=n(28);function Nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tt=Object(d.forwardRef)((function(e,t){var n=e.id,r=e.children,a=e.showModal,o=e.onClose,i=e.onOpen,s=Nt(Object(d.useState)(a||!1),2),c=s[0],u=s[1],p=Nt(Object(d.useState)({}),2),b=p[0],y=p[1],g=Nt(Object(d.useState)(),2),h=g[0],v=g[1],E=Nt(Object(d.useState)(),2),w=E[0],O=E[1],S=Object(d.useCallback)((function(e){O(e)}),[O]),C=Object(d.useCallback)((function(){window.wattpad.modals&&!c&&_.each(window.wattpad.modals,(function(e,t){var r=window.wattpad.modals[t];r.id!=n&&r.isOpen()&&window.wattpad.modals[t].hide()})),document.body.classList.add("modal-open"),v(document.activeElement),u(!0),i&&i()}),[n,c,u,v]),j=Object(d.useCallback)((function(){document.body.classList.remove("modal-open"),null==h||h.focus(),u(!1)}),[h,u]),N=Object(d.useCallback)((function(e){return"Escape"===e.key&&j()}),[j]);return Object(d.useImperativeHandle)(t,(function(){return{isOpen:c,hide:j,show:C,setData:y,data:b}})),Object(f.p)(w),Object(d.useEffect)((function(){if(window.wattpad.utils.registerModal(n,jt.c.DS_MODAL,{isOpen:function(){return c},show:C,hide:j,setData:y,data:b}),c)return window.addEventListener("tap",N),window.addEventListener("keydown",N),function(){window.removeEventListener("tap",N),window.removeEventListener("keydown",N)}}),[n,c,C,j,N]),c?l.a.createPortal(m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{id:"".concat(n,"-overlay"),className:"modal-overlay"}),m.a.createElement("div",{id:n,className:"modal-wrapper",ref:S},m.a.createElement("div",{className:"modal-container"},m.a.createElement("button",{type:"button",className:"modal-close-button",onClick:function(){y({}),o&&o(),j()}},m.a.createElement(re.a,{className:"modal-close-icon",name:"modalClose",size:14,strokeWidth:"0",fillColor:"ds-neutral-80",viewBox:14,"aria-hidden":!0})),r))),document.querySelector("#react-modal")):null}));Tt.displayName="Modal",Tt.propTypes={id:i.a.string.isRequired,children:i.a.any,showModal:i.a.bool,onClose:i.a.func,onOpen:i.a.func};var Pt=Tt;function _t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var It=function(e){var t=e.className,n=e.date,r=e.timezone,a=e.showDays,o=e.showHours,i=e.showMinutes,s=e.showSeconds,l=e.updateInterval,c=e.onComplete,f=function(e){var t=new Date(e||Date.now()).toLocaleString("en-US",{timeZone:r});return new Date(t).getTime()},p=Object(d.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e=e>0?e:0;var t=1e3,n=60*t,r=60*n,l=24*r,c="";return a&&(c+=" ".concat(Math.floor(e/l),"d")),o&&(c+=" ".concat(Math.floor(e%l/r),"h")),i&&(c+=" ".concat(Math.floor(e%r/n),"m")),s&&(c+=" ".concat(Math.floor(e%n/t),"s")),c.slice(1)}),[a,o,i,s]),b=f(),y=f(n),g=_t(Object(d.useState)(y-b),2),h=g[0],v=g[1],E=_t(Object(d.useState)(p()),2),w=E[0],O=E[1],S=Object(d.useRef)(!1),C=Object(d.useRef)(null),j=Object(d.useCallback)((function(){var e=h<=0;O(p(e?0:h)),C.current=setTimeout((function(){e?S.current||(S.current=!0,c&&c()):v(h-1e3*l)}),1e3*l)}),[l,c,h,S,p,O,v]);return Object(d.useEffect)((function(){return j(),function(){clearTimeout(C.current)}}),[j]),m.a.createElement("span",{className:u()("countdown",t)},w)};It.defaultProps={timezone:"America/New_York",showDays:!1,showHours:!1,showMinutes:!1,showSeconds:!1,updateInterval:1,onComplete:function(){}},It.propTypes={className:i.a.string,date:i.a.object.isRequired,timezone:i.a.string,showDays:i.a.bool,showHours:i.a.bool,showMinutes:i.a.bool,showSeconds:i.a.bool,updateInterval:i.a.number,onComplete:i.a.func};var At=It},,function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"o",(function(){return m.a})),n.d(t,"p",(function(){return p})),n.d(t,"q",(function(){return g})),n.d(t,"r",(function(){return h})),n.d(t,"s",(function(){return H})),n.d(t,"t",(function(){return E})),n.d(t,"u",(function(){return f})),n.d(t,"x",(function(){return w})),n.d(t,"w",(function(){return O.b})),n.d(t,"m",(function(){return O.a})),n.d(t,"n",(function(){return x})),n.d(t,"v",(function(){return L})),n.d(t,"k",(function(){return M})),n.d(t,"l",(function(){return D})),n.d(t,"c",(function(){return U})),n.d(t,"a",(function(){return q})),n.d(t,"f",(function(){return F})),n.d(t,"g",(function(){return B})),n.d(t,"h",(function(){return W}));var r=n(14),a=n.n(r),o=function(e){return-1==e?"-":e&&a.a.isNumber(e)?e>=99999999?Math.floor(e/1e6)+"M":e>=1e6?Math.floor(e/1e5)/10+"M":e>=99999?Math.floor(e/1e3)+"K":e>=1e3?Math.floor(e/100)/10+"K":e:0},i=function(e){return e.replace(/^((https?:)?\/\/)?[a-z-.]*[a-z-](:\d+)?(?=\/)/i,"")},s=n(12),l=n.n(s),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=l()(e),r="MMM DD, YYYY hh:mmA";if(l()().diff(e,"hours")<24||t.fuzzyTime&&l()().diff(e,"days")<7){var a=t.dropSuffix||!1;return n.fromNow(a)}return t.fuzzyTime?r=l()().isSame(e,"year")?"MMM DD":"MMM DD, YYYY":t.fullDate?r="MMMM D, YYYY":t.dayFormat&&(r="ddd, MMM D, YYYY"),n.format(r)},u=function(e){return e.displayName||e.name||"Component"},d=function(e,t){var n=t.parts;return a.a.findIndex(n,(function(t){return t.id===e}))},m=n(51),f=function(e){return e&&"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e},p=function(e,t){var n,r=/((?![/.#])(?:^|\W))@([\w-]+)/gi,a=/(http(s)?:\/\/[A-Za-z0-9._~:/?#[\]@!$&'()*+,\-=]+)/gi,o=/((?![/.@])(?:^|\W))#([[a-zA-Z0-9\s?/]+)/gi,i='$1<a class="on-user-mention" href="/user/$2">@$2</a>',s='<a href="$1" rel="nofollow" target="_blank">$1</a>',l=' <a href="/tags/$2" class="on-navigate">#$2</a>';switch((t=t||{}).hash&&t.hash.sanitization&&(t.sanitization=t.hash.sanitization),t.sanitization=t.sanitization||"sanitize",t.doTags=!1!==t.doTags,t.doUrl=!1!==t.doUrl&&"unsanitize"!==t.sanitization,t.doMention=!1!==t.doMention,t.sanitization){case"sanitize":e=f(e);break;case"unsanitize":e=(n=e)&&"string"==typeof n?n.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'):n}return t.doMention&&(e=e.replace(r,i)),t.doUrl&&(e=e.replace(a,s)),t.doTags&&(e=e.replace(o,l)),e},b=n(35),y=function(e,t,n,r,o,i,s,l){var c,u=!!o&&o[0];return e&&t&&"string"==typeof t&&r&&isFinite(String(n))?(Object(b.a)(2.5,i,s,l)?(n*=3,u=!!o&&o[2],u=o?o[1]:o):Object(b.a)(1.5,i,s,l)&&(n*=2,u=!!o&&o[1]),(c=a.a.find(e,(function(e){return e+(!1!==u?Math.floor(e/u):0)>=n})))||(c=a.a.reduce(e,(function(e,t){return Math.abs(t-n)<Math.abs(e-n)?t:e}))),t.replace(r,"$1"+c+"$3$4")):""},g=function(e,t){t&&isFinite(t)||(t=320),e=e.replace(/(\d+\.)(png|jpg|jpeg|gif)$/,".$1$2");return y([320,360,640,1920],e,t,/(^.*\/userbg\/[\w\-_]+\.)()(\.?[0-9]*\.)(png|jpg|jpeg|gif)$/,!1).replace("userbg","userbgs")},h=function(e){return new Promise((function(t){return setTimeout(t,e)}))},v=n(11),E=function(e,t,n,r,a){return y(v.d,e,t,/(^.*\/c?cover\/[0-9]+-)([0-9]{1,3})(-*[\w]+\.)(png|jpg|jpeg|gif)$/,[20,14],n,r,a)},w=function(e,t,n,r){var a;return r=r||{},e?((a=(a=e.replace(/(<([^>]+)>)/gi,"")).replace(/^\s*\n/gm,"")).length>t&&(a=a.substr(0,t-1).replace(/[.,\- /!&?]+$/,"")+"..."),!0===n?p(a,r):a):""},O=n(119),S=n(0),C=n.n(S),j=n(41);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var a=A(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(e){var t,n,r,a,o;return n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(i,t);var n,r,a,o=R(i);function i(){return T(this,i),o.apply(this,arguments)}return n=i,(r=[{key:"render",value:function(){var t=this;return C.a.createElement(j.b.Consumer,null,(function(n){var r=n.trans,a=n.ngettext;return C.a.createElement(e,k({},t.props,{trans:r,ngettext:a}))}))}}])&&P(n.prototype,r),a&&P(n,a),i}(C.a.Component),r=t,a="displayName",o="".concat(u(e),"WithTrans"),a in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o,n};function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.getBoundingClientRect(),r=window.scrollY+n.y,a=r+t;window.scrollTo({top:a,behavior:"smooth"})}var M=function(e){return 1!==Math.sign(e)?0:Math.round(function(e){return e/v.n}(e)/v.g)},D=function(e){return 1!==Math.sign(e)?0:Math.round(e/v.g)},U=function(e){var t=Math.floor(e/60);return{hours:t,minutes:Math.floor(e-60*t)}},q=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),F=function(e){return Object(b.a)(2.5)?Math.floor(e/3):Object(b.a)(1.5)?Math.floor(e/2):e},B=function(e,t){if(!e||isNaN(t))return"";var n=a.a.find(v.d,(function(e){return e>=t}));return e.replace(/(^.*\/c?cover\/[0-9]+-)([0-9]{1,3})(-*[\w]+\.)(png|jpg|jpeg|gif)$/,"$1"+n+"$3$4")},W=function(e){if(!e)return"";var t="";return v.d.forEach((function(n){t+="".concat(B(e,n)," ").concat(n,"w,")})),t.slice(0,-1)},H=function(e,t){return"string"==typeof e&&e.length>0?y(v.b,e,t,/(^.*\/useravatar\/[\w\-_]+\.)([0-9]{1,3})(\.?[0-9]*\.)(png|jpg|jpeg|gif)$/,[24,17]):""}},,,function(e,t,n){"use strict";n.r(t),n.d(t,"MAP_WATTYS_SITE_TO_LINKS",(function(){return r})),n.d(t,"DEFAULT_WATTYS_SITE_LINK",(function(){return a})),n.d(t,"MAP_WATTYS_ELIGIBILITY_TO_LINKS",(function(){return o})),n.d(t,"DEFAULT_ELIGIBILITY_LINK",(function(){return i})),n.d(t,"DEFAULT_IDENTITIES_LINK",(function(){return s})),n.d(t,"MAP_IDENTITIES_LINK",(function(){return l})),n.d(t,"MAP_WATTYS_GENRE_LINKS",(function(){return c})),n.d(t,"DEFAULT_GENRE_LINK",(function(){return u})),n.d(t,"RULES_LINK",(function(){return d})),n.d(t,"WATTYS_CLOSING_DATETIME",(function(){return m})),n.d(t,"CURRENT_WATTYS_YEAR",(function(){return f})),n.d(t,"PLOT_SUMMARY_CHARACTER_MIN",(function(){return p})),n.d(t,"PLOT_SUMMARY_CHARACTER_MAX",(function(){return b})),n.d(t,"LOGLINE_CHARACTER_MAX",(function(){return y})),n.d(t,"LOGLINE_CHARACTER_MIN",(function(){return g})),n.d(t,"EMAIL_CHARACTER_MAX",(function(){return h})),n.d(t,"OTHER_MATURE_THEMES_CHARACTER_MAX",(function(){return v})),n.d(t,"OTHER_IDENTITIES_CHARACTER_MAX",(function(){return E})),n.d(t,"MIN_STORIES",(function(){return w})),n.d(t,"MAX_STORIES",(function(){return O})),n.d(t,"VALID_EMAIL_REGEX",(function(){return S})),n.d(t,"SUBMITTED_FLAG",(function(){return C})),n.d(t,"ELIGIBLE_FLAG",(function(){return j})),n.d(t,"NEAR_ELIGIBLE_FLAG",(function(){return N})),n.d(t,"NOT_ELIGIBLE_FLAG",(function(){return k})),n.d(t,"ONGOING_FLAG",(function(){return T})),n.d(t,"COMPLETE_FLAG",(function(){return P})),n.d(t,"MAP_WATTYS_LANGUAGES",(function(){return _})),n.d(t,"MAP_MATURITY_RATINGS",(function(){return R})),n.d(t,"MAP_MATURE_THEMES",(function(){return I})),n.d(t,"MAP_STORY_DECLARATION",(function(){return A})),n.d(t,"MAP_SERIES_TYPES",(function(){return x})),n.d(t,"MAP_ANTICIPATED_STORY_LENGTH",(function(){return L})),n.d(t,"MAP_STORY_TYPES",(function(){return M})),n.d(t,"MAP_WATTYS_GENRES",(function(){return D})),n.d(t,"MAP_WATTYS_GENRES_NON_ENGLISH",(function(){return U})),n.d(t,"MAP_CHARACTER_REPRESENTATION_IDENTITIES",(function(){return q}));var r={1:"https://www.wattpad.com/wattys/",2:"https://www.wattpad.com/wattys/fr/",3:"https://www.wattpad.com/wattys/it/",4:"https://www.wattpad.com/wattys/de/",5:"https://www.wattpad.com/wattys/es-mx/",6:"https://www.wattpad.com/wattys/pt/",18:"https://www.wattpad.com/wattys/tl-ph/",20:"https://www.wattpad.com/wattys/id/",23:"https://www.wattpad.com/wattys/tr/"},a="https://www.wattpad.com/wattys/",o={1:"https://www.wattpad.com/1444516997",5:"https://www.wattpad.com/1444521582",18:"https://www.wattpad.com/1444522881"},i="https://www.wattpad.com/1444516997",s="https://www.wattpad.com/1444517056",l={1:"https://www.wattpad.com/1444517056",5:"https://www.wattpad.com/1444521717",18:"https://www.wattpad.com/1444522953"},c={1:"https://www.wattpad.com/1444517056-the-2024-watty-awards-how-to-submit/page/2",5:"https://www.wattpad.com/1444521717-los-premios-watty-2024-c%C3%B3mo-inscribirte/page/2",18:"https://www.wattpad.com/1444522953-ang-2024-watty-awards-paano-magsumite/page/2"},u="https://www.wattpad.com/1444517056-the-2024-watty-awards-how-to-submit/page/2",d="https://docs.google.com/gview?embedded=true&url=https://b4qlw8tl.media.zestyio.com/Wattys-2024-Official-Rules.pdf",m=new Date("7 Aug 2024 23:59:59 GMT-0400").getTime(),f=(new Date).getFullYear(),p=20,b=3500,y=500,g=20,h=128,v=100,E=100,w=1,O=100,S=/^[a-zA-Z0-9_.'+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/,C="SUBMITTED",j="ELIGIBLE",N="NEAR_ELIGIBLE",k="NOT_ELIGIBLE",T="ONGOING",P="COMPLETE",_=function(e){return[{key:"English",value:e("English")},{key:"French",value:e("French")},{key:"Filipino",value:e("Filipino")},{key:"German",value:e("German")},{key:"Indonesian",value:e("Indonesian")},{key:"Italian",value:e("Italian")},{key:"Portuguese",value:e("Portuguese")},{key:"Spanish",value:e("Spanish")},{key:"Turkish",value:e("Turkish")}]},R=function(e){return[{key:"EXPLICIT",value:e("Explicit")},{key:"INEXPLICIT",value:e("Inexplicit")}]},I=function(e,t){return[{key:"NONE",value:e("My story does not contain any mature themes")},{key:"SEX",value:e(t?"Sexual Content":"Sex")},{key:"EXPLICIT_LANGUAGE",value:e("Explicit Language")},{key:"DRUG_USE",value:e("Drug Use")},{key:"SELF_HARM",value:e("Self-harm themes or scenes")},{key:"GRAPHIC_VIOLENCE",value:e("Graphic Violence")},{key:"OTHER",value:e("Other")}]},A=function(e){return[{key:"ONGOING",value:e("Ongoing")},{key:"COMPLETE",value:e("Complete")}]},x=function(e){return[{key:"FIRST",value:e("First Story")},{key:"SEQUEL",value:e("Sequel")}]},L=function(e){return[{key:"LESS_100",value:e("<100k words")},{key:"100_TO_150",value:e("100k-150k words")},{key:"MORE_150",value:e(">150k words")}]},M=function(e){return[{key:"ADULT_FICTION",value:e("Adult Fiction")},{key:"TEEN_FICTION",value:e("Teen Fiction")}]},D=function(e){return[{key:"ACTION_THRILLER",value:e("Action & Thriller")},{key:"FANTASY",value:e("Fantasy")},{key:"HISTORICAL",value:e("Historical")},{key:"HORROR",value:e("Horror")},{key:"MYSTERY_DETECTIVE",value:e("Mystery & Detective")},{key:"PARANORMAL",value:e("Paranormal")},{key:"ROMANCE",value:e("Romance")},{key:"SCIENCE_FICTION",value:e("Science Fiction")}]},U=function(e){return[{key:"ACTION_THRILLER",value:e("Action & Thriller")},{key:"FANTASY",value:e("Fantasy")},{key:"HISTORICAL",value:e("Historical")},{key:"HORROR",value:e("Horror")},{key:"MYSTERY_DETECTIVE",value:e("Mystery & Detective")},{key:"PARANORMAL",value:e("Paranormal")},{key:"ROMANCE",value:e("Romance")},{key:"SCIENCE_FICTION",value:e("Science Fiction")}]},q=function(e){return[{key:"BIPOC",value:e("BIPOC")},{key:"LGBTQ2",value:e("LGBTQ2+")},{key:"MARGINALIZED_RELIGION",value:e("Marginalized religion")},{key:"NEURODIVERGENT",value:e("Neurodivergent")},{key:"DISABILITY",value:e("Living with a disability")},{key:"NONE",value:e("None")},{key:"OTHER",value:e("Other")}]}},,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(7),u=n(130),d=n.n(u),m=n(59),f=n.n(m);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,e);var t,n,r,o=v(i);function i(){return y(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this;if(this.props.onClick)throw new Error("onClick event defined on an icon. Please wrap the icon with a button.");var t=this.props,n=t.iconName,r=t.name,o=t.height,i=t.color,s=t.className,c=(t.ff,t.size),u=t.strokeWidth,m=t.boxX,p=t.boxY,y=t.viewBox,g=t.fill,h=t.fillColor,v=t.title,E=t.passthroughProps;if(r){if(d.a[r]){var w="none";h?w=f.a[h]:g&&(w=f.a[i]);var O=v?"img":void 0;return a.a.createElement("svg",b({width:c,height:c,viewBox:"".concat(m," ").concat(p," ").concat(y," ").concat(y),fill:w,stroke:f.a[i],strokeWidth:u,"aria-hidden":!v,strokeLinecap:"round",strokeLinejoin:"round",className:s,role:O},E),v&&a.a.createElement("title",null,v),a.a.createElement("g",{dangerouslySetInnerHTML:{__html:d.a[r]}}))}throw"Icon ".concat(r," doesn't exist")}if(window.wattpad.utils.modernizr("fontface"))return a.a.createElement("span",b({className:l()("fa",n,"fa-".concat(i),s),"aria-hidden":"true",style:{fontSize:"".concat(o,"px")},ref:function(t){e.elementRef=t}},E));var S="/img/icons/".concat(i,"/").concat(n.substr(3),".png");return a.a.createElement("img",b({className:l()("fa",n,"fallback",s),style:{height:"".concat(o,"px"),width:"auto"},src:S,alt:"icon ".concat(n.substr(3)),ref:function(t){e.elementRef=t}},E))}}])&&g(t.prototype,n),r&&g(t,r),i}(r.PureComponent);O.defaultProps={className:"",ff:"",color:"wp-neutral-1",size:"14",height:"14",strokeWidth:"2",boxX:"0",boxY:"0",viewBox:"24"},O.propTypes={name:i.a.string,iconName:i.a.oneOf(["fa-alert","fa-archive","fa-attach","fa-badge-ambassador","fa-badge-blank","fa-badge-cc","fa-badge-heart","fa-badge-promoted","fa-badge-rating","fa-badge-verified","fa-bold","fa-buy","fa-camera","fa-caret","fa-categories","fa-centered","fa-check","fa-circle-empty","fa-circle-filled","fa-clock","fa-code","fa-comment","fa-comment-count","fa-copyright","fa-creative-commons","fa-dedicate","fa-double-image","fa-down","fa-down-small","fa-edit","fa-facebook","fa-facebook-official","fa-facebook-square","fa-flag","fa-follow","fa-following","fa-following-request","fa-format","fa-group","fa-home","fa-ic_reading_list","fa-image","fa-inbox","fa-info","fa-instagram","fa-italic","fa-justified","fa-left","fa-left-aligned","fa-left-small","fa-library","fa-link","fa-list","fa-list-add","fa-loading","fa-location","fa-lock","fa-mention","fa-menu","fa-minus","fa-mobile","fa-more","fa-mute","fa-pin","fa-pinterest","fa-pinterest-square","fa-plus","fa-public-domain","fa-ranking","fa-reading-list","fa-redo","fa-refresh","fa-remove","fa-remove-alt","fa-right","fa-right-aligned","fa-right-small","fa-search","fa-settings","fa-share","fa-single-image","fa-stats","fa-story","fa-trash","fa-tumblr","fa-tumblr-square","fa-twitter","fa-twitter-square","fa-underline","fa-undo","fa-unlock","fa-unmute","fa-up","fa-up-small","fa-user","fa-video","fa-view","fa-vote","fa-vote-alt","fa-warning","fa-website","fa-image-warning"]),color:i.a.oneOf(["wp-neutral-1","wp-neutral-2","wp-base-1-dark","wp-base-1-light","wp-base-2-dark","wp-error-1","wp-warning-01","wp-errorbackground","wp-neutral-2","wp-base-2-dark","wp-neutral-3","wp-lighterror","wp-lighterteal","wp-neutral-3","wp-neutral-3","wp-lightteal","wp-neutral-2","wp-neutral-3","wp-base-1","wp-neutral-2","wp-success","wp-base-2","wp-neutral-2","wp-base-1-dark","wp-neutral-5","ds-neutral-00-solid","ds-neutral-100","ds-base-4-accent","ds-base-4-accent-dark","ds-alert","ds-neutral-80","ds-base-2-60","ds-success","ds-neutral-60-solid","ds-base-7-60"]).isRequired,size:i.a.oneOfType([i.a.string,i.a.number]),height:i.a.string.isRequired,className:i.a.string,ff:i.a.string,strokeWidth:i.a.string,boxX:i.a.oneOfType([i.a.string,i.a.number]),boxY:i.a.oneOfType([i.a.string,i.a.number]),viewBox:i.a.oneOfType([i.a.string,i.a.number]),fill:i.a.bool,fillColor:i.a.string,passthroughProps:i.a.object,title:i.a.string};var S=Object(c.b)((function(e){return{ff:e.userData.ff}}),{})(O);t.a=S},function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"k",(function(){return i})),n.d(t,"m",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"n",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"h",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"c",(function(){return b})),n.d(t,"l",(function(){return y}));var r=12,a=5,o=6,i="premium-theme",s={1:"olive",2:"plum",3:"watermelon",4:"blue",5:"water",6:"orange",7:"turquoise",8:"grey",9:"red",10:"purple",11:"royal",12:"denim"},l=[64,80,100,128,144,160,176,200,208,256,288,352,368,416,512],c=[24,32,42,64,128,256],u=5,d=230,m="//static.wattpad.com",f="//img.wattpad.com",p={INVALID:"",PAID_STORY:"paid_story",BONUS_CHAPTER:"paid_bonus"},b={EXCLUSIVE_CHAPTER:0,STORY_BRANCH:1,WRITER_REVEAL:2},y={NOW:"NOW",UPCOMING:"UPCOMING"}},function(t,n){t.exports=e},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(28);function a(e){return{type:r.e,modalProps:e}}function o(){return{type:r.a}}},function(e,n){e.exports=t},,function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"p",(function(){return a})),n.d(t,"s",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"n",(function(){return c})),n.d(t,"m",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"t",(function(){return b})),n.d(t,"f",(function(){return y})),n.d(t,"o",(function(){return g})),n.d(t,"k",(function(){return h})),n.d(t,"q",(function(){return v})),n.d(t,"l",(function(){return E})),n.d(t,"a",(function(){return w})),n.d(t,"r",(function(){return O})),n.d(t,"u",(function(){return S}));var r="FETCH_HOME_MODULES",a="RECEIVE_SECTION_POSITION",o="SECTION_VIEWED",i="ERROR",s="CLEAR_ERROR",l="CALL_TRACKING_URLS",c="RECEIVE_CONTENT_SETTINGS",u="NO_CONTENT_SETTING_CHANGES",d="LOADING_CONTENT_SETTINGS",m="LOADING_CONTENT_SETTINGS_DONE",f="LOADING_HOME",p="LOADING_HOME_DONE",b="SHOW_LOADER",y="HIDE_LOADER",g="RECEIVE_READING_LISTS",h="LOADING_READING_LISTS",v="RECEIVE_STORIES_COLLECTIONS",E="LOADING_STORIES_COLLECTIONS",w="ADD_STORY_TO_COLLECTION",O="REMOVE_STORY_FROM_COLLECTION",S={fetchFailed:"FETCH_FAILED"}},function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"l",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"m",(function(){return d})),n.d(t,"n",(function(){return m})),n.d(t,"o",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return y})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return h}));var r=n(11),a="wp1",o=2e3,i=2200,s=400,l="set_wallet_balance",c="buying_content",u="bought_content",d="animation_step",m={DEFAULT:"default",COIN:"coin",DEDUCTING:"deducting",SUBTRACTING:"subtracting"},f=function(e){return[{title:e("Introducing Wattpad Originals"),content:e("Wattpad's top creators sharing their best work and your next obsession."),imageUrl:"paid-content/onboarding-slide-1.png"},{title:e("Big hits, big on quality"),content:e("Power through completed hits or snack on ongoing stories—quality guaranteed."),imageUrl:"paid-content/onboarding-slide-2.png"},{title:e("Curated for you by our editors"),content:e("Spend more time reading, and less time searching."),imageUrl:"paid-content/onboarding-slide-3.png"},{title:e("More ways to directly support creators"),content:e("Unlock with Coins, your Wattpad Premium+ plan, or wait to unlock for free."),imageUrl:"paid-content/onboarding-slide-4.png"}]},p={Wattpad_Coins_9:{value:9,premium_value:15,illustration_url:"".concat(r.a,"/image/money_coin_package_1_240x240.png"),price:"0.99"},Wattpad_Coin_74:{value:74,premium_value:99,illustration_url:"".concat(r.a,"/image/money_coin_package_2_240x240.png"),featured:!0,price:"3.99"},Wattpad_Coin_244:{value:244,premium_value:325,illustration_url:"".concat(r.a,"/image/money_coin_package_3_240x240.png"),price:"8.99"},Wattpad_Coin_400:{value:400,premium_value:533,illustration_url:"".concat(r.a,"/image/money_coin_package_4_240x240.png"),price:"13.99"}},b={Premium_BonusCoins_15Pack:{value:15,non_premium_value:9,illustration_url:"".concat(r.a,"/image/money_coin_package_1_240x240.png"),price:"0.99"},Premium_BonusCoins_99Pack:{value:99,non_premium_value:74,illustration_url:"".concat(r.a,"/image/money_coin_package_2_240x240.png"),featured:!0,price:"3.99"},Premium_BonusCoins_325Pack:{value:325,non_premium_value:244,illustration_url:"".concat(r.a,"/image/money_coin_package_3_240x240.png"),price:"8.99"},Premium_BonusCoins_533Pack:{value:533,non_premium_value:400,illustration_url:"".concat(r.a,"/image/money_coin_package_4_240x240.png"),price:"13.99"}},y={1:"https://support.wattpad.com/hc/en-us/articles/18999845281556",2:"https://support.wattpad.com/hc/fr/articles/18999845281556-Wattpad-Originals-Foire-Aux-Questions",3:"https://support.wattpad.com/hc/it/articles/18999845281556-Wattpad-Originals-Domande-frequenti",4:"https://support.wattpad.com/hc/de/articles/18999845281556-Wattpad-Originals-H%C3%A4ufig-gestellte-Fragen",5:"https://support.wattpad.com/hc/es/articles/18999845281556-Wattpad-Originals-Preguntas-Frecuentes",6:"https://support.wattpad.com/hc/pt/articles/18999845281556-Wattpad-Originals-Perguntas-frequentes",18:"https://support.wattpad.com/hc/fil/articles/18999845281556-Wattpad-Originals-Mga-Madalas-Itanong",20:"https://support.wattpad.com/hc/id/articles/18999845281556-Wattpad-Originals-Pertanyaan-yang-Sering-Diajukan",23:"https://support.wattpad.com/hc/tr/articles/18999845281556-Wattpad-Originals-S%C4%B1k%C3%A7a-Sorulan-Sorular"},g="https://support.wattpad.com/hc/articles/18999845281556",h="https://support.wattpad.com/hc/en-us/articles/360034232392-Bonus-Coins-Frequently-Asked-Questions"},function(e,t,n){"use strict";n.d(t,"d",(function(){return x})),n.d(t,"l",(function(){return L})),n.d(t,"o",(function(){return M})),n.d(t,"b",(function(){return D})),n.d(t,"a",(function(){return U})),n.d(t,"i",(function(){return q})),n.d(t,"k",(function(){return F})),n.d(t,"f",(function(){return B})),n.d(t,"n",(function(){return W})),n.d(t,"h",(function(){return H})),n.d(t,"g",(function(){return V})),n.d(t,"p",(function(){return Y})),n.d(t,"m",(function(){return G})),n.d(t,"e",(function(){return z})),n.d(t,"j",(function(){return K})),n.d(t,"c",(function(){return Z}));var r=n(5),a=n(14),o=n.n(a),i=n(13),s=n(152),l=n(0),c=n.n(l),u=n(1),d=n.n(u),m=n(2);function f(e){var t=e.handleConfirmation,n=Object(m.o)().trans;return c.a.createElement("div",{className:"thanks-for-the-input"},c.a.createElement("div",{className:"image"},c.a.createElement("img",{src:"/img/homepages/robot.svg",alt:""})),c.a.createElement("div",{className:"text"},c.a.createElement("h3",null,n("Thanks for the input!")),c.a.createElement("p",null,n("Our ingenious robots are busy plotting world domination, er, working on new story recommendations for you. Check back soon."))),c.a.createElement("div",{className:"confirmation"},c.a.createElement("button",{className:"btn-primary",onClick:t},n("Got it"))))}f.defaultProps={handleConfirmation:function(){}},f.propTypes={handleConfirmation:d.a.func};var p=n(7),b=n(3),y=n(81),g=n(100),h=n(123);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=function(e){var t=e.story,n=e.readingLists,a=e.getReadingLists,o=e.readingListsLoading,i=e.updateCollection,s=e.removeStoriesFromCollection,u=e.getCollectionsForStoryIds,d=e.storiesCollections,f=e.toggleModal,p=v(Object(l.useState)(!1),2),E=p[0],w=p[1],O=v(Object(l.useState)(null),2),S=O[0],C=O[1],j=v(Object(l.useState)(null),2),N=j[0],k=j[1],T=v(Object(l.useState)([]),2),P=T[0],_=T[1],R=Object(m.i)(),I=R.handleOpenPopover,A=R.handleClosePopover,x=Object(m.o)().trans,L=Object(l.useRef)(),M=Object(l.useRef)(),D=Object(l.useRef)(),U=Object(r.g)(t.cover,268),q=Object(l.useCallback)((function(e){"Tab"===e.key&&S&&N&&(e.shiftKey?document.activeElement===S&&(e.preventDefault(),N.focus()):document.activeElement===N&&(e.preventDefault(),S.focus())),"Escape"===e.key&&(E?(A(L),w(!1)):(D&&D.current.focus(),f()))}),[A,S,N,E,f]);Object(l.useEffect)((function(){D.current=document.activeElement,n||o||a(),u(t.id)}),[u,a,n,o,t.id]),Object(l.useEffect)((function(){return window.addEventListener("keydown",q),function(){window.removeEventListener("keydown",q)}}),[q]),Object(l.useEffect)((function(){var e=P||[],t=M.current?M.current.querySelectorAll(h.a):null;t=t?Array.prototype.slice.call(t):null,(e.length=t.length&&t.every((function(t,n){return t===e[n]})))||0===t.length||(C(t[0]),k(t[t.length-1]),_(t),t[0].focus())}),[P]);return c.a.createElement("div",{className:"story-preview-wrapper",ref:M},c.a.createElement("div",{className:"cover"},c.a.createElement("img",{srcSet:"".concat(Object(r.g)(t.cover,288)," 1x, ").concat(Object(r.g)(t.cover,416)," 1.5x, ").concat(Object(r.g)(t.cover,512)," 2x"),src:U,alt:"".concat(t.title," cover")})),c.a.createElement("button",{className:"close",onClick:function(){f(),D&&D.current.focus()}},c.a.createElement(b.g,{name:"close",size:"24"})),c.a.createElement("div",{className:"story-info"},c.a.createElement("div",{className:"meta-header"},c.a.createElement("div",{className:"title-wrapper"},c.a.createElement("div",{className:"title"},t.title)),c.a.createElement(y.a,{numParts:t.numParts,isMature:t.mature,isCompleted:t.completed})),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{className:"read btn-primary",onClick:function(){var e=t.firstPartId?"/".concat(t.firstPartId):"/story/".concat(t.id);app.router.navigate(e,{trigger:!0}),f()}},c.a.createElement(b.g,{className:"open-book",name:"bookOpenBeta",size:"16",color:"ds-neutral-00-solid"}),c.a.createElement("span",{className:"read-btn-text"},t.isPaid?x("Read now"):x("Start reading"))),n&&c.a.createElement("button",{className:"btn-primary add-to-library-btn",title:x("Add story to..."),"aria-label":x("Add story to..."),ref:L,onClick:function(e){e.preventDefault(),w(!0);I((function(){return c.a.createElement(g.a,{readingLists:n,storyId:t.id,updateCollection:i,removeStoriesFromCollection:s,storiesCollections:d[t.id],getReadingLists:a,getCollectionsForStoryIds:u})}),L,"react-popover-content--above-modal",{modifiers:[{name:"preventOverflow",options:{boundary:M.current}}],showArrow:"true"})}},c.a.createElement(b.g,{name:"add",size:"24",color:"wp-neutral-1",strokeWidth:"2.5"}))),c.a.createElement("div",{className:"description"},Object(r.x)(t.description,400,!1)),c.a.createElement("div",{className:"more-details-wrapper"},c.a.createElement("button",{className:"more-details",onClick:function(){var e="/story/".concat(t.id);app.router.navigate(e,{trigger:!0}),f()}},x("More details"),c.a.createElement(b.g,{name:"chevRight",size:"24"})))))};w.propTypes={story:d.a.object,readingLists:d.a.array,getReadingLists:d.a.func,readingListsLoading:d.a.bool,updateCollection:d.a.func,removeStoriesFromCollection:d.a.func,getCollectionsForStoryIds:d.a.func,storiesCollections:d.a.object,toggleModal:d.a.func,openPopover:d.a.func,closePopover:d.a.func};var O={getReadingLists:V,updateCollection:Y,removeStoriesFromCollection:G,getCollectionsForStoryIds:z,toggleModal:i.b},S=Object(p.b)((function(e){var t=e.homeSections;return{readingLists:t.readingLists,readingListsLoading:t.readingListsLoading,removeStoriesFromCollection:t.removeStoriesFromCollection,storiesCollections:t.storiesCollections}}),O)(w),C=n(145),j=n(46);function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e){var t=e.email,n=e.userId,r=e.username,a=e.daysBetweenReminders,o=e.verified,i=e.toggleModal,s=e.toggleToast,u=Object(m.o)().trans,d=N(Object(l.useState)("option1"),2),f=d[0],p=d[1],y=N(Object(l.useState)(!1),2),g=y[0],h=y[1],v=function(e){p(e.target.value)},E=function(e){var t,n,a;e.preventDefault(),"option1"==f?h(!0):"option2"==f&&(t="api/v3/users/"+r,n=Promise.resolve($.ajax({type:"PUT",url:t,data:{is_email_reverified:!0}})),a=u(o?"Thank you for confirming your email.":"Thank you, please check your email to confirm your verification."),n.then((function(){wattpad.utils.destroyCookie("dbrc_"+r),wattpad.utils.destroyCookie("cnsc_"+r),i(),s({className:"email-reverification-toast",body:a})})))},w=function(){var e=window.wattpad.utils.getCookie("dbrc_"+r),t=window.wattpad.utils.getCookie("cnsc_"+r);if(null==e&&wattpad.utils.setCookie("dbrc_"+r,1,a),null==t)wattpad.utils.setCookie("cnsc_"+r,1);else{var n=Number(t);wattpad.utils.setCookie("cnsc_"+r,n+1)}i(),s({className:"email-reverification-toast",body:u("We'll send you a reminder in 3 days")}),window.te.push("event","home","email_reverification","","skip",{username:r})};return g?c.a.createElement("div",{className:"change-email-modal-wrapper"},c.a.createElement("div",{className:"modal-body"},c.a.createElement(C.a,{isChangeEmailModal:!0,email:t,userId:n,isSuccess:!1,hideModal:w,dismissModal:function(){wattpad.utils.destroyCookie("dbrc_"+r),wattpad.utils.destroyCookie("cnsc_"+r),i()}})),c.a.createElement("button",{className:"btn-no-style back-btn",onClick:function(){h(!1)}},c.a.createElement(b.g,{iconName:"fa-left",color:"wp-neutral-1",className:"left-arrow-back"}),c.a.createElement("p",{className:"back-btn-label"},u("Back")))):c.a.createElement("div",{className:"email-reverification-modal-content"},c.a.createElement("button",{className:"btn-no-style",onClick:w,"aria-label":"Close modal"},c.a.createElement(b.g,{iconName:"fa-remove",color:"wp-neutral-1",height:"22",className:"close-btn"})),c.a.createElement("header",{className:"email-reverification-heading"},c.a.createElement(b.c,{name:"/logos/wp-logo-orange.png",title:"Wattpad",width:"137",className:"wp-logo"}),c.a.createElement("h1",{"aria-label":u("Please verify your email.")},u("Please verify your email."))),c.a.createElement("div",{className:"modal-content"},c.a.createElement("p",{className:"email-notes note"},u("In order to ensure continued access to your account, please check that the email below is correct and that you have access to it.")),c.a.createElement("p",{className:"email-notes question"},u("Do you want to keep the email below as your recovery contact?")),c.a.createElement("div",{className:"email-wrapper"},c.a.createElement("p",{className:"email-notes email-text"},t),!0==={"gmail.com":!0,"gmail.com.br":!0,"gmail.de":!0,"gmail.dk":!0,"gmail.fr":!0,"googlemail.com":!0}[t.split("@")[1]]&&c.a.createElement("p",{className:"email-notes gmail-note"},u("Note: If you are using a Gmail address with a period in it, the periods may not be displayed but emails will still reach you. "))),c.a.createElement("div",{className:"radio-wrapper"},c.a.createElement("form",null,c.a.createElement("div",{className:"radio-item"},c.a.createElement("input",{id:"option1",name:"options",type:"radio",value:"option1",checked:"option1"==f,"aria-label":u("I need to update my email"),onChange:v}),c.a.createElement("label",{htmlFor:"option1"},u("I need to update my email")),c.a.createElement("input",{id:"option2",name:"options",type:"radio",value:"option2",checked:"option2"==f,"aria-label":u("This is my current email"),onChange:v}),c.a.createElement("label",{htmlFor:"option2"},u("This is my current email"))),c.a.createElement("button",{className:"btn-primary btn-md btn-email-confirm",onClick:E,"aria-label":u("Confirm")},u("Confirm"))))))}T.propTypes={email:d.a.string.isRequired,userId:d.a.number.isRequired,username:d.a.string.isRequired,daysBetweenReminders:d.a.number.isRequired,verified:d.a.bool.isRequired,toggleModal:d.a.func,toggleToast:d.a.func};var P=Object(p.b)(null,{toggleModal:i.b,toggleToast:j.c})(T),_=n(147),R=n(16),I=n(28);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t,n){return function(a){var o;if(a({type:R.i}),Object(r.o)()){var i=window.wattpad.utils.getCookie("hc");i||(i=(new Date).toISOString(),wattpad.utils.setCookie("hc",i));var s={url:"/v5/home",data:{cache:i}};o=Promise.resolve($.get(s))}else o=e.get("/v5/home",t,n);o.then((function(e){a({type:R.e,sections:e.sections}),a(D())})).catch((function(){a({type:R.d,error:{errorType:R.u.fetchFailed,errorMessage:"fetching home modules failed"}})})).finally((function(){a({type:R.j}),a({type:R.t})}))}}function L(e,t,n,r){return{type:R.p,info:{index:e,type:t,top:n,bottom:r}}}function M(e){return{type:R.s,index:e}}function D(){return function(e){e({type:R.c})}}function U(e){return function(t){o.a.each(e,(function(e){$.get(e)})),t({type:R.b})}}function q(){return function(e){e(Object(i.b)({component:function(){return React.createElement(s.a,null)},className:"modal-contest",disableClose:!0,disableScroll:!0}))}}function F(e){return function(t){t(Object(i.b)({component:function(){return React.createElement(S,{story:e})},className:"modal-story-preview",disableClose:!0,hideClose:!0,disableScroll:!0}))}}function B(){var e=wattpad.utils.currentUser().get("username"),t="/v5/users/".concat(e,"/content-settings");return function(e){e({type:R.g}),Promise.resolve($.get(t)).then((function(t){e({type:R.n,settings:t}),e({type:R.h})})).catch((function(){e({type:R.d,error:{errorType:R.u.fetchError,errorMessage:"error fetching content settings"}})}))}}function W(e){if(0===Object.keys(e).length)return function(e){e({type:R.m}),e({type:I.e})};var t,n,r=wattpad.utils.currentUser().get("username"),a="/v5/users/".concat(r,"/content-settings"),o="".concat(a,"/include-mature"),i="includeMature",s="".concat(a,"/blocked-tags"),l=[];function c(e){return Object.values(e)[0].then((function(t){return{setting:Object.keys(e)[0],promise:t,status:"resolved"}}),(function(t){return{setting:Object.keys(e)[0],promise:t,status:"rejected"}}))}return e.hasOwnProperty(i)&&(t=Promise.resolve($.ajax({url:o,type:"PUT",dataType:"json",contentType:"application/json",data:JSON.stringify(A({},i,e[i]))})),l.push(A({},i,t))),e.hasOwnProperty("blockedTags")&&(n=Promise.resolve($.ajax({url:s,type:"PUT",dataType:"json",contentType:"application/json",data:JSON.stringify(A({},"blockedTags",e.blockedTags))})),l.push(A({},"blockedTags",n))),function(e){e({type:R.g}),Promise.all(l.map(c)).then((function(t){t.forEach((function(e){e.setting===i&&"resolved"===e.status&&window.te.push("event","content_settings",null,null,"update",{setting:"mature"})})),wattpad.utils.destroyCookie("hc"),e({type:R.f}),e(B()),e(x()),e(Object(_.b)(!0)),e({type:I.e})}))}}function H(){return function(e){e(Object(i.b)({component:function(){return React.createElement(f,{handleConfirmation:function(){e({type:I.e})}})},className:"modal-confirmation",hideClose:!0}))}}function V(){var e=wattpad.utils.currentUser().get("username"),t="/api/v3/users/".concat(e,"/lists")+"?offset=0&limit=200&fields=lists(id%2Cname%2Cuser(name)%2CnumStories%2Cfeatured)%2Ctotal";return function(e){e({type:R.k}),Promise.resolve($.get(t)).then((function(t){e({type:R.o,lists:t.lists})})).catch((function(){wattpad.utils.showToast("Error: fetching reading lists failed",{type:"dismissable"})}))}}function Y(e,t){var n=wattpad.utils.currentUser().get("username"),r="/api/v3/lists/".concat(e,"/stories"),a="/api/v3/users/".concat(n,"/library?fields=stories(id)"),o="library"===e?a:r;return function(n){Promise.resolve($.post(o,{stories:t})).then((function(){n({type:R.a,collectionId:e,storyId:t})})).catch((function(){wattpad.utils.showToast("Error: collection update failed",{type:"dismissable"})}))}}function G(e,t){var n=wattpad.utils.currentUser().get("username"),r="/api/v3/lists/".concat(e,"/stories/").concat(t),a="/api/v3/users/".concat(n,"/library/").concat(t),o="library"===e?a:r;return function(n){Promise.resolve($.ajax({url:o,type:"DELETE"})).then((function(){n({type:R.r,collectionId:e,storyId:t})})).catch((function(){wattpad.utils.showToast("Error: removing stories from collection failed",{type:"dismissable"})}))}}function z(e){var t="/v4/stories/collections"+"?storyIds=".concat(e);return function(e){e({type:R.l}),Promise.resolve($.get(t)).then((function(t){e({type:R.q,collections:t.collections})})).catch((function(){wattpad.utils.showToast("Error: fetching stories collections failed",{type:"dismissable"})}))}}function K(e,t,n){return function(r){var a=wattpad.user,o=window.wattpad.utils.getCookie("dbrc_"+a.username),s=Number(window.wattpad.utils.getCookie("cnsc_"+a.username));(null==o||s>e)&&r(Object(i.b)({component:function(){return React.createElement(P,{email:a.email,userId:a.id,username:a.username,daysBetweenReminders:t,verified:n})},className:"email-reverification-modal",hideClose:!0}))}}function Z(){return function(e){Promise.resolve($.get({url:"/api/v3/internal/current_user?fields=email_reverification_status,verified_email"})).then((function(t){var n=t.email_reverification_status,r=n.is_email_reverified,a=n.max_skips,o=n.days_between_reminders,i=t.verified_email;r||e(K(a,o,i))}))}}},function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"m",(function(){return y})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return E})),n.d(t,"a",(function(){return w}));var r,a=n(1),o=n.n(a),i=n(11);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l="PAID_PART_CONFIG",c="".concat(l,"/REQUEST"),u="".concat(l,"/FETCH"),d="".concat(l,"/POST"),m="".concat(l,"/ERROR"),f="".concat(l,"/UPDATE"),p="".concat(l,"/VISIBILE"),b={isLoading:!0,isFormVisible:!1,data:{story_id:0,part_id:0,author_id:0,paid_model:i.j.BONUS_CHAPTER,author_note:"",chapter_description:"",bonus_type:i.c.EXCLUSIVE_CHAPTER,is_free_part:!1}},y=o.a.shape({story_id:o.a.number,part_id:o.a.number,author_id:o.a.number,paid_model:o.a.string,author_note:o.a.string,chapter_description:o.a.string,bonus_type:o.a.oneOf(Object.values(i.c)),is_free_part:o.a.bool}),g={DESCRIPTION:1,AUTHOR_NOTE:2},h=(s(r={},i.c.EXCLUSIVE_CHAPTER,[g.DESCRIPTION,g.AUTHOR_NOTE]),s(r,i.c.WRITER_REVEAL,[g.DESCRIPTION]),s(r,i.c.STORY_BRANCH,[g.DESCRIPTION]),r),v=function(){return{display:{type:{exclusiveChapter:"Exclusive Chapter",writerReveal:"Writer Reveal",storyBranch:"Story Branch"}},button:{text:"Configure",default:"Create Paid Part"}}},E=function(){return{title:"Choose a type of Paid Part",description:"What type of part are you publishing?",descriptionUrlText:"View Examples",partTypeSelector:{label:"Part Type Selector",name:"bonus_type",options:[{label:"Exclusive Chapter (15 coins)",value:i.c.EXCLUSIVE_CHAPTER},{label:"Writer Reveal (8 coins)",value:i.c.WRITER_REVEAL}]},errorMessages:{chapterDescription:"Part Description is required",authorNote:"Author's Note is required"},successMessage:"Success!",removeMessage:"This action will disable the paywall on this part. Continue?",removeText:"Disable paywall",cancelText:"Discard changes",saveText:"Save paid part"}},w=function(){return{chapterDescription:{title:"Part Description",description:"Tell your readers a little bit more about the new part!",textarea:{placeholder:"Enter your description...",name:"chapter_description"}},authorNote:{title:"Author's Note",description:"Entice your readers to purchase this part!",textarea:{placeholder:"Enter your author's note...",name:"author_note"}}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"f",(function(){return E})),n.d(t,"k",(function(){return w})),n.d(t,"j",(function(){return O})),n.d(t,"e",(function(){return S})),n.d(t,"g",(function(){return C})),n.d(t,"i",(function(){return j})),n.d(t,"h",(function(){return N}));var r=n(46),a=n(11);function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u="USER",d="".concat(u,"/SET_MUTED_USERS"),m="".concat(u,"/SET_BLOCKED_USERS"),f="".concat(u,"/MUTE"),p="".concat(u,"/UNMUTE"),b="".concat(u,"/BLOCK"),y="".concat(u,"/UNBLOCK"),g="".concat(u,"/ERROR"),h={mutedUsers:[],blockedUsers:[],muteListLoaded:!1,blockListLoaded:!1};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case d:return l(l({},e),{},{mutedUsers:t.mutedUsers,muteListLoaded:!0});case m:return l(l({},e),{},{blockedUsers:o(t.blockedUsers),blockListLoaded:!0});case f:return l(l({},e),{},{muteListLoaded:!1,mutedUsers:e.mutedUsers.concat([{username:t.name}])});case p:return l(l({},e),{},{muteListLoaded:!1,mutedUsers:e.mutedUsers.filter((function(e){return e.username!=t.name}))});case b:return l(l({},e),{},{blockListLoaded:!1,blockedUsers:e.blockedUsers.concat([{username:t.name}])});case y:return l(l({},e),{},{blockListLoaded:!1,blockedUsers:e.blockedUsers.filter((function(e){return e.username!=t.name}))});default:return e}}function E(e,t){var n="/apiv2/ignoreuser?id=".concat(e,"&action=ignore_user");return function(r){return Promise.resolve($.ajax({url:n,type:"POST"})).then((function(){r({type:f,name:e}),wattpad.utils.clearCommentLocalStorage(),wattpad.utils.showToast(wattpad.utils.trans("%s is now muted. You can unmute them at any time.",e),{type:"dismissable"}),null==t||t()})).catch((function(e){var t;try{467===e.responseJSON.code&&(t=e.responseJSON.message)}catch(e){t=wattpad.utils.trans("There was an error muting this user. Please try again.")}throw wattpad.utils.showToast(t,{type:"dismissable"}),r({type:g}),e}))}}function w(e,t){var n="/apiv2/ignoreuser?id=".concat(e,"&action=unignore_user");return function(a){return Promise.resolve($.ajax({url:n,type:"POST"})).then((function(){a({type:p,name:e}),a({type:r.a,toastProps:{className:"unmute",body:wattpad.utils.trans("%s is now unmuted. You can mute them at any time.",e)}}),wattpad.utils.clearCommentLocalStorage(),null==t||t()})).catch((function(e){var t;try{t=e.responseJSON.message}catch(e){t=wattpad.utils.trans("There was an error unmuting this user. Please try again.")}throw wattpad.utils.showToast(t,{type:"dismissable"}),a({type:g}),e}))}}function O(e){return function(t){return Promise.resolve($.ajax({type:"DELETE",url:"/v4/users/".concat(e,"/blocks")})).then((function(){t({type:y,name:e}),t({type:r.a,toastProps:{className:"unblock",body:wattpad.utils.trans("%s is now unblocked. You can block them at any time.",e)}}),wattpad.utils.clearCommentLocalStorage()})).catch((function(e){var n;try{n=e.responseJSON.message}catch(e){n=wattpad.utils.trans("There was an error unblocking this user. Please try again.")}throw wattpad.utils.showToast(n,{type:"dismissable"}),t({type:g}),e}))}}function S(e){var t="/apiv2/ignoreuser?id=".concat(e,"&action=get_ignored_web");return function(e,n){if(!n().profileData.muteListLoaded)return Promise.resolve($.ajax({url:t,type:"POST"})).then((function(t){e({type:d,mutedUsers:t.list.map((function(e){return{username:e.NAME,avatar:"".concat(a.h,"/useravatar/").concat(e.NAME,".jpg")}}))})})).catch((function(t){var n=t.responseJSON.message;throw wattpad.utils.showToast(n,{type:"dismissable"}),e({type:g}),t}))}}function C(e){var t="v4/users/".concat(e,"/blocks?get_all=true");return function(e,n){if(!n().profileData.blockListLoaded)return Promise.resolve($.ajax({url:t,type:"GET"})).then((function(t){e({type:m,blockedUsers:t.users.map((function(e){return{username:e.username,avatar:e.avatar}}))})})).catch((function(t){var n,r,a=null!=t&&null!==(n=t.responseJSON)&&void 0!==n&&n.message?null==t||null===(r=t.responseJSON)||void 0===r?void 0:r.message:wattpad.utils.trans("Something went wrong. Please try again");throw wattpad.utils.showToast(a,{type:"dismissable"}),e({type:g}),t}))}}function j(e,t){return"mute"===t?function(t){t({type:f,name:e})}:function(t){t({type:p,name:e})}}function N(e,t){return"block"===t?function(t){t({type:b,name:e})}:function(t){t({type:y,name:e})}}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b}));var r=n(0),a=n.n(r),o=n(4),i=n.n(o),s=n(1),l=n.n(s),c=n(48),u=n(10),d=n(5),m=function(e){var t=e.label,n=e.labelClassName,r=e.tooltip,o=e.onClickIcon;return t&&null===t.match(/^ *$/)?a.a.createElement("div",{className:i()("form-field-label",n)},a.a.createElement("label",null,t),r&&a.a.createElement(f,{tooltip:r}),o&&a.a.createElement(p,{onClick:o})):null};m.defaultProps={label:null,labelClassName:null,tooltip:null,onClickIcon:null},m.propTypes={label:l.a.string,labelClassName:l.a.string,tooltip:l.a.string,onClickIcon:l.a.func};var f=function(e){var t=e.value,n=e.tooltip,r=e.showTooltip,o=void 0===r||r,i=e.ariaHidden,s=void 0!==i&&i;return a.a.createElement("div",{className:"icon-container","aria-hidden":s},a.a.createElement("div",{"data-tip":n,className:"tool-tip"},a.a.createElement("span",{className:"sr-only"},n),null!==t?a.a.createElement("span",{className:"stats-value","aria-hidden":!0},t):a.a.createElement(u.a,{iconName:"fa-info",height:"16",color:"wp-neutral-2"})),d.a&&o&&a.a.createElement(c.a,{place:"top",type:"dark",effect:"solid"}))};f.defaultProps={tooltip:"",value:null},f.propTypes={tooltip:l.a.string,value:l.a.any,showTooltip:l.a.bool,ariaHidden:l.a.bool};var p=function(e){var t=e.onClick;return a.a.createElement("div",{className:"icon-container"},a.a.createElement("button",{onClick:t,className:"btn btn-no-style"},a.a.createElement(u.a,{iconName:"fa-info",height:"16",color:"wp-neutral-2"})))};p.defaultProps={onClick:function(e){return e.preventDefault()}},p.propTypes={onClick:l.a.func};var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return null===e||null!==e.match(/^ *$/)?null:a.a.createElement("div",{className:"about-form"},e)}},function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"i",(function(){return b}));var r=n(42),a=n(1),o=n.n(a),i=2,s=2,l="app:newComments:deeplinkOpened",c="app:newComments:deeplinkOrphan",u={STORY_PART:r.CommentsNamespaces.PARTS,REPLIES:r.CommentsNamespaces.COMMENTS,PARAGRAPH:r.CommentsNamespaces.PARAGRAPHS},d={AD_OFFSET_NUM:2,NUM_COMMENTS_SET:10},m=o.a.shape({userGeo:o.a.string,testGroups:o.a.any,deviceType:o.a.string,context:o.a.shape({user:o.a.object,story:o.a.shape({isAdExempt:o.a.bool,isBrandSafe:o.a.bool,isPaywalled:o.a.bool,rating:o.a.number,language:o.a.number}),storyPart:o.a.shape({id:o.a.number,brandSafetyLevel:o.a.number,brandSafetySource:o.a.string,rank:o.a.number,rating:o.a.number,totalViewCount:o.a.number})}),placement:o.a.string}),f={CLASS:"comment-item-options-dropdown",PROPS:{placement:"bottom",showArrow:"true",modifiers:[{name:"offset",options:{offset:[-50,0]}},{name:"preventOverflow",options:{padding:{left:16,right:16}}}]}},p={block:"center",behavior:"smooth"},b=o.a.shape({commentId:o.a.string,commentData:o.a.object})},,,,,function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s}));var r="TOGGLE_MODAL_VISIBLE",a="OPEN_MODAL",o="CLOSE_MODAL",i={BS_MODAL:"BSModal",DS_MODAL:"DSModal",WP_MODAL:"WPModal"},s={PREMIUM_PICKS_FAQ_MODAL_ID:"premium-picks-faq-modal",PUBLISH_MODAL_ID:"publish-modal",SCHEDULE_SUCCESS_MODAL_ID:"schedule-success-modal",STORY_PREVIEW_MODAL:"story-preview-modal",BUY_COINS_MODAL:"buy-coins-modal"}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=function(e){var t=e.name,n=e.title,r=e.className,o=e.id,i=e.height,c=e.width,u=l(e,["name","title","className","id","height","width"]);return a.a.createElement("img",s({src:"/img/".concat(t),alt:n,className:r,id:o,height:i,width:c},u))};c.propTypes={name:i.a.string,title:i.a.string,className:i.a.string,id:i.a.string,height:i.a.string,width:i.a.string},t.a=c},function(e,t,n){"use strict";n.d(t,"k",(function(){return p})),n.d(t,"j",(function(){return b})),n.d(t,"m",(function(){return y})),n.d(t,"g",(function(){return g})),n.d(t,"e",(function(){return h})),n.d(t,"n",(function(){return w})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return C})),n.d(t,"l",(function(){return j})),n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return k})),n.d(t,"f",(function(){return T})),n.d(t,"h",(function(){return P})),n.d(t,"i",(function(){return _}));var r=n(12),a=n.n(r),o=n(15),i=n(42),s=n(59),l=n.n(s),c=n(23),u=n(6);function d(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e){return{text:e("Writer"),color:l.a["ds-neutral-00-solid"],backgroundColor:l.a["ds-base-1-60"]}},p=function(e){return e===c.d.STORY_PART},b=function(e){return e===c.d.REPLIES},y=function(e){return{resourceId:e,namespace:i.SentimentNamespaces.COMMENTS}},g=function(e){var t=[];return null!=e&&e.isStaff&&t.push(u.BadgeVariant.STAFF),null!=e&&e.isVerified&&t.push(u.BadgeVariant.VERIFIED),null!=e&&e.isAmbassador&&t.push(u.BadgeVariant.AMBASSADORS),t},h=function(e,t){return e?[f(t)]:[]},v=["minutes","hours","days","weeks","months","years"],E=function(e){return[function(t){return Object(o.sprintf)(e("%sm ago","%sm ago",t),t)},function(t){return Object(o.sprintf)(e("%sh ago","%sh ago",t),t)},function(t){return Object(o.sprintf)(e("%sd ago","%sd ago",t),t)},function(t){return Object(o.sprintf)(e("%sw ago","%sw ago",t),t)},function(t){return Object(o.sprintf)(e("%smo ago","%smo ago",t),t)},function(t){return Object(o.sprintf)(e("%sy ago","%sy ago",t),t)}]},w=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a()(),o=function(e){return a()(r).diff(a()(n),e)};if(o("minutes")<1)return e("Now");for(var i=1;i<v.length;i++)if(o(v[i])<1)return E(t)[i-1](o(v[i-1]));return E(t)[v.length-1](o("years"))},O=function(e){return null==e?void 0:e.get(i.SentimentTypes.LIKE)},S=function(e){var t;return!(null===(t=O(e))||void 0===t||!t.interacted)},C=function(e){var t;return(null===(t=O(e))||void 0===t?void 0:t.count)||0},j=function(e){return Object(i.removeSentiment)(e,i.SentimentTypes.LIKE)},N=function(e){return Object(i.postSentiment)(e,i.SentimentTypes.LIKE)},k=function(e,t,n){var r=e.ambassador||e.isSysAdmin,a=n===e.username,o=t.name===e.username;return{canDelete:e&&(r||a||o),isCommentAuthor:o}},T=function(e,t){if(e)return t>0?c.g:0},P=function(e){if(e.length<=c.b.AD_OFFSET_NUM)return[].concat(d(e),[{isAd:!0,id:1}]);for(var t=[],n=1,r=0;r<e.length;r++)t.push(e[r]),(r+1)%c.b.NUM_COMMENTS_SET===c.b.AD_OFFSET_NUM&&(t.push({isAd:!0,id:n}),n++);return t},_=function(e,t,n){var r=e.namespace,a=e.resourceId;return r===i.CommentsNamespaces.PARTS?a==t:r===i.CommentsNamespaces.PARAGRAPHS&&a.split("_")[1]==n}},,,,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d}));var i="".concat("POPOVER","/OPEN"),s="".concat("POPOVER","/CLOSE"),l={popoverProps:{}};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case i:return a(a({},e),{},{popoverProps:t.popoverProps});case s:return a(a({},e),{},{popoverProps:{}});default:return e}}function u(e){return function(t,n){n().popover.popoverProps.triggerRef!==e.triggerRef?t({type:i,popoverProps:e}):t({type:s})}}function d(){return function(e){e({type:s})}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=r||e,a=function e(t,n,a,o){var i=r?r.devicePixelRatio:n;if(!t)return i||(e(3)?3:e(2)?2:e(1.5)?1.5:e(1)?1:0);if(i&&i>0)return i>=t;var s=(r?r.matchMedia:a)||(r?r.msMatchMedia:o);return!!s&&(!!s(t="only all and (min--moz-device-pixel-ratio:"+t+")").matches||!!s(t.replace("-moz-","")).matches)}}).call(this,n(33))},,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(4),c=n.n(l);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t=e.onChange,n=e.onBlur,r=e.checked,o=e.value,i=e.children,l=e.contentId,d=e.name,m=e.disabled,f=e.required,p=e.id,b=e.invalid,y=e.classname;return a.a.createElement("label",{className:c()("c-checkbox",{"label-active":r},y)},a.a.createElement("input",{type:"checkbox",id:p,onChange:function(e){t(e)},value:o,name:d,checked:r,disabled:m,required:f,"aria-labelledby":l,onBlur:n}),a.a.createElement("div",{className:c()(u({checked:r},"invalid",!1===b))},r&&a.a.createElement(s.g,{name:"check",color:"wp-neutral-5",size:14,className:"check-icon"}),i&&a.a.createElement("div",{className:"c-checkbox__content",id:l,"aria-hidden":!0},i)))};d.defaultProps={onChange:function(){},checked:!1,disabled:!1},d.propTypes={onChange:i.a.func,checked:i.a.bool,value:i.a.any,children:i.a.oneOfType([i.a.arrayOf(i.a.node),i.a.node]),contentId:i.a.string.isRequired,disabled:i.a.bool,required:i.a.bool,name:i.a.string,id:i.a.string,onBlur:i.a.func,invalid:i.a.bool,classname:i.a.string},t.a=d},function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"k",(function(){return p})),n.d(t,"j",(function(){return b}));var r=n(2),a="STORY_PLANNER",o="".concat(a,"/REQUEST"),i="".concat(a,"/FETCH"),s="".concat(a,"/POST"),l="".concat(a,"/ERROR"),c="".concat(a,"/UPDATE"),u="".concat(a,"/VISIBILE"),d=function(){var e=Object(r.o)().trans;return{title:e("The Protagonist"),info:e("Stories have multiple characters, and many main characters. The Protagonist on the other hand is the leading character in your story. They are the most prominent figure in your story, who drives the plot and makes up most of the narrative. They are the character whose fate is most closely followed by your reader."),more:e("If you’re struggling to figure out who your Protagonist is,"),learnMore:e("Learn More Here"),section1:{label:e("Your Protagonist's name"),name:"protagonist.name",limit:20,placeholder:e("Enter Name")},section2:{label:e("Other names for the Protagonist"),name:"protagonist.other_names",limit:50,placeholder:e("Separate Names By Commas")},section3:{name:"protagonist.pronoun",label:e("Protagonist's pronoun"),options:[{value:"he",name:e("He")},{value:"she",name:e("She")},{value:"they",name:e("They")}],placeholder:e("Select")},section4:{label:e("Protagonist's attributes"),name:"protagonist.attributes",limit:250,placeholder:e("Type and Select"),info:e("Up to 10 attributes. Include attributes like skin tone, ethnicity, gender selection, disabilities, hair, eyes, body type, and sexual orientation.")},section5:{label:e("The Protagonist tends to be:"),options:[{id:"protagonist.extrovert_introvert",sliderLabels:[e("Extroverted"),e("Introverted")]},{id:"protagonist.likeable",sliderLabels:[e("Unlikable"),e("Likable")]},{id:"protagonist.focus_past_future",sliderLabels:[e("Focused on Patterns in the Past"),e("Focused on Future Possibilities")]},{id:"protagonist.thinking_feeling",sliderLabels:[e("Uses Mind & Logic"),e("Uses Heart & Emotion")]},{id:"protagonist.decisive_improvise",sliderLabels:[e("Organized & Decisive Decision Making"),e("Improvised & Open Decision Making")]},{id:"protagonist.laidback_serious",sliderLabels:[e("Light & Laid Back Attitude"),e("Complex & Serious Attitude")]}]},section6:{label:e("How will the Protagonist's personality change by the end of the story?"),name:"protagonist.personality_change",options:[{name:e("Negative Personality Change"),value:-1},{name:e("No/Minimal Personality Change"),value:0},{name:e("Positive Personality Change"),value:1}],placeholder:e("Select")}}},m=function(){var e=Object(r.o)().trans;return{options:[e("Albino"),e("White skin tone"),e("Pale"),e("Olive skin tone"),e("Light brown skin tone"),e("Brown skin tone"),e("Dark brown skin tone"),e("Black skin tone"),e("Vitiligo"),e("Above Average"),e("Attractive"),e("Average"),e("Beautiful"),e("Cute"),e("Good Looking"),e("Gorgeous"),e("Handsome"),e("Hot"),e("Pretty"),e("Sexy"),e("Stunning"),e("Alpha"),e("Ambitious"),e("Arrogant"),e("Awkward"),e("Bad Boy"),e("Beta"),e("Boy next door"),e("Charming"),e("Clever"),e("Common sense"),e("Creep"),e("Cunning"),e("Dominant"),e("Educated"),e("Emotional"),e("Friendly"),e("Funny"),e("Geek"),e("Genius"),e("Girl next door"),e("Good Girl"),e("Jerk"),e("Kind"),e("Lazy"),e("Nerd"),e("Nice"),e("Not smart"),e("Omega"),e("Popular"),e("Sensitive"),e("Silly"),e("Smart"),e("Submissive"),e("Sweet"),e("Underdog"),e("Unpopular"),e("Wise"),e("Intelligent"),e("Passionate"),e("Actor"),e("Archaeologist"),e("Architect"),e("Artist"),e("Assassin"),e("Astronaut"),e("Athlete"),e("Author"),e("Babysitter"),e("Baker"),e("Barista"),e("Bartender"),e("Billionaire"),e("Bodyguard"),e("Boss"),e("Business person"),e("Butler"),e("Captain"),e("Cashier"),e("Celebrity"),e("CEO"),e("Chef"),e("Con Artist"),e("Criminal"),e("Dentist"),e("Detective"),e("Doctor"),e("Driver"),e("Editor"),e("Engineer"),e("Entrepreneur"),e("Executive"),e("Farmer"),e("Firefighter"),e("Flight Attendant"),e("Gamer"),e("Hunter"),e("Influencer"),e("Intern"),e("Journalist"),e("Knight"),e("Lawyer"),e("Lifeguard"),e("Lumberjack"),e("Magician"),e("Maid"),e("Massage Therapist"),e("Mechanic"),e("Millionaire"),e("Mobster"),e("Model"),e("Musician"),e("Nanny"),e("Novelist"),e("Nurse"),e("Photographer"),e("Pilot"),e("Police Officer"),e("Politician"),e("Popstar"),e("Prince"),e("Princess"),e("Prisoner"),e("Private Eye"),e("Professor"),e("Programmer"),e("Royalty"),e("Scientist"),e("Secretary"),e("Server"),e("Sex worker"),e("Singer"),e("Soldier"),e("Spy"),e("Student"),e("Superhero"),e("Teacher"),e("Therapist"),e("Traveler"),e("Waiter/Waitress"),e("Writer"),e("Alien"),e("Angel"),e("Animal"),e("Child"),e("Clown"),e("Cyborg"),e("Devil"),e("Dinosaur"),e("Elderly"),e("Elf"),e("Fairy"),e("Father"),e("Fey"),e("Ghost"),e("Infant"),e("Insect"),e("Machine"),e("Mermaid"),e("Mother"),e("Octopus"),e("Old"),e("Parent"),e("Pirate"),e("Plant"),e("Reaper"),e("Robot"),e("Spirit"),e("Succubus"),e("Supernatural"),e("Teenager"),e("Vampire"),e("Werewolf"),e("Witch"),e("Wizard"),e("Young"),e("Zombie"),e("African American"),e("Anglo Saxon"),e("Arab"),e("Asian"),e("Australasian"),e("Biracial"),e("Caribbean"),e("Caucasian"),e("Central American"),e("Central Asian"),e("East African"),e("East Asian"),e("Eastern European"),e("Eurasian"),e("European"),e("Fictional Ethnicity"),e("First Nations"),e("Hispanic"),e("Indigenous"),e("Jewish"),e("Latinx"),e("Levantine"),e("Mediterranean"),e("Melanesian"),e("Mesopotamian"),e("Middle Eastern"),e("Multiracial"),e("Multiple Ethnic Background"),e("Native"),e("Native American"),e("North African"),e("North American"),e("Northern East African"),e("Northwestern European"),e("Pacific Islander"),e("Scandinavian"),e("South American"),e("South Asian"),e("South East Asian"),e("South Pacific Islander"),e("South East African"),e("Southern European"),e("Sub Saharan African"),e("West African"),e("Western Asian"),e("Western European"),e("Visually Impaired"),e("Chronic illness or pain"),e("Hard of Hearing"),e("Mobility impairment"),e("Physical Illness"),e("Disease"),e("Wheelchair Person"),e("Learning disability"),e("Neurodiverse"),e("Autistic"),e("Depression"),e("Anxiety"),e("Mental Illness"),e("Trauma"),e("Paralyzed"),e("Paranoia"),e("Cancer"),e("Eating Disorder"),e("Amputee"),e("Memory Loss"),e("Has an Addiction"),e("Personality Disorder"),e("Deaf"),e("Able-bodied"),e("Neurotypical"),e("Straight (Fine/Thin) hair"),e("Straight (Medium) hair"),e("Straight (Coarse) hair"),e("Wavy (Fine/Thin) hair"),e("Wavy (Medium) hair"),e("Wavy (Coarse) hair"),e("Curly (Loose) hair"),e("Curly (Tight) hair"),e("Kinky (Soft) hair"),e("Kinky (Wiry) hair"),e("No hair"),e("Fur"),e("Natural Hair"),e("Afro"),e("Locks"),e("Long hair"),e("Medium hair"),e("Short hair"),e("Bald"),e("Buzz cut"),e("Auburn hair"),e("Chestnut brown hair"),e("Copper hair"),e("Dark brown hair"),e("Brown hair"),e("Ginger hair"),e("Golden blonde hair"),e("Grey hair"),e("Light blonde hair"),e("Light brown hair"),e("Light chestnut brown hair"),e("Medium blonde hair"),e("Medium brown hair"),e("Natural black hair"),e("Natural brown hair"),e("Strawberry blonde hair"),e("Titian hair"),e("White hair"),e("Red hair"),e("Orange hair"),e("Yellow hair"),e("Green hair"),e("Blue hair"),e("Purple hair"),e("Honey Blonde hair"),e("Caramel hair"),e("Brown eyes"),e("Blue eyes"),e("Hazel eyes"),e("Amber eyes"),e("Green eyes"),e("Gray eyes"),e("Red eyes"),e("Heterochromia"),e("White eyes"),e("Black eyes"),e("Violet eyes"),e("Orange eyes"),e("Yellow eyes"),e("Thin"),e("Athletic"),e("Curvy"),e("Voluptuous"),e("Muscular"),e("Overweight"),e("Underweight"),e("Average weight"),e("Male"),e("Female"),e("Agender"),e("Androgyne"),e("Androgynous"),e("Bigender"),e("Cis"),e("Cisgender"),e("Cisgender Female"),e("Cisgender Male"),e("Cisgender Man"),e("Cisgender Woman"),e("Female to Male"),e("FTM"),e("Gender Fluid"),e("Gender Nonconforming"),e("Gender Questioning"),e("Gender Variant"),e("Genderqueer"),e("Intersex"),e("Male to Female"),e("MTF"),e("Neutrois"),e("Non-binary"),e("Pangender"),e("Trans"),e("Trans Female"),e("Trans Male"),e("Trans Man"),e("Trans Person"),e("Trans Woman"),e("Transfeminine"),e("Transgender"),e("Transgender Female"),e("Transgender Male"),e("Transgender Man"),e("Transgender Person"),e("Transgender Woman"),e("Transmasculine"),e("Two-Spirit"),e("Gender Neutral"),e("Lesbian"),e("Gay"),e("Bisexual"),e("Pansexual"),e("Heterosexual"),e("Bicurious"),e("Questioning"),e("Queer"),e("Polysexual"),e("Androsexual"),e("Gynosexual"),e("Asexual")]}},f=function(){var e=Object(r.o)().trans;return{title:e("The Story Goal"),info:e("The Protagonist’s goal in the story is what is known as the Story Goal. A Story Goal is the foundation of every plot, which is why it’s critical to understand what your Protagonist’s main objective is in the story. The Story Goal can be physical or emotional."),section1:{name:"protagonist_goal.description",label:e("What is your Protagonist's ultimate goal in this story?"),limit:75},section2:{label:e("The goal is primarily:"),name:"protagonist_goal.physical_emotional",options:[{label:e("Physical"),value:0},{label:e("Emotional"),value:1}]},section3:{name:"protagonist_goal.type",label:e("The goal type is to:"),options:[[{name:e("Acquire"),value:"acquire"},{name:e("Explore"),value:"explore"},{name:e("Escape"),value:"escape"},{name:e("Find"),value:"find"},{name:e("Protect"),value:"protect"},{name:e("Survive"),value:"survive"}],[{name:e("Accept"),value:"accept"},{name:e("Appreciate"),value:"appreciate"},{name:e("Forget"),value:"forget"},{name:e("Learn"),value:"learn"},{name:e("Love"),value:"love"},{name:e("Self Actualize"),value:"self_actualize"}]],placeholder:e("Select")},section4:{label:e("To achieve the story goal the Protagonist has to . . ."),options:[{id:"protagonist_goal.change_themselves_surroundings",sliderLabels:[e("Change themselves"),e("Change their surroundings")]},{id:"protagonist_goal.explore_emotions_world",sliderLabels:[e("Explore their emotions"),e("Explore their world")]},{id:"protagonist_goal.navigate_familiar_unfamiliar",sliderLabels:[e("Navigates a familiar world"),e("Encounters an unfamiliar world")]},{id:"protagonist_goal.recall_past",sliderLabels:[e("Ignore the Past"),e("Recall the past")]},{id:"protagonist_goal.find_meaning",sliderLabels:[e("Reappreciate the current meaning"),e("Find a new meaning")]},{id:"protagonist_goal.take_keep",sliderLabels:[e("Take something away from the antagonist"),e("Keep something away from the antagonist")]}]}}},p=function(){var e=Object(r.o)().trans;return{title:e("The Story Outcome"),info:e("Ideally, every story has a planned outcome. This will help you set the arc of your story, and plan accordingly. The Story Outcome relates to the outcome the Protagonist is aiming to achieve. Knowing where you want to go with the story will help you pace your story and keep your narrative as tight as possible."),section1:{name:"protagonist_goal.outcome",label:e("What happens at the end of the story?"),limit:150},section2:{label:e("Will the Protagonist succeed in reaching the goal at the end of this story?"),name:"protagonist_goal.succeed",options:[{label:e("Yes"),value:1},{label:e("No"),value:0}]},section3:{label:e("How will the Protagonist feel about the outcome from achieving the goal?"),name:"protagonist_goal.outcome_feeling",options:[{label:e("Good"),value:1},{label:e("Bad"),value:0}]}}},b=function(){var e=Object(r.o)().trans;return{title:e("Story Opportunities on Wattpad"),info:e("Interested in submitting your story to the backlog of stories Wattpad reviews for opportunities like being featured, being part of the Paid Stories program, or being considered as a Wattpad Star Writer?"),section1:{name:"opportunity.interested",options:[{label:e("Yes"),value:1},{label:e("No"),value:0}]},section2:{label:e("What specific opportunities on Wattpad are you interested in for this story?"),name:"opportunity.types",options:[{label:e("Wattpad Paid Stories (make money from fans who pay for your story on Wattpad)"),value:"paid"},{label:e("Wattpad Publishing (be considered for publication by a major commercial publisher)"),value:"publishing"},{label:e("Wattpad Books (be published by Wattpad)"),value:"books"},{label:e("Wattpad Studios (be considered for adaptation into a television show or film)"),value:"entertain"},{label:e("All available opportunities with Wattpad"),value:"all"}]},section3:{label:e("What is your story’s logline?"),name:"opportunity.logline",limit:150,about:e("A logline is a very short “elevator pitch” about your story that reviews the key elements of the story without giving too much away. Loglines aim to hook the reader into wanting to read more.")},section4:{label:e("How much have you written so far?"),name:"opportunity.story_progress",options:[{value:"in_progress",name:e("My Story is in Progress")},{value:"halfway",name:e("My Story is Halfway Done")},{value:"editing",name:e("My Story is Complete but being Edited")},{value:"complete",name:e("My Story is Complete")}],placeholder:e("Select")},notComplete:e("All fields in the Story Notes must be filled before submitting Story to Wattpad.\nYou can change and resubmit your Story Notes to Wattpad again at anytime.")}}},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i.a})),n.d(t,"a",(function(){return s}));var r=n(0),a=n.n(r),o=a.a.createContext({trans:function(e){return e},ngettext:function(e){return e}}),i=n(120),s=a.a.createContext({})},,,,,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c}));var i="TOGGLE_TOAST_VISIBLE",s={toastProps:null};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return a(a({},e),{},{toastProps:e.toastProps?null:t.toastProps});default:return e}}function c(e){return{type:i,toastProps:e}}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),i=n(4),s=n.n(i),l=n(1),c=n.n(l),u=n(12),d=n.n(u),m=n(71),f=n(3);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=function(e){var t=e.inputType,n=e.name,i=e.id,l=e.onBlur,c=e.onFocus,u=e.onChange,b=e.autofocus,y=e.alt,g=e.inputRef,h=e.placeholder,v=e.showVisibilityToggle,E=e.addClassName,w=e.isValid,O=Object(o.o)().trans,S=s()("form-control",E,"enable","input-lg",{"custom-select":"select"===t,"custom-select-lg":"select"===t}),C=p(Object(r.useState)("password"),2),j=C[0],N=C[1];switch(t){case"select":return a.a.createElement("div",{className:"birthday-dropdowns"},a.a.createElement("select",{id:i,className:S,name:n,defaultValue:"",onBlur:l,onChange:u,"aria-label":y,ref:g,required:!0},function(e){var t,n,r=[],o=d()(),i=d()().subtract(100,"years");switch(e){case"day":t=1,n=31,r.push(a.a.createElement("option",{value:"",key:"-1",disabled:!0},"Day"));break;case"month":t=0,n=11,r.push(a.a.createElement("option",{value:"",key:"-1",disabled:!0},"Month"));break;case"year":t=i.year(),n=o.year(),r.push(a.a.createElement("option",{value:"",key:"-1",disabled:!0},"Year"))}if("year"===e)for(var s=n;s>t;s--)r.push(Object(m.a)({value:s,label:s}));else for(var l=t;l<=n;l++){var c="month"===e?9:10,u="month"===e?l+1:l,f="month"===e?d()().month(l).format("MMM"):l;u=l<c?"0"+u:""+u,r.push(Object(m.a)({value:u,label:f}))}return r}(n)));case"pronouns":return a.a.createElement("select",{id:"pronouns",className:S,name:n,defaultValue:"",onBlur:l,onChange:u,"aria-label":y,ref:g},function(e){return[{key:"",value:e("Pronouns (optional)")},{key:"M",value:e("He/Him")},{key:"F",value:e("She/Her")},{key:"O",value:e("They/Them")},{key:"X",value:e("Not listed")},{key:"null",value:e("Prefer not to say")}]}(O).map((function(e){return a.a.createElement("option",{key:e.value,value:e.key},e.value)})));case"password":return a.a.createElement("div",{className:"password-container"},a.a.createElement("input",{type:j,id:i,className:S,name:n,placeholder:h,autoFocus:b,onBlur:l,onFocus:c,onChange:u,ref:g,"aria-label":y,required:!0}),w&&a.a.createElement(f.g,{name:"check",size:"24",height:"24",color:"ds-base-7-60",className:"field-valid-check",strokeWidth:"0.5",fill:!0}),v&&a.a.createElement("button",{type:"button",className:s()("btn-no-background","password-show"),"aria-label":O("text"===j?"Hide password":"Show password"),onClick:function(e){e.preventDefault(),e.stopPropagation(),N("text"===j?"password":"text")}},O("text"===j?"Hide":"Show")));default:return a.a.createElement("div",{className:"field-container",key:i},a.a.createElement("input",{type:t,id:i,className:S,name:n,placeholder:h,autoFocus:b,onBlur:l,"aria-label":y,ref:g,required:!0}),w&&a.a.createElement(f.g,{name:"check",size:"24",height:"24",color:"ds-base-7-60",className:"field-valid-check",strokeWidth:"0.5",fill:!0}))}};y.propTypes={inputType:c.a.string,name:c.a.string,id:c.a.string,label:c.a.string,onBlur:c.a.func,onFocus:c.a.func,onChange:c.a.func,autofocus:c.a.bool,showVisibilityToggle:c.a.bool,alt:c.a.string,inputRef:c.a.object,placeholder:c.a.string,addClassName:c.a.string,isValid:c.a.bool};t.a=y},,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(14),a=n.n(r),o=o||e,i=function(){return!a.a.isUndefined(a.a.get(o,"wattpad.utils"))}}).call(this,n(33))},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(i,e);var t,n,r,o=p(i);function i(){return d(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props.bgColor||this.props.color?{style:{backgroundColor:this.props.bgColor,color:this.props.color}}:{};return this.props.active&&this.props.bgColor&&(t={style:{color:this.props.bgColor,backgroundColor:"#FFFFFF",borderColor:this.props.bgColor}}),this.props.disableClick?a.a.createElement("div",u({className:"tag-item"},t),this.props.name):a.a.createElement("a",u({className:l()("tag-item",{active:this.props.active})},t,{onClick:function(t){return e.props.clickHandler(t,e.props.name)},href:this.props.link||"/stories/".concat(this.props.name)}),this.props.name)}}])&&m(t.prototype,n),r&&m(t,r),i}(a.a.Component);g.defaultProps={clickHandler:function(){}},g.propTypes={clickHandler:i.a.func,bgColor:i.a.string,color:i.a.string,active:i.a.bool,name:i.a.string.isRequired,link:i.a.string,disableClick:i.a.bool}},function(e,t,n){"use strict";n.d(t,"a",(function(){return D})),n.d(t,"b",(function(){return U}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(2),c=n(4),u=n.n(c);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){var t=e.username,n=e.email,o=e.setPayloadUsername,i=e.setPayloadEmail,s=e.submitReport,c=Object(l.o)().trans,m=d(Object(r.useState)("pending"),2),f=m[0],b=m[1],y=d(Object(r.useState)("pending"),2),g=y[0],h=y[1],v=d(Object(r.useState)(""),2),E=v[0],w=v[1],O=d(Object(r.useState)(""),2),S=O[0],C=O[1],j=d(Object(r.useState)(!0),2),N=j[0],k=j[1],T=function(e){wattpad.utils.stopEvent(e);var t=e.target.value;if("name"==e.target.name)o(t);else if("email"==e.target.name){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)&&t?k(!0):k(!1),i(t)}},P=function(e,t,n){"name"==e?(w(t),b(n)):(C(t),h(n))},_=function(e){wattpad.utils.stopEvent(e);var t=e.target.value,n=e.target.name;if(t)"email"!=n||/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)?P(n,"","check"):P(n,c("The email address is invalid."),"warning");else{var r=c("name"==n?"Name is required.":"Email is required.");P(n,r,"warning")}},R=function(e){wattpad.utils.stopEvent(e),"name"==e.target.name?(b("pending"),w("")):(h("pending"),C(""))},I=u()({"fa-warning":"warning"==f,"fa-check":"warning"!=f}),A=u()({"fa-warning":"warning"==g,"fa-check":"warning"!=g});return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"modal-body contact-info-body"},a.a.createElement("p",null,c("Please leave your contact information so that we may reach you.")),a.a.createElement("form",null,a.a.createElement(p,{payloadInput:t,inputId:"contact-name",inputName:"name",placeholder:c("Name"),onChange:T,onBlur:_,onFocus:R,validIcon:f,iconClassName:I,contactInfoError:E}),a.a.createElement(p,{payloadInput:n,inputId:"contact-email",inputName:"email",placeholder:c("Email"),onChange:T,onBlur:_,onFocus:R,validIcon:g,iconClassName:A,contactInfoError:S}))),a.a.createElement("div",{className:"modal-footer"},a.a.createElement("button",{className:"btn btn-orange",onClick:s,disabled:!t||!n||!N},c("Submit Report"))))}function p(e){var t=e.payloadInput,n=e.inputId,r=e.inputName,o=e.placeholder,i=e.onChange,l=e.onBlur,c=e.onFocus,d=e.validIcon,m=e.iconClassName,f=e.contactInfoError;return t||(t=""),a.a.createElement("div",{className:"input-container"},a.a.createElement("input",{id:n,className:u()("contact-input",n),name:r,value:t,placeholder:o,onChange:i,onBlur:l,onFocus:c}),"pending"!=d&&a.a.createElement("span",{tabIndex:"-1"},a.a.createElement(s.g,{iconName:m,height:"18",className:"form-control-feedback"})),f&&a.a.createElement("p",{className:"contact-error-message"},f))}p.propTypes={payloadInput:i.a.string,inputId:i.a.string,inputName:i.a.string,placeholder:i.a.string,onChange:i.a.func,onBlur:i.a.func,onFocus:i.a.func,validIcon:i.a.string,iconClassName:i.a.string,contactInfoError:i.a.string},f.propTypes={username:i.a.string,email:i.a.string,setPayloadUsername:i.a.func,setPayloadUEmail:i.a.func,onClickPrev:i.a.func,submitReport:i.a.func};var b=f,y=n(7),g=n(20);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){var t=e.requesterUsername,n=e.reportedUsername,o=e.muteCopies,i=e.submitReport,c=e.hideModal,u=e.onModalRef,d=e.showToast,m=e.initializeMutedUsers,f=e.muteUser,p=Object(l.o)().trans,b=o[2].title,v=o[2].extras.selectedStateText,E=o[0].title,w=o[0].subtitle,O=o[1].title,S=h(Object(r.useState)(b),2),C=S[0],j=S[1],N=Object(y.d)((function(e){return e.profileData.mutedUsers}));Object(r.useEffect)((function(){Promise.all([Promise.resolve(i()),Promise.resolve(m(t))]).then((function(){var e=N.some((function(e){return e.username==n}));j(e?v:b)}))}),[]);return a.a.createElement("div",{className:"report-modal-thank-you",ref:u},a.a.createElement("header",{className:"modal-header thank-you"},a.a.createElement("div",{className:"shield-icon"},a.a.createElement(s.g,{name:"shieldCheck",size:"27",strokeWidth:"0",boxX:"0",boxY:"0",viewBox:"27"})),a.a.createElement("h3",{className:"thank-you-title"},E),a.a.createElement("button",{className:"on-close",onClick:c},a.a.createElement(s.g,{iconName:"fa-remove",height:"16",color:"wp-neutral-2"}))),a.a.createElement("div",{className:"modal-body"},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:w}}),a.a.createElement("div",{className:"line-divider"}),a.a.createElement("p",{className:"mute-note"},O),a.a.createElement("button",{className:"mute-btn btn-secondary",onClick:function(e){e.preventDefault();var t=C==b,r=t?"ignore_user":"unignore_user",a=t?g.b:g.c,o=p(t?"%s is now muted. You can unmute them at any time.":"%s is now unmuted. You can mute them at any time.",n);return Promise.resolve($.ajax({url:"/apiv2/ignoreuser?id=".concat(n,"&action=").concat(r),type:"POST"})).then((function(){f(a,n),j(t?v:b),d(o)})).catch((function(e){var t;throw t=a==g.b?e.responseJSON&&467==e.responseJSON.code?e.responseJSON.message:p("There was an error muting this user. Please try again."):p("There was an error unmuting this user. Please try again."),d(t),e}))}},C)))}E.propTypes={requesterUsername:i.a.string.isRequired,reportedUsername:i.a.string.isRequired,muteCopies:i.a.array.isRequired,submitReport:i.a.func.isRequired,hideModal:i.a.func.isRequired,onModalRef:i.a.func,showToast:i.a.func,muteUser:i.a.func,initializeMutedUsers:i.a.func};var w=Object(y.b)(null,{initializeMutedUsers:g.e,muteUser:function(e,t){return{type:e,name:t}}})(E),O=n(29);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=/.*\bwattpad.com\/story\/\b(\d+)(.*)?/,N=function(e){var t=Object(l.o)().trans,n=S(Object(r.useState)(""),2),o=n[0],i=n[1],s=S(Object(r.useState)(""),2),c=s[0],d=s[1],m=S(Object(r.useState)(""),2),f=m[0],p=m[1],b=S(Object(r.useState)(!1),2),y=b[0],g=b[1],h=function(e){d(""),i(""),p(e)},v=function(e){var n=function(e){var t=j.exec(e);if(t&&t.length>1)return t[1]}(e);n?function(e){var t="/api/v3/stories/".concat(e,"?fields=title");return $.get(t)}(n).done((function(e){e&&e.title?(p(""),i(n),d(e.title)):h(t("Invalid story URL"))})).fail((function(){return h(t("Invalid story URL"))})):h(t("Invalid story URL"))},E=function(e){var n=e.target.value;n?v(n):h(t("The original URL is required"))},w=function(){(function(e,t){var n="/v5/infringement/story/".concat(e,"/copyright/report?original_story_id=").concat(t);return $.ajax({url:n,type:"POST",data:JSON.stringify(""),dataType:"json",headers:{"Content-Type":"application/json"}})})(e.storyId,o).done((function(){g(!0),e.onReportSubmitted()})).fail((function(){var e,n;null===(e=wattpad)||void 0===e||null===(n=e.utils)||void 0===n||n.showToast(t("Something went wrong. Please try again"))}))};Object(r.useEffect)(e.onContentChanged,[y,c]);return y?a.a.createElement("div",{className:"original-success"},a.a.createElement(O.a,{name:"shared/report-original-success.svg",title:"Report original success",width:"140",className:"success-img","aria-hidden":"true"}),a.a.createElement("h4",{className:"reason-note"},t("The original owner has been notified.")),a.a.createElement("h5",{className:"reason-note"},a.a.createElement("br",null),t("The author of “%s” has been notified about the story “%s”. They will receive a notification to review the story and act accordingly.",c,e.storyTitle),a.a.createElement("br",null),a.a.createElement("br",null),t("You will not receive an update on the case but thank you for doing all that you can to prevent copyright infringement on Wattpad."))):a.a.createElement("div",{className:"modal-body"},a.a.createElement("h6",{className:"reason-note text-left"},t("The best way to resolve a case of copyright infringement is to alert the original copyright owner of the work to submit a DMCA report."),a.a.createElement("br",null),a.a.createElement("br",null),t("Please provide us the original story so that we can alert the original owner to file a copyright report.")),a.a.createElement("div",{className:"body-content"},a.a.createElement("label",{className:"control-label",htmlFor:"originalUrl"},t("Please provide the URL of the original work:")),a.a.createElement("div",{className:"reason-comment"},a.a.createElement("textarea",{id:"originalUrl",className:u()("form-control details-input",{error:!!f}),placeholder:t("Paste the URL"),onChange:E})),f&&a.a.createElement("div",{"aria-live":"assertive"},a.a.createElement("div",{className:"field-message"},f))),a.a.createElement("div",{className:"alert-message"},t("By alerting the original author, you are confident that this is a case of copyright and it needs the authors attention.")),a.a.createElement("div",{className:"modal-footer"},a.a.createElement("button",{className:"btn btn-orange",onClick:w,disabled:!c},t("Alert"))))};N.propTypes={storyId:i.a.string.isRequired,storyTitle:i.a.string.isRequired,onContentChanged:i.a.func.isRequired,onReportSubmitted:i.a.func.isRequired};var k=N,T=function(e){var t,n,r=e.item,o=e.textDescription,i=e.onChangeReportComment,c=e.reportDetails,u=e.onClickNext,d=e.buildUrl,m=Object(l.f)(),f=function(e){return a.a.createElement("div",{className:"report-reason",key:e.id},a.a.createElement("label",{className:"reason-label",htmlFor:"reason-".concat(e.id)},a.a.createElement("div",{className:"reason-text-container"},a.a.createElement("input",{className:"reason-title",type:"button",id:"reason-".concat(e.id),name:"report-reason-option",value:e.title,onClick:u}),a.a.createElement("p",{className:"reason-subtitle"},e.subtitle)),a.a.createElement("span",{className:"reason-right-icon",tabIndex:"-1"},a.a.createElement(s.g,{iconName:"fa-right",height:"13"}))))};switch(r.type){case D.TEXT:return f(r);case D.EDIT_TEXT:return n=o,a.a.createElement("div",{className:"reason-comment"},a.a.createElement("textarea",{className:"form-control details-input",placeholder:n,value:c,onChange:i}));case D.URL:return function(e){return a.a.createElement("a",{key:e.id,className:"report-reason",href:d(e.extras.url)},a.a.createElement("label",{className:"reason-label",htmlFor:"reason-".concat(e.id)},a.a.createElement("div",{className:"reason-text-container"},a.a.createElement("div",{className:"reason-title"},e.title),a.a.createElement("p",{className:"reason-subtitle"},e.subtitle)),a.a.createElement("span",{className:"reason-right-icon",tabIndex:"-1"},a.a.createElement(s.g,{iconName:"fa-right",height:"13"}))))}(r);case D.PAGE:return null!=m&&m.username&&"report_story_copyright_infringement"===(null===(t=r.extras)||void 0===t?void 0:t.page)?f(r):null;default:return null}};T.propTypes={item:i.a.object,textDescription:i.a.string,onChangeReportComment:i.a.func.isRequired,reportDetails:i.a.string,onClickNext:i.a.func.isRequired,buildUrl:i.a.func.isRequired};var P,_=T,R=function(e,t){return function(n){return n.toLowerCase().includes("help/dmca")?function(e,t){var n=new URLSearchParams;return e.location&&n.append("storyId",e.location),e.deepLink&&n.append("partId",e.deepLink),e.name&&n.append("reportedUser",e.name),n.append("language",t),"/help/dmca?".concat(n.toString())}(e,t):n}};function I(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D={TEXT:"text",EDIT_TEXT:"editText",URL:"url",PAGE:"page"},U={USER:"user",PRIVATE_MESSAGE:"private-message",COMMENT:"comment",STORY:"story",PUBLIC_MESSAGE:"public-message",MEDIA:"media"},q=(M(P={},U.USER,1),M(P,U.PRIVATE_MESSAGE,2),M(P,U.COMMENT,3),M(P,U.STORY,4),M(P,U.PUBLIC_MESSAGE,5),M(P,U.MEDIA,193),P),F=function(e){var t=e.reportType,n=e.requesterUsername,o=e.requesterEmail,i=e.reportId,c=e.hideModal,u=e.triggerRef,d=e.showErrorToast,m=e.storyLanguage,f=Object(l.o)().trans,p=Object(r.useRef)(),y=A(Object(r.useState)(""),2),g=y[0],h=y[1],v=A(Object(r.useState)(null),2),E=v[0],O=v[1],S=A(Object(r.useState)(null),2),C=S[0],j=S[1],N=A(Object(r.useState)(null),2),T=N[0],P=N[1],x=A(Object(r.useState)(""),2),L=x[0],M=x[1],F=A(Object(r.useState)(-1),2),B=F[0],W=F[1],H=A(Object(r.useState)(!1),2),V=H[0],Y=H[1],G=A(Object(r.useState)(""),2),z=G[0],K=G[1],Z=A(Object(r.useState)(""),2),X=Z[0],J=Z[1],Q=A(Object(r.useState)([]),2),ee=Q[0],te=Q[1],ne=A(Object(r.useState)(""),2),re=ne[0],ae=ne[1],oe=A(Object(r.useState)(!1),2),ie=oe[0],se=oe[1],le=A(Object(r.useState)(!1),2),ce=le[0],ue=le[1],de=A(Object(r.useState)(!1),2),me=de[0],fe=de[1],pe=A(Object(r.useState)(),2),be=pe[0],ye=pe[1],ge=A(Object(r.useState)(!1),2),he=ge[0],ve=ge[1],Ee=A(Object(r.useState)(n),2),we=Ee[0],Oe=Ee[1],Se=A(Object(r.useState)(o),2),Ce=Se[0],je=Se[1],Ne=A(Object(r.useState)(!1),2),ke=Ne[0],Te=Ne[1],Pe=f("An error has occurred. We're sorry about that!"),_e=Object(l.p)(be,null==u?void 0:u.current,c).updateTabStops;Object(r.useEffect)((function(){var e,n=parseInt(null===(e=window.app)||void 0===e?void 0:e.get("language"),10),r="/v4/support/tree?lang=".concat(n);Promise.resolve($.ajax({type:"GET",url:r})).then((function(e){var n=e.flows.find((function(e){return e.id===q[t]}));h(n.title),O(n),j(n.ticketFormId),P(n.ticketSubject)})).catch((function(){c(),d(Pe)}))}),[t]),Object(r.useEffect)(_e,[E,Ce,we,he]);var Re=Object(r.useCallback)((function(e){return ye(e)}),[]),Ie=function(e){if(e.preventDefault(),ce)n?(De(),se(!1)):Le();else{se(!0),te([].concat(I(ee),[E]));var r=E.items.find((function(t){return t.title===e.target.value}));if(r&&r.zendeskString&&(W(r.zendeskFields[0]),K(r.zendeskString),Y(r.zendeskFields.includes(360041074311))),null!=r&&r.zendeskFields&&r.zendeskFields.includes(21523158)&&J(r.zendeskString),177===r.id)Me(r.next.items);else if(r.type===D.PAGE)O(r);else{var a,o=r.next;if("text"===r.type)if(t===U.STORY)fe(!1),ae("");else fe(!0),ae((null===(a=r.next)||void 0===a?void 0:a.header)||""),o.header=r.title;ue(o.items&&o.items[0]&&!!o.items[0].submittable),O(o)}}},Ae=function(){if(he)ve(!1);else{1===ee.length&&se(!1);var e=I(ee);O(e.pop()),te(e),ue(!1),fe(!1),M(""),K("")}},xe=function(e){M(e.target.value),_e()},Le=function(){fe(!1),ve(!0)},Me=function(e){O(e),Te(!0)},De=function(){he&&(ve(!1),se(!1));var e="",n="",r=void 0,a=window.location.origin;switch(t){case U.USER:e="".concat(L,"\n\nReported User's Profile: https://www.wattpad.com/user/").concat(i.name,"\n\n"),n="user",r="user_account_conduct";break;case U.PRIVATE_MESSAGE:e="".concat(L,"\n\nReported User's Profile: https://www.wattpad.com/user/").concat(i.name,"\n\n"),n="private_message",r="private_message_conduct";break;case U.COMMENT:e="".concat(L,"\n")+"\n---\n"+"Comment Author: ".concat(i.name,"\n")+"Comment Location: ".concat(i.location,"\n")+"Comment Body: ".concat(i.body,"\n")+"Comment DeepLink: ".concat(i.deepLink),n="comment",r="story_comment_conduct";break;case U.PUBLIC_MESSAGE:e="".concat(L,"\n")+"\n---\n"+"Message Author: ".concat(i.name,"\n")+"Message Location: ".concat(i.location,"\n")+"Message Body: ".concat(i.body,"\n"),n="public_message",r="public_message_conduct";break;case U.STORY:e="".concat(L,"\n")+"\n---\nType of Content: Story\n"+(i.deepLink?"Reported Story Part: ".concat(a,"/").concat(i.deepLink,"\n"):"")+"Reported Story: ".concat(a,"/story/").concat(i.location,"\n")+"Reported User's Profile: ".concat(a,"/user/").concat(i.name,"\n")+"Reported Group ID: ".concat(i.location,"\n"),n="story"}var o=window.app.get("supported-languages").where({locale:wattpad.utils.getCookie("locale")})[0].toJSON().nameEnglish,s=[{id:22708584,value:m},{id:22592474,value:o},{id:21519886,value:"mobile"===wattpad.utils.getDeviceType()?"mobile_web":"web"}],l={requester:{name:we,email:Ce},comment:e,ticket_form_id:C,username:i.name,reportType:n,reason:z,subject:T||g,custom_fields:s};t===U.STORY&&(l.id=i.location),V&&r&&l.custom_fields.push({id:360041074311,value:r}),B&&z&&l.custom_fields.push({id:B,value:z}),X!==z&&l.custom_fields.push({id:21523158,value:X}),Promise.resolve($.ajax({type:"POST",url:"/v4/support/tickets/",data:l})).then((function(){var e;ke||(O(E.items[0].next),fe(!1),null===(e=p.current)||void 0===e||e.focus())})).catch((function(){c(),d(Pe)}))},Ue=function(){return he?a.a.createElement(b,{username:we,email:Ce,setPayloadUsername:Oe,setPayloadEmail:je,onClickPrev:Ae,submitReport:De}):E.type===D.PAGE?function(){var e;switch(null===(e=E.extras)||void 0===e?void 0:e.page){case"report_story_copyright_infringement":return a.a.createElement(k,{storyId:i.location,storyTitle:i.body,onContentChanged:_e,onReportSubmitted:function(){var e;se(!1),null===(e=p.current)||void 0===e||e.focus()}});default:return null}}():a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"modal-body"},me?a.a.createElement("h6",{className:"reason-title"},f("Reason:")+" ",a.a.createElement("strong",null,E.header)):a.a.createElement("h6",{className:"reason-note"},E.header),a.a.createElement("form",null,a.a.createElement("div",{className:"modal-body-content"},!E.isFinal&&E.items.map((function(e){return a.a.createElement(_,{key:e.id,item:e,textDescription:re,onChangeReportComment:xe,reportDetails:L,onClickNext:Ie,buildUrl:R(i,m)})}))))),ce&&!E.isFinal&&a.a.createElement("div",{className:"modal-footer"},a.a.createElement("button",{className:"btn btn-orange",onClick:Ie,disabled:!L},f("Submit Report"))))};return ke?a.a.createElement(w,{requesterUsername:n,reportedUsername:i.name,muteCopies:E,submitReport:De,hideModal:c,onModalRef:Re,showToast:d}):E?a.a.createElement("div",{className:"report-modal",ref:Re},a.a.createElement("header",{className:"modal-header"},a.a.createElement("h3",{className:"modal-title"},g),ie&&a.a.createElement("button",{className:"prev-btn",onClick:Ae},a.a.createElement(s.g,{iconName:"fa-left",height:"16",color:"wp-neutral-2"})),a.a.createElement("button",{className:"on-close",onClick:c,ref:p},a.a.createElement(s.g,{iconName:"fa-remove",height:"16",color:"wp-neutral-2"}))),Ue()):null};F.propTypes={reportType:i.a.string.isRequired,requesterUsername:i.a.string,requesterEmail:i.a.string,reportId:i.a.shape({name:i.a.string.isRequired,location:i.a.string,body:i.a.string,deepLink:i.a.string}).isRequired,hideModal:i.a.func.isRequired,triggerRef:i.a.object,showErrorToast:i.a.func,storyLanguage:i.a.string};t.c=F},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),a=n(41);function o(){return Object(r.useContext)(a.b)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(57),l=n(4),c=n.n(l),u=n(7),d=n(46),m=function(e){var t=e.toggleToast,n=e.toastProps;n=n||{};var r=Object(s.a)().trans,o=n,i=o.className,l=o.body;if(l){var u=c()("toast",i);return a.a.createElement("div",{className:u},a.a.createElement("div",{className:"toast-content"},a.a.createElement("p",null,l),a.a.createElement("button",{className:"btn-no-background",onClick:t},r("OK"))))}return null};m.propTypes={toastProps:i.a.shape({body:i.a.string,className:i.a.string}),toggleToast:i.a.func};var f=Object(u.b)((function(e){return{toastProps:e.toast.toastProps}}),{toggleToast:d.c})(m)},function(e,t){e.exports={"wp-base-1":"#ff6122","wp-base-1-light":"#ff7b3c","wp-base-1-dark":"#e64809","wp-base-1-60":"#A93E19","wp-base-2":"#00b2b2","wp-base-2-light":"#1acccc","wp-base-2-dark":"#009999","wp-neutral-1":"#222222","wp-neutral-2":"#6f6f6f","wp-neutral-3":"#eeeeee","wp-neutral-4":"#fafafa","wp-neutral-new-4":"rgba(18, 18, 18, 0.12)","wp-neutral-5":"#ffffff","wp-error-1":"#ff3f12","wp-warning-01":"#ffc922","facebook-1":"#3b5998","twitter-1":"#55acee","pinterest-1":"#bd081c","tumblr-1":"#35465c","google-1":"#db4437","google-2":"#1e6cd6","wp-ambassador-profile":"#df6400","wp-lightteal":"#c3d8dc","wp-lighterteal":"#eaf0f4","wp-lighterror":"#faada1","wp-errorbackground":"#ff6d55","wp-focus-blue":"#00a0d9","wp-button-red":"#e94a2c","wp-button-green":"#01b05a","wp-wattys-tag":"#322864","ds-neutral-00-solid":"#fff","ds-neutral-100":"#121212","ds-base-4-accent":"#e81249","ds-base-4-accent-dark":"#f54f78","ds-base-2-60":"#3b19a9","ds-base-1-60":"#a93e19","ds-alert":"#e00000","ds-success":"#00854e","ds-neutral-80":"rgba(18, 18, 18, 0.64)","ds-neutral-40":"rgba(18, 18, 18, 0.12)","ds-base-3-60":"#1c6f65","ds-base-7-60":"#3f6f0c"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return T})),n.d(t,"e",(function(){return P})),n.d(t,"d",(function(){return _})),n.d(t,"h",(function(){return R})),n.d(t,"f",(function(){return I})),n.d(t,"g",(function(){return A}));var r=n(0),a=n.n(r),o=n(99),i=n(202),s=n(13),l=n(8);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,s,"next",e)}function s(e){d(o,r,a,i,s,"throw",e)}i(void 0)}))}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y="CONTEST_FORM",g="".concat(y,"/REQUEST"),h="".concat(y,"/FETCH"),v="".concat(y,"/SET"),E="".concat(y,"/ERROR"),w="".concat(y,"/SUBMITTED_SET"),O="".concat(y,"/NEAR_ELIGIBLE_SET"),S="".concat(y,"/FORM_STORY_STATUS_SET"),C="".concat(y,"/ADDED_WATTYS_TAG"),j={isLoading:!0,hasCheckedSubmission:!1,hasSubmitted:!1,isNearEligible:!1,hasAddedWattysTag:!1,user:"",cover:"",title:"",data:{storyId:null,contest:"",wattys_submitted_time:0,language:"",storyStatus:"",isSeries:"",seriesType:"",isSeriesStandalone:"",numberOfStoriesInSeries:"",totalPlannedStoriesInSeries:"",anticipatedStoryLength:"",diversity:[],diversityOther:"",storyType:"",genrePrimary:"",genreOthers:[],matureThemes:[],matureThemeOther:"",storyMaturity:"",logLine:"",plotSummary:"",writerEmail:"",legalConsent:!1,finalConsent:!1}};function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case g:return p(p({},e),{},{isLoading:!0});case h:var n;return p(p({},j),{},{isLoading:!1,hasCheckedSubmission:!0,hasSubmitted:(null==t||null===(n=t.eligibilityData)||void 0===n?void 0:n.eligibility)===l.SUBMITTED_FLAG||j.hasSubmitted,data:{storyId:t.data.storyId||j.data.storyId,language:t.data.language||j.data.language,storyStatus:t.data.storyStatus||j.data.storyStatus,isSeries:t.data.isSeries||j.data.isSeries,seriesType:t.data.seriesType||j.data.seriesType,isSeriesStandalone:t.data.isSeriesStandalone||j.data.isSeriesStandalone,numberOfStoriesInSeries:t.data.numberOfStoriesInSeries||j.data.numberOfStoriesInSeries,totalPlannedStoriesInSeries:t.data.totalPlannedStoriesInSeries||j.data.totalPlannedStoriesInSeries,anticipatedStoryLength:t.data.anticipatedStoryLength||j.data.anticipatedStoryLength,diversity:t.data.diversity||j.data.diversity,diversityOther:t.data.diversityOther||j.data.diversityOther,storyType:t.data.storyType||j.data.storyType,genrePrimary:t.data.genrePrimary||j.data.genrePrimary,genreOthers:t.data.genreOthers||j.data.genreOthers,matureThemes:t.data.matureThemes||j.data.matureThemes,matureThemeOther:t.data.matureThemeOther||j.data.matureThemeOther,storyMaturity:t.data.storyMaturity||j.data.storyMaturity,logLine:t.data.logLine||j.data.logLine,plotSummary:t.data.plotSummary||j.data.plotSummary,writerEmail:t.data.writerEmail||j.data.writerEmail,legalConsent:t.data.legalConsent||j.data.legalConsent,finalConsent:t.data.finalConsent||j.data.finalConsent},cover:t.eligibilityData.storyCover,title:t.eligibilityData.storyTitle,user:t.eligibilityData.writerUsername});case v:return p(p({},e),{},{data:p(p({},e.data),{},{storyId:t.storyId}),isLoading:!1,hasCheckedSubmission:!0});case w:return p(p({},e),{},{isLoading:!1,hasCheckedSubmission:!0,hasSubmitted:t.status});case O:return p(p({},e),{},{isLoading:!1,isNearEligible:t.isNearEligible});case E:return p(p({},e),{},{isLoading:!1});case C:return p(p({},e),{},{hasAddedWattysTag:!0});case S:return p(p({},e),{},{data:p(p({},e.data),{},{storyStatus:t.storyStatus})});default:return e}}function k(e){return function(){var t=m(regeneratorRuntime.mark((function t(n,r){var a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a="/v5/contests/wattys/story/".concat(e,"/eligibility"),o="/v5/contests/wattys/story/".concat(e,"/submission"),!r().contestForm.hasSubmitted){t.next=8;break}return r().contestForm.isLoading||n({type:g}),t.abrupt("return",Promise.all([Promise.resolve($.get(a)),Promise.resolve($.get(o))]).then((function(e){var t=c(e,2),r=t[0],a=t[1];n({type:h,data:a,eligibilityData:r})})));case 8:return window.te.push("event","wattys","submission_form",null,"view",{storyid:parseInt(e)}),t.abrupt("return",Promise.resolve($.get(a)).then((function(e){n({type:h,data:p(p({},j.data),{},{language:e.storyLanguage,storyStatus:e.storyStatus}),eligibilityData:e})})));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function T(e){return function(){var t=m(regeneratorRuntime.mark((function t(n,r){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/v5/contests/wattys/story/".concat(e,"/eligibility"),r().contestForm.isLoading||n({type:g}),t.abrupt("return",Promise.all([Promise.resolve($.get(a))]).then((function(e){var t=c(e,1)[0];n({type:h,data:{},eligibilityData:t})})));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function P(e,t){return function(){var n=m(regeneratorRuntime.mark((function n(r){var a,i,s,l,c,u,d,m,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a="/v5/contests/wattys/story/".concat(e,"/submission"),i="/apiv2/editstorytags",s="/api/v3/stories/".concat(e,"?fields=tags,parts"),r({type:g}),n.prev=4,n.next=7,Promise.resolve($.ajax({url:a,type:"POST",data:JSON.stringify(t),dataType:"json",headers:{"Content-Type":"application/json"}}));case 7:window.te.push("event","wattys","submission_form",null,"submit",{storyid:parseInt(e)}),n.next=18;break;case 10:n.prev=10,n.t0=n.catch(4),l=wattpad.utils.trans("Sorry, something went wrong. Please try again.");try{401===n.t0.responseJSON.code&&(l+=wattpad.utils.trans("You do not have permission to modify this story"))}catch(e){}throw new window.app.views.ErrorToast({message:l},{type:"dismissable"}).render(),r({type:E}),n.t0;case 18:return r({type:v,storyId:t.storyId,data:{writerEmail:t.writerEmail,finalConsent:t.finalConsent}}),n.next=21,Promise.resolve($.get(s));case 21:if(c=n.sent,u=c.tags,d=c.parts,m=window.wattpad.wattysActiveKey,f=!1,!(-1===u.indexOf(m)&&d&&d.length>0)){n.next=37;break}return n.prev=27,n.next=30,Promise.resolve($.post(i,{request_type:"add",tag_value:m,story_id:d[0].id}));case 30:r(Object(o.a)({id:m,name:m,active:!0,className:"wattys-tag"})),r({type:C}),f=!0,n.next=37;break;case 35:n.prev=35,n.t1=n.catch(27);case 37:return r(R(!0)),n.abrupt("return",f);case 39:case"end":return n.stop()}}),n,null,[[4,10],[27,35]])})));return function(e){return n.apply(this,arguments)}}()}function _(e){return function(t){t(Object(s.b)({component:function(){return a.a.createElement(i.a,{closeModal:function(){return t(Object(s.b)())},storyId:e})},disableClose:!0,animate:!1,className:"modal-contest",disableScroll:!0}))}}function R(e){return function(t){t({type:w,status:e})}}function I(e){return function(t){t({type:O,isNearEligible:e})}}function A(e){return function(t){t({type:S,storyStatus:e})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),a=n.n(r),o=n(2),i=n(3);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e){var t=s({},e),n=Object(o.o)().trans;return a.a.createElement(i.c,s({name:"/paid-content/coin-icon.svg",className:"coin-icon",alt:n("Coin")},t))}},,,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(22);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function p(e){var t=e.info,n=e.label,o=e.name,i=e.options,s=e.value,m=e.onChange,p=e.className,b=e.labelClassName,y=e.position,g=e.disabled,h=f(e,["info","label","name","options","value","onChange","className","labelClassName","position","disabled"]),v=function(e){return o+"-"+e},E=d(Object(r.useState)(""),2),w=E[0],O=E[1],S=d(Object(r.useState)(),2),C=S[0],j=S[1];Object(r.useEffect)((function(){var e=i.find((function(e){return e.value===s}));O(e?o+"-"+e.label:"")}),[s,O,i,o]);var N=function(e){O(e.target.id),m(e)},k=i.map((function(e){return a.a.createElement("div",{key:e.value,className:l()(p,"radio-button")},a.a.createElement("input",u({type:"radio",id:v(e.label),value:e.value,checked:w===v(e.label),onChange:N,className:l()({focus:C}),onFocus:function(){return j(!0)},onBlur:function(){return j(!1)},name:o,disabled:g},h)),a.a.createElement("label",{className:"radio-label",htmlFor:v(e.label)},e.label))}));return a.a.createElement("div",{className:"form-field radio-button-container"},Object(c.c)({label:n,labelClassName:b,tooltip:t}),a.a.createElement("div",{className:"radio-button-group"},"horizontal"===y?a.a.createElement("div",{className:"horizontal-group"},k):a.a.createElement("fieldset",{id:o},k)))}p.defaultProps={onChange:function(){},name:""},p.propTypes={label:i.a.string,name:i.a.string.isRequired,options:i.a.array.isRequired,info:i.a.string,onChange:i.a.func.isRequired,className:i.a.string,labelClassName:i.a.string,position:i.a.string,value:i.a.number,disabled:i.a.bool},t.a=p},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(126),l=n(125);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d="signup",m="login",f=function(e){var t=e.focus,n=e.formType,r=e.msg,a=e.nextUrl,u=e.notice,f=e.subtitle,p=e.title,b=e.login,y=void 0!==b&&b,g=c(Object(o.useState)(y?m:d),2),h=g[0],v=g[1],E=function(){return v(h===m?d:m)};return h===d?i.a.createElement(s.a,{focus:t,formType:n,nextUrl:a,subtitle:f,title:p,toggleForm:E}):i.a.createElement(l.a,{focus:t,msg:r,nextUrl:a,notice:u,toggleForm:E})};f.propTypes={focus:a.a.bool,formType:a.a.string,login:a.a.bool,msg:a.a.string,nextUrl:a.a.string,notice:a.a.string,signup:a.a.bool,signupFrom:a.a.string,subtitle:a.a.string,title:a.a.string},t.a=f},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return b}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(3);function u(e){var t=e.variant,n=e.messageNode;return a.a.createElement("div",{className:l()("ds-alert",t)},a.a.createElement(c.g,{name:"warning",size:"24",color:"ds-alert"}),n)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function f(e){var t=e.text,n=e.variant,r=e.onClick,o=m(e,["text","variant","onClick"]);return a.a.createElement("button",d({className:l()("ds-button",n),onClick:r},o),t)}function p(e){return a.a.createElement("div",{className:l()("dscontainer",e.variant)},e.children)}function b(e){var t=e.text;return a.a.createElement("h2",{className:l()("ds-header",e.variant)},t)}u.propTypes={messageNode:i.a.node.isRequired,variant:i.a.string},u.defaultProps={variant:""},f.propTypes={text:i.a.string.isRequired,variant:i.a.string,onClick:i.a.func},f.defaultProps={variant:"",onClick:function(){}},p.propTypes={children:i.a.node,variant:i.a.string},p.defaultProps={variant:""},b.propTypes={text:i.a.string.isRequired,variant:i.a.string},b.defaultProps={variant:""}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(29);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(){return a.a.createElement(s.a,{name:"/icons/spinner-black.svg",className:"fa-spin",alt:"Loading spinner",height:"40",width:"40"})}function d(e){var t=e.isLoading,n=e.className,o=e.children,i=e.customLoader,s=void 0===i?a.a.createElement(u,null):i,c=e.showLoaderAfter,d=l(Object(r.useState)(!1),2),m=d[0],f=d[1],p=Object(r.useRef)(null);return Object(r.useEffect)((function(){t?p.current=setTimeout((function(){!m&&f(!0)}),c):(p.current&&clearTimeout(p.current),m&&f(!1))}),[t,m,c]),t?m&&a.a.createElement("div",{className:n},s):o()}d.propTypes={isLoading:i.a.bool.isRequired,children:i.a.any.isRequired,customLoader:i.a.any,showLoaderAfter:i.a.number},d.defaultProps={showLoaderAfter:500}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=function(e){var t=e.value,n=e.label;return a.a.createElement("option",{value:t,key:t},n||t)};s.propTypes={value:i.a.oneOfType([i.a.string,i.a.array]),label:i.a.string},t.a=s},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(3),u=n(22),d=n(5);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=function(e,t){var n="";return 0===e&&t<5&&(n="<5 mins"),e>0&&(n="".concat(e,"h ")),(e>0||t>=5)&&(n+="".concat(t,"m")),n},p=function(e){var t=e.icon,n=e.label,r=e.size,o=e.viewBox,i=e.value,s=e.hoursVal,l=e.minutesVal,m=e.showTooltip;return a.a.createElement("li",{className:"stats-item"},a.a.createElement("div",{className:"stats-label"},a.a.createElement(c.g,{className:"stats-label__icon",name:t,size:r,strokeWidth:"0",fillColor:"ds-neutral-80",viewBox:o,"aria-hidden":!0}),a.a.createElement("span",{className:"stats-label__text","aria-hidden":!0},n)),"readTime"!==t?null!==i&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"sr-only"},"".concat(n," ").concat(parseInt(i).toLocaleString())),Object(u.a)({value:Object(d.b)(i),tooltip:parseInt(i).toLocaleString(),showTooltip:m,ariaHidden:!0})):a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"sr-only"},"".concat(n," ").concat(f(s,l))),Object(u.a)({value:f(s,l),tooltip:"".concat(s," hours, ").concat(l," minutes"),showTooltip:m,ariaHidden:!0})))};p.propTypes={icon:i.a.string.isRequired,label:i.a.string.isRequired,size:i.a.oneOfType([i.a.string,i.a.number]),viewBox:i.a.oneOfType([i.a.string,i.a.number]),value:i.a.number,hoursVal:i.a.number,minutesVal:i.a.number,showTooltip:i.a.bool};var b=function(e){var t=e.className,n=e.statsItems,r=e.showTooltip;return n&&n.length>0&&a.a.createElement("ul",{className:l()("new-story-stats",t)},n.map((function(e){return a.a.createElement(p,m({},e,{key:"".concat(e.label),showTooltip:r}))})))};b.defaultProps={statsItems:[]},b.propTypes={className:i.a.string,statsItems:i.a.arrayOf(i.a.shape({icon:i.a.string.isRequired,label:i.a.string.isRequired,size:i.a.oneOfType([i.a.string,i.a.number]),viewBox:i.a.oneOfType([i.a.string,i.a.number]),value:i.a.any,hoursVal:i.a.number,minutesVal:i.a.number})),showTooltip:i.a.bool},t.a=b},function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return b}));var r=n(0),a=n.n(r),o=n(4),i=n.n(o),s=n(1),l=n.n(s),c=n(205),u=n(6),d=n(2);function m(e){var t=e.expandPrompt,n=e.isPaid,r=Object(d.o)().trans,o=t||{},i=o.weblink,s=void 0===i?"":i,l=o.prompt,c=void 0===l?"":l,m=o.tracking,f=void 0===m?null:m;return n&&(s="/catalog/wattpadoriginals",c=r("See all")),s&&c?a.a.createElement(u.Button,{className:"expand-prompt-button",href:s,onClick:function(){f&&window.te.push("event","app","page",null,"view",{page:f.page,source:f.source})},variant:u.ButtonVariant.LINK,label:c}):null}m.propTypes={expandPrompt:l.a.object,isPaid:l.a.bool};var f=n(3),p={COUNTDOWN:"countdown"},b={type:l.a.oneOf(Object.values(p)).isRequired,date:l.a.string},y=function(e){var t=e.expandPrompt,n=e.heading,r=e.headingPill,o=e.subheading,s=e.isPromoted,l=e.sectionType,d="paid"===l||"paidMultiRow"===l;return a.a.createElement("div",{className:"module-header"},a.a.createElement("div",{className:"left-section"},a.a.createElement("div",{className:"heading"},a.a.createElement("h3",{className:i()(u.Typography.HEADING.SMALL)},n),(null==r?void 0:r.type)==p.COUNTDOWN&&(null==r?void 0:r.date)&&a.a.createElement(u.Pill,{className:"access-expires-pill",variant:u.PillVariant.SOLID,accent:u.Accent.DEFAULT,shape:u.PillShape.ROUND,leadingIcon:u.IconNames.WpHistory,label:a.a.createElement(f.d,{date:new Date(r.date),showDays:!0,showHours:!0,updateInterval:60})})),a.a.createElement("div",{className:"subheading"},a.a.createElement("h4",{className:i()(u.Typography.PARAGRAPH.LARGE)},o))),t&&a.a.createElement(m,{expandPrompt:t,isPaid:d}),!0===s&&a.a.createElement(c.a,null))};y.propTypes={expandPrompt:l.a.object,heading:l.a.string.isRequired,headingPill:l.a.shape(b),subheading:l.a.string,isPromoted:l.a.bool,sectionType:l.a.string};t.c=y},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=e.height,n=e.width,r=e.color,o=e.animation,i=e.circle,s=void 0!==i&&i,d=e.count,m=void 0===d?1:d,f=e.styles,p=e.className,b=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({backgroundColor:r,borderRadius:s?"50%":0,height:t,width:n},f),y=[],g=0;g<m;g++)y.push(a.a.createElement("div",{className:l()("skeleton",p,{pulse:o}),style:b,key:g}));return y}d.propTypes={height:i.a.oneOfType([i.a.number,i.a.string]),weight:i.a.oneOfType([i.a.number,i.a.string]),color:i.a.string,animation:i.a.bool,circle:i.a.bool,count:i.a.number,styles:i.a.object,className:i.a.string}},,,,,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(15),l=n(2),c=n(10),u=n(52),d=function(e){var t=e.numParts,n=e.isMature,r=e.isCompleted,o=void 0!==r&&r,i=e.isPaid,d=void 0!==i&&i,m=e.isPaidStory,f=void 0===m||m,p=Object(l.o)(),b=p.trans,y=p.ngettext,g=d&&f?b("Wattpad Original"):"",h=n?b("Mature"):"",v=t?Object(s.sprintf)(y("%s part","%s parts",t),t):"",E=o?"#1C6F65":"#8D5610",w=b(o?"Complete":"Ongoing"),O="".concat(g," ").concat(v," ").concat(w," ").concat(h);return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"sr-only"},O),a.a.createElement("div",{className:"icon-bar","aria-hidden":!0},t&&a.a.createElement("div",{className:"icon-parts"},a.a.createElement(c.a,{name:"parts",className:"icon"}),a.a.createElement("span",null,v)),a.a.createElement("div",{className:"completed"},a.a.createElement(u.a,{name:w,bgColor:E,color:"#ffffff",disableClick:!0})),n&&a.a.createElement("div",{className:"mature"},a.a.createElement(u.a,{name:h,bgColor:"#9E1D42",color:"#ffffff",disableClick:!0}))))};d.propTypes={numParts:i.a.number,isMature:i.a.bool,isCompleted:i.a.bool,isPaid:i.a.bool,isPaidStory:i.a.bool},t.a=d},function(e,t,n){"use strict";e.exports=function(e){switch(e){case 16:case 17:case 31:case 48:return!0;default:return!1}}},,,,,,function(e,t,n){"use strict";(function(e){var r=n(0);t.a=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,o=Object(r.useRef)();Object(r.useEffect)((function(){o.current=n}),[n]),Object(r.useEffect)((function(){if(a&&a.addEventListener){var e=function(e){return o.current(e)};return a.addEventListener(t,e),function(){a.removeEventListener(t,e)}}}),[t,a])}}).call(this,n(33))},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(4),i=n.n(o),s=n(1),l=n.n(s),c=n(3),u=n(2);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){var t=e.validationModel,n=e.onValid,o=e.onInvalid,s=e.inputRef,l=e.errorMessageOnSubmit,m=Object(u.o)().trans,f=d(Object(r.useState)(null),2),p=f[0],b=f[1],y=d(Object(r.useState)(void 0),2),g=y[0],h=y[1],v=Object(r.useMemo)((function(){return Object(c.w)(c.f)}),[]),E=function(e){b(!1),o(),h(e)},w=function(){b(!0),h(void 0),n()},O=i()("has-feedback birthday-container",{valid:!0===p,invalid:!1===p,invalidDate:g||l});return a.a.createElement("div",{className:O},a.a.createElement("div",{className:"birthday-fields"},a.a.createElement(v,{name:"month",validateOnChange:!0,label:m("Month"),form:"signup",inputType:"select",alt_msg:p?"Select Month":g,validationModel:t,onInvalid:E,onValid:w}),a.a.createElement(v,{name:"day",validateOnChange:!0,label:m("Day"),form:"signup",inputType:"select",alt_msg:p?"Select Day":g,validationModel:t,onInvalid:E,onValid:w}),a.a.createElement(v,{name:"year",validateOnChange:!0,label:m("Year"),form:"signup",inputType:"select",alt_msg:p?"Select Year":g,validationModel:t,onInvalid:E,onValid:w,inputRef:s})),!p&&a.a.createElement("div",{"aria-describedby":"birthday_error","aria-live":"assertive",role:"alert",className:"error-msg"},g),l&&a.a.createElement("div",{"aria-describedby":"birthday_error","aria-live":"assertive",role:"alert",className:"error-msg"},l))}f.propTypes={validationModel:l.a.shape({on:l.a.func,off:l.a.func}),onValid:l.a.func,onInvalid:l.a.func,inputRef:l.a.object,errorMessageOnSubmit:l.a.string},t.a=f},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(164),c=n.n(l),u=n(165),d=n.n(u),m=n(47),f=n(4),p=n.n(f),b=n(14);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t,n,o,i=e.name,l=e.username,u=e.validatePassword,f=e.passwordRef,h=e.confirmPasswordRef,v=Object(s.o)().trans,E=g(Object(r.useState)(""),2),w=E[0],O=E[1],S=g(Object(r.useState)(""),2),C=S[0],j=S[1],N=g(Object(r.useState)(),2),k=N[0],T=N[1],P=g(Object(r.useState)(!1),2),_=P[0],R=P[1],I=g(Object(r.useState)(""),2),A=I[0],x=I[1],L=g(Object(r.useState)(!1),2),M=L[0],D=L[1],U=g(Object(r.useState)(),2),q=U[0],F=U[1],B=g(Object(r.useState)(!1),2),W=B[0],H=B[1],V=g(Object(r.useState)(!1),2),Y=V[0],G=V[1],z=g(Object(r.useState)(!1),2),$=z[0],K=z[1],Z=Object(r.useRef)(!0),X=Object(r.useRef)(!0),J=v("Passwords do not match."),Q=v("Great, passwords match!"),ee=v("Passwords match but do not meet the requirements."),te=v("Re-enter password is required."),ne=v("Your password doesn't meet the requirements.");Object(r.useEffect)((function(){c()().then((function(e){T(e)}))}),[]),Object(r.useEffect)((function(){u($&&Y)}),[$,Y,u]),Object(r.useEffect)((function(){X.current?X.current=!1:se(C,w)}),[Y,se,C,w]);var re=function(){var e=g(i?i.split(" "):[void 0,void 0],2),t=e[0],n=e[1],r=w.length>=6&&w.length<=20;w?function(e,t,n,r){return d()(e,t,n,r).then((function(e){return e}))}(t,n,l,w).then((function(e){ae("INVALID"!==e.strength,e.displayText)})).catch((function(){ae(r)})).finally((function(){D(!0)})):(ae(!1,v("Password is required.")),D(!0))},ae=function(e,t){G(e),x(e?t:ne)},oe=function(e){O(e)},ie=Object(r.useMemo)((function(){return Object(b.debounce)(oe,500)}),[]);Object(r.useEffect)((function(){Z.current?Z.current=!1:re()}),[w,l]),Object(r.useEffect)((function(){return ie.cancel()}),[ie]);var se=Object(r.useCallback)((function(e,t){var n=e===t&&""!=e;H(!0),e?n&&Y?(K(!0),F(Q)):(K(!1),F(n&&!Y?ee:J)):(K(!1),F(te))}),[ee,Q,J,Y]);return a.a.createElement("div",{className:"password-fields"},a.a.createElement("div",{className:"form-group has-feedback"},a.a.createElement("div",{className:p()("field-container",{"has-msg":_&&k||M&&A})},a.a.createElement("label",{className:"control-label",htmlFor:"new_password"},v("New Password")),a.a.createElement(m.a,{inputType:"password",inputRef:f,placeholder:v("New Password"),name:"new_password",id:"new_password",alt:"".concat(v("New Password")," ").concat(M&&A?A:""),onBlur:function(){R(!1),re()},onChange:function(e){return ie(e.target.value)},onFocus:function(){return R(!0)},showVisibilityToggle:!0,addClassName:p()("password-field",(t={},y(t,"valid",w&&Y),y(t,"invalid",w&&!Y&&A),t)),isValid:!(!w||!Y)}),a.a.createElement("div",{"aria-live":"assertive"},M&&A&&a.a.createElement("div",{className:p()("field-message","password-strength",y({},"error-msg",!w||!Y))},A)),a.a.createElement("div",{"aria-live":"polite"},_&&k&&a.a.createElement("div",{className:"field-message password-rules"},a.a.createElement("div",{className:"intro-text"},null==k?void 0:k.rulesIntroText),a.a.createElement("ul",null,null==k||null===(n=k.rules)||void 0===n?void 0:n.map((function(e,t){return a.a.createElement("li",{key:t},e)})))))),a.a.createElement("div",{className:p()("field-container",{"has-msg":!!W})},a.a.createElement("label",{className:"control-label",htmlFor:"confirm_password"},v("Re-enter password")),a.a.createElement(m.a,{inputType:"password",placeholder:v("Re-enter password"),inputRef:h,name:"confirm_password",id:"confirm_password",alt:"".concat(v("Re-enter password")," ").concat(W&&q?q:""),onChange:function(e){return j(e.target.value)},onFocus:function(e){return j(e.target.value)},onBlur:function(){se(C,w)},showVisibilityToggle:!0,addClassName:p()("password-field",(o={},y(o,"valid",C&&$),y(o,"invalid",C&&!$&&q),o)),isValid:!(!C||!$)}),a.a.createElement("div",{"aria-live":"assertive"},W&&a.a.createElement("div",{className:p()("field-message","match-message",y({},"error-msg",!C||!$))},q)))))};v.propTypes={name:i.a.string,username:i.a.string,validatePassword:i.a.func,passwordRef:i.a.object,confirmPasswordRef:i.a.object},t.a=v},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(29),c=n(4),u=n.n(c);function d(e){var t=e.googleCta,n=e.nextUrl,o=e.source;Object(r.useEffect)((function(){0===$("#google-root").length&&($.getScript("https://accounts.google.com/gsi/client"),$("body").append("<div id='google-root'></div>"))}),[]);return a.a.createElement("button",{onClick:function(){"login"===o&&window.te.push("event","landing",null,null,"login",{platform:"google"}),window.google.accounts.oauth2.initTokenClient({client_id:wattpad.googleClientId,scope:"profile openid email",callback:function(e){if(e.access_token){var t={token:e.access_token,type:"google",redirect:!0},r=encodeURIComponent(JSON.stringify(t));window.location.href="/oauth-auth?nextUrl="+wattpad.utils.getNextUrl(n,window.location.href)+"&data="+r}}}).requestAccessToken()},className:u()("btn btn-google btn-block","auth-button-new")},a.a.createElement(l.a,{name:"/shared/google_login_color.png",title:"Google Login",width:"18",className:"google-login-icon","aria-hidden":"true"}),a.a.createElement("span",null,a.a.createElement("span",{className:"auth-button-text-new"},t)))}function m(e){var t=e.source,n=e.nextUrl,r=e.focus,o=void 0===r||r,i=Object(s.o)().trans,c=i("signup"===t?"Sign up with Facebook":"Log in with Facebook"),m=i("signup"===t?"Sign up with Google":"Log in with Google");return a.a.createElement("div",{className:u()("signin-buttons","signin-buttons-new")},a.a.createElement(d,{googleCta:m,nextUrl:n,source:t}),a.a.createElement("button",{className:"btn btn-facebook btn-block auth-button-new",autoFocus:o,"data-source":t},a.a.createElement(l.a,{name:"/shared/facebook-login-color.png",title:"Facebook Login",width:"18",className:"google-login-icon","aria-hidden":"true"}),a.a.createElement("span",null,a.a.createElement("span",{className:"auth-button-text-new"},c))))}d.propTypes={googleCta:i.a.string.isRequired,nextUrl:i.a.string,source:i.a.string},m.propTypes={source:i.a.string,nextUrl:i.a.string,focus:i.a.bool};t.a=m},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return O})),n.d(t,"b",(function(){return S})),n.d(t,"e",(function(){return C}));var r=n(20);function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c="CONVERSATION",u="".concat(c,"/POST_MESSAGE_REQUESTED"),d="".concat(c,"/POST_MESSAGE"),m="".concat(c,"/LOAD_REQUESTED"),f="".concat(c,"/LOAD_MORE_REQUESTED"),p="".concat(c,"/LOAD"),b="".concat(c,"/RESET"),y="".concat(c,"/DELETE_REQUESTED"),g="".concat(c,"/DELETE"),h={isActive:!1,isLoading:!0,isLoadingMore:!1,isDeleting:!1,isPosting:!1,messages:[],badges:[],scrollToMessageId:-1,total:0,offset:0,isEmailVerified:!1,isMutingCurrentUser:!1,isMutedByCurrentUser:!1,isBlockedByCurrentUser:!1,isFollowing:!1};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case m:return s(s({},e),{},{badges:[],messages:[],offset:0,total:0,scrollToMessageId:-1,isActive:!1,isLoading:!0,isMutingCurrentUser:!1,isMutedByCurrentUser:!1,isBlockedByCurrentUser:!1,isFollowing:!1});case f:return s(s({},e),{},{isLoadingMore:!0});case p:var n,o=[].concat(a(t.messages.slice().reverse()),a(e.messages));return n=t.isLoadMore?e.messages[0].id:o.length>0?o[o.length-1].id:-1,s(s({},e),{},{isLoading:!1,isLoadingMore:!1,isActive:t.isActive,scrollToMessageId:n,messages:o,badges:t.badges||[],offset:e.offset+t.messages.length,total:t.total,isEmailVerified:wattpad.utils.currentUser().get("verified_email"),isMutingCurrentUser:t.isMutingCurrentUser,isMutedByCurrentUser:t.isMutedByCurrentUser,isBlockedByCurrentUser:t.isBlockedByCurrentUser,isFollowing:t.isFollowing});case g:case b:return s({},h);case y:return s(s({},e),{},{isDeleting:!0});case u:return s(s({},e),{},{isPosting:!0});case d:return s(s({},e),{},{isPosting:!1,messages:[].concat(a(e.messages),[t.message]),scrollToMessageId:t.message?t.message.id:-1,offset:e.offset+1,total:e.total+1});case r.b:return s(s({},e),{},{isMutedByCurrentUser:!0});case r.c:return s(s({},e),{},{isMutedByCurrentUser:!1});case r.a:return s(s({},e),{},{isLoading:!1});default:return e}}var E=function(){return wattpad.utils.currentUser().get("username")};function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="/api/v3/users/".concat(E(),"/inbox/").concat(e,"?offset=").concat(t);return function(e){var r=Promise.resolve($.get(n)),a=t>0;return e(a?{type:f}:{type:m}),r.then((function(t){e({type:p,messages:t.messages,badges:t.badges,isActive:t.isActive,total:t.total,isLoadMore:a,isMutingCurrentUser:t.isBlockingCurrentUser,isMutedByCurrentUser:t.safety.isMuted,isBlockedByCurrentUser:t.safety.isBlocked,isFollowing:t.isFollowing})})).catch((function(){return e({type:p,messages:[],total:0})}))}}function O(e,t){var n=E(),r="/api/v3/users/".concat(n,"/inbox/").concat(e);return function(a){var o={sender:n,recipient:e,body:t.body},i=Promise.resolve($.post(r,o));return a({type:u}),i.then((function(e){return a({type:d,message:e})})).catch((function(){new window.app.views.ErrorToast({message:wattpad.utils.trans("Sorry, something went wrong. Please try again.")},{type:"dismissable"}).render()}))}}function S(e){var t=E();return function(n,r){var a=function(e,t){return e().conversation.isActive?0!==(n=e().conversation.messages).length?n[0].id:null:function(e,t){var n=e.find((function(e){return e.user.name===t}));return null==n||null==n.recentMessage?null:n.recentMessage.id}(e().threads.threads,t);var n}(r,e);":purged:"==e.substring(0,8)&&(e=e.replace(":purged:",""));var o="/api/v3/users/".concat(t,"/inbox/").concat(e)+(null!==a?"?message_id=".concat(a):""),i=Promise.resolve($.ajax({url:o,type:"DELETE"}));return n({type:y}),i.finally((function(){return n({type:g})}))}}function C(){return function(e){e({type:b})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(14),a=n.n(r),o=n(5),i=n(17);function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="/v5/users/".concat(e,"/wallet");return function(e,r){return r().wallet.fetched&&!t?Promise.resolve():Promise.resolve($.get(n)).then((function(t){var n=a.a.find(t,{id:i.d});n&&e({type:i.k,amount:n.amount})})).catch((function(e){console.log("Failed to fetch wallet balance",e)}))}}function l(e,t){return function(n){return n({type:i.b,price:e,partId:t}),n({type:i.m,step:i.n.COIN}),setTimeout((function(){n({type:i.m,step:i.n.DEDUCTING})}),i.c),Object(o.r)(i.e)}}function c(){return function(e){return e({type:i.m,step:i.n.SUBTRACTING}),Object(o.r)(i.l)}}function u(){return function(e){return e({type:i.m,step:i.n.COIN}),setTimeout((function(){e({type:i.a})}),i.c),Object(o.r)(i.c)}}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(121),u=n(22);function d(e){var t=e.label,n=e.info,r=e.about,o=e.name,i=e.placeholder,s=e.value,d=e.characterLimit,m=e.hideCharacterLimit,f=e.minRows,p=e.maxRows,b=e.textareaLineHeight,y=e.onChange,g=e.labelClassName,h=e.className,v=e.textareaClassName;return a.a.createElement("div",{className:l()("form-field",h)},Object(u.c)({label:t,labelClassName:g,tooltip:n}),Object(u.b)(r),a.a.createElement(c.a,{value:s||"",name:o,placeholder:i,onChange:function(e){d&&(e.target.value=e.target.value.substr(0,d)),y(e)},characterLimit:d,hideCharacterLimit:m,minRows:f,maxRows:p,textareaLineHeight:b,className:l()("planner-textarea",v)}))}d.defaultProps={value:"",minRows:1,maxRows:10,textareaLineHeight:26,onChange:function(){}},d.propTypes={label:i.a.string,info:i.a.string,about:i.a.string,name:i.a.string,placeholder:i.a.string,value:i.a.string,characterLimit:i.a.number,hideCharacterLimit:i.a.bool,minRows:i.a.number.isRequired,maxRows:i.a.number.isRequired,textareaLineHeight:i.a.number.isRequired,onChange:i.a.func.isRequired,labelClassName:i.a.string,className:i.a.string,textareaClassName:i.a.string},t.a=d},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(4),a=n.n(r),o=n(1),i=n.n(o),s=n(0),l=n.n(s),c=n(3);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(i,e);var t,n,r,o=p(i);function i(){return d(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t="wattys-tag"===this.props.className?"wp-neutral-5":"wp-neutral-2";return l.a.createElement("a",{className:a()("tag-item with-icon",{active:this.props.active},this.props.className),onClick:function(t){return e.props.clickHandler(t,e.props.name)},href:this.props.link},l.a.createElement("span",null,this.props.name),this.props.active?this.props.noRemoveIcon?null:l.a.createElement(c.g,{iconName:"fa-remove",height:"12",color:t}):l.a.createElement(c.g,{iconName:"fa-plus",height:"12",color:t}))}}])&&m(t.prototype,n),r&&m(t,r),i}(l.a.Component);g.defaultProps={clickHandler:function(){}},g.propTypes={active:i.a.bool,noRemoveIcon:i.a.bool,className:i.a.string,name:i.a.string.isRequired,clickHandler:i.a.func,link:i.a.string}},,function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return b}));var l="".concat("STORY_TAGS","/SET"),c="".concat("STORY_TAGS","/ADD"),u="".concat("STORY_TAGS","/REMOVE"),d={tags:[]};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case l:return i(i({},e),t.tags);case c:return i(i({},e),{},{tags:[].concat(r(e.tags),[t.tag])});case u:var n=e.tags.findIndex((function(e){return e.name===t.tag}));return i(i({},e),{},{tags:[].concat(r(e.tags.slice(0,n)),r(e.tags.slice(n+1)))});default:return e}}function f(e){return function(t){t({type:c,tag:e})}}function p(e){return function(t){t({type:l,tags:e})}}function b(e){return function(t){t({type:u,tag:e})}}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(4),c=n.n(l),u=n(34),d=n(2),m=n(18),f=n(7);function p(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=function(e){var t=e.readingLists,n=e.storyId,o=e.storiesCollections,i=e.className,l=e.fromStoryDetails,b=e.setShowPopover,E=Object(d.o)().trans,w=Object(f.c)(),O=v(Object(r.useState)(o||{}),2),S=O[0],C=O[1],j=v(Object(r.useState)(t||[]),2),N=j[0],k=j[1],T=v(Object(r.useState)(""),2),P=T[0],_=T[1],R=v(Object(r.useState)(null),2),I=R[0],A=R[1],x=Object(r.useRef)({}),L=Object(r.useRef)(null),M=Object(r.useRef)(null),D=Object(r.useRef)(null),U=function(){return l?"story_details":(document.baseURI||document.URL).indexOf("premiumpicks")>-1?"premium_picks":"home"};Object(r.useEffect)((function(){void 0!==("undefined"==typeof window?"undefined":h(window))&&(D.current=document.activeElement)}),[]),Object(d.a)(M.current,(function(){b&&b(!1)}));var q=function(){var e;b?b(!1):w(Object(u.a)()),null===(e=D.current)||void 0===e||e.focus()};Object(d.p)(M.current,D.current,q);var F=function(e){window.te.push("event","app","story","library","add",{storyid:e,page:U()})},B=function(e){F(n),w(Object(m.p)(e,n)),C(y(y({},S),{},g({},e,!0)))},W=function(e){A(null),S[e]?(!function(e){window.te.push("event","app","story","library","remove",{storyid:e,page:U()})}(n),w(Object(m.m)(e,n)),C(y(y({},S),{},g({},e,!1)))):B(e)};return a.a.createElement("div",{"aria-modal":"true",ref:M,className:c()("react-popover-container--small",i)},a.a.createElement("div",{className:"react-popover-header"},a.a.createElement("span",{className:"sr-only"},E("Add to modal open")),a.a.createElement("div",{"aria-hidden":"true",className:"react-popover-title"},E("Add to")),a.a.createElement("button",{onClick:q,className:"react-popover-done-btn"},E("Done"))),a.a.createElement("ul",{className:"react-popover-list--small"},a.a.createElement("li",{key:"library",className:"react-popover-item"},a.a.createElement("button",{onClick:function(){W("library")},tabIndex:"0",className:"react-popover-item__btn",ref:function(e){return x.current.library=e}},a.a.createElement(s.g,{iconName:"fa-library",height:"18",color:"wp-neutral-1"}),a.a.createElement("span",{className:"item-name"},E("My Library (Private)")),S.library&&a.a.createElement(s.g,{name:"check",size:"24",color:"wp-base-1-light",fill:!0,strokeWidth:"1"}))),N&&N.map((function(e){return a.a.createElement("li",{key:e.id,className:"react-popover-item"},a.a.createElement("button",{onClick:function(){W(e.id)},tabIndex:"0",className:"react-popover-item__btn",ref:function(t){return x.current[e.id]=t}},a.a.createElement(s.g,{iconName:"fa-reading-list",height:"18",color:"wp-neutral-1"}),a.a.createElement("span",{className:"item-name"},e.name),S[e.id]&&a.a.createElement(s.g,{name:"check",size:"24",color:"wp-base-1-light",fill:!0,strokeWidth:"1"})))})),a.a.createElement("div",{ref:L})),a.a.createElement("form",null,a.a.createElement("div",{className:"react-popover-input-row"},a.a.createElement("input",{type:"text",className:"form-control input-text",placeholder:E("Add new reading list..."),onChange:function(e){return _(e.target.value)},value:P}),a.a.createElement("button",{"aria-label":E("Add new reading list..."),className:"btn-icon",onClick:function(e){e.preventDefault(),e.stopPropagation(),function(){if(A(null),P){var e=P;_("");var t=N.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}));if(t&&S[t.id])x.current[t.id].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"});else if(t)B(t.id),x.current[t.id].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"});else{var r={id:null,name:e,numStories:0,cover:0,tags:[],featured:!1,stories:n};F(n),Promise.resolve($.post("/api/v3/lists/",r)).then((function(e){k([].concat(p(N),[{id:e.id,name:e.name}])),C(y(y({},S),{},g({},e.id,!0))),w(Object(m.g)()),w(Object(m.e)(n)),L.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})})).catch((function(e){var t=e.responseText?e.responseText:e.statusText;console.log(t||e);var n=new Error(E("We are unable to add this story to your reading list at this time"));A(n)}))}}}()}},a.a.createElement(s.g,{name:"add",height:"12",color:"wp-neutral-1",strokeWidth:"2.5"})))),I&&a.a.createElement("div",{className:"react-popover-error"},I.message))};O.propTypes={readingLists:i.a.array.isRequired,storyId:i.a.number,storiesCollections:i.a.object.isRequired,className:i.a.string,fromStoryDetails:i.a.bool,setShowPopover:i.a.func},t.a=O},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(102),l=n(388),c=n.n(l);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e){var t,n=e.placement,o=e.adData,i=e.className,l=e.wrapperClassName,u=e.refresh,m=f(Object(r.useState)(Object(s.createUniqueAdId)(n)),1)[0],p=Object(s.includeAdMarkup)(n,o.testGroups,o.context),b=["images_under_moderation","skipped_brandsafe","skipped_default"],y=function(){return a.a.createElement("div",{className:i,id:m})};return Object(r.useEffect)((function(){var e,r;(o.testGroups.AD_ELIGIBILITY&&o.adEligibility&&c()({adData:o,skipReason:p.reason}),p.result)?t=Object(s.getAd)(d(d({},o),{},{placement:m}),u):"undefined"!=typeof __atha&&(p.reason.includes("skipped_special_placement_")||b.includes(p.reason))&&__atha.sendSkip(n,p.reason,null==o||null===(e=o.context)||void 0===e?void 0:e.story,null==o||null===(r=o.context)||void 0===r?void 0:r.storyPart)}),[p.result]),Object(r.useEffect)((function(){if(u&&"function"==typeof t&&window&&window.addEventListener){var e="refresh-".concat(n);return window.addEventListener(e,t),function(){window.removeEventListener(e,t)}}})),p.result?l?a.a.createElement("div",{className:l},y()):y():null},y={isAdExempt:i.a.bool.isRequired,isBrandSafe:i.a.bool.isRequired,isPaywalled:i.a.bool.isRequired,rating:i.a.number.isRequired,imagesUnderModeration:i.a.bool,language:i.a.number},g={id:i.a.oneOfType([i.a.string,i.a.number]).isRequired,brandSafetyLevel:i.a.number.isRequired,brandSafetySource:i.a.string.isRequired,rank:i.a.number,rating:i.a.number.isRequired,totalViewCount:i.a.number.isRequired,imagesUnderModeration:i.a.bool},h={user:i.a.shape({isPremium:i.a.bool.required}),story:i.a.shape(y),storyPart:i.a.shape(g)};b.propTypes={placement:i.a.string.isRequired,adData:i.a.shape({userGeo:i.a.string.isRequired,testGroups:i.a.objectOf(i.a.bool).isRequired,deviceType:i.a.string.isRequired,context:i.a.shape(h)}).isRequired,className:i.a.string.isRequired,wrapperClassName:i.a.string,refresh:i.a.bool},t.a=b},,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(206),u=n(131),d=n(73),m=n(5),f=function(e){var t=e.title,n=e.id,r=e.cover,o=e.sources,i=e.offset,s=e.shiftCarousel,c=e.sectionType,u=e.index,d=e.width,f=void 0===d?200:d,p=e.page,b=e.clickTrackingUrls,y=e.callTrackingUrls,g=e.isActiveStory,h=void 0!==g&&g,v=i+1,E=function(e,t){e.preventDefault(),window.te.push("event","story",null,null,"click",{storyid:n,page:p,algo_source:o,position:u,offset:i,type:c}),b&&y(b),s&&!h?s():app.router.navigate(t,{trigger:!0})};return a.a.createElement("div",{className:l()("story-item","story-".concat(i))},a.a.createElement("div",{className:"story-item-wrapper"},a.a.createElement("div",{className:"cover"},a.a.createElement("a",{href:"/story/"+n,onClick:function(e){return E(e,"/story/".concat(n))}},a.a.createElement("img",{src:Object(m.t)(r,f),alt:"".concat(t," cover")}))),a.a.createElement("a",{href:"/story/"+n,onClick:function(e){return E(e,"/story/".concat(n))},className:"footer"},a.a.createElement("div",{className:"rank"},a.a.createElement("span",{className:l()("number",{"double-digit":v>9})},v)),a.a.createElement("div",{className:"title"},t))))};f.defaultProps={onStoryClick:null,sources:[]},f.propTypes={cover:i.a.string.isRequired,id:i.a.oneOfType([i.a.string,i.a.number]).isRequired,index:i.a.number,offset:i.a.number,sectionType:i.a.string,sources:i.a.array,shiftCarousel:i.a.func,title:i.a.string.isRequired,width:i.a.number,page:i.a.string,clickTrackingUrls:i.a.array,callTrackingUrls:i.a.func,isActiveStory:i.a.bool};var p=f,b=function(e){var t,n,o=e.sectionType,i=e.expandPrompt,s=e.background,m=e.heading,f=e.headingPill,b=e.subheading,y=e.stories,g=e.isPromoted,h=e.index,v=e.windowWidth,E=e.wasSeen,w=e.setPosition,O=e.storiesToShow,S=e.mobileStoriesToShow,C=e.storyWidth,j=e.page,N=e.withDivider,k=void 0===N||N,T=e.onStoryClick,P=e.callTrackingUrls,_=e.clickTrackingUrls,R=Object(r.useRef)(null);switch(o){case"rankedStoryList":t="ranked-story-swimlane",n=p;break;default:t="story-swimlane"}return Object(r.useEffect)((function(){if(R.current){var e=R.current.getBoundingClientRect();w(h,o,e.top+window.scrollY,e.bottom+window.scrollY)}}),[h,o,w]),null===y||0===y.length?null:"storyExpanded"===o?a.a.createElement("div",{className:l()("story-swimlane module",s),ref:R},a.a.createElement("div",{className:"module-content full-width"},a.a.createElement(d.c,{heading:m,headingPill:f,expandPrompt:i,sectionType:o,subheading:b,isPromoted:g}),a.a.createElement(c.a,{sectionType:o,stories:y,windowWidth:v,index:h,wasSeen:E,storiesToShow:O,storyWidth:C,page:j,onStoryClick:T,clickTrackingUrls:_,callTrackingUrls:P}),k&&a.a.createElement("hr",{className:"module-divider"}))):a.a.createElement("div",{className:l()(t,"module",s),ref:R},a.a.createElement("div",{className:"module-content"},a.a.createElement(d.c,{heading:m,headingPill:f,expandPrompt:i,sectionType:o,subheading:b,isPromoted:g}),a.a.createElement(u.a,{sectionType:o,stories:y,windowWidth:v,index:h,wasSeen:E,storiesToShow:O,mobileStoriesToShow:S,storyWidth:C,page:j,onStoryClick:T,clickTrackingUrls:_,callTrackingUrls:P,SlideComponent:n}),k&&a.a.createElement("hr",{className:"module-divider"})))};b.defaultProps={onStoryClick:null},b.propTypes={heading:i.a.string,headingPill:i.a.shape(d.a),index:i.a.number.isRequired,expandPrompt:i.a.object,background:i.a.string,isPromoted:i.a.bool,sectionType:i.a.string.isRequired,setPosition:i.a.func.isRequired,subheading:i.a.string,stories:i.a.array.isRequired,wasSeen:i.a.bool,windowWidth:i.a.number,storiesToShow:i.a.number,mobileStoriesToShow:i.a.number,storyWidth:i.a.number,page:i.a.string,withDivider:i.a.bool,onStoryClick:i.a.func,clickTrackingUrls:i.a.array,callTrackingUrls:i.a.func};t.a=b},,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(22);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function p(e){var t,n=e.info,o=e.label,i=e.placeholder,s=e.selected,m=e.selectClassName,p=e.disabled,b=e.dropdownOptions,y=e.onChange,g=e.onFocus,h=e.onBlur,v=e.onClickIcon,E=e.className,w=e.labelClassName,O=e.ariaLabel,S=f(e,["info","label","placeholder","selected","selectClassName","disabled","dropdownOptions","onChange","onFocus","onBlur","onClickIcon","className","labelClassName","ariaLabel"]),C=d(Object(r.useState)(),2),j=C[0],N=C[1],k=function(e){y(e)},T=b.map((function(e){return a.a.createElement("option",{key:e.value,value:e.value},e.name)})),P=function(){N(!0),g()},_=function(){N(!1),h()};return a.a.createElement("div",{className:l()("form-field",E)},Object(c.c)({label:o,labelClassName:w,tooltip:n,onClickIcon:v}),a.a.createElement("select",u({value:(t=b.find((function(e){return e.value.toString()===s})),t?t.value:i),onChange:function(e){return k(e)},onFocus:function(e){return P()},onBlur:function(e){return _()},className:l()("select-form-field",m,{focus:j}),id:"select-form-component",disabled:p,"aria-label":O},S),"(value !== placeholder &&"," ",a.a.createElement("option",{hidden:!0,disabled:!0,value:i},i),")",T))}p.defaultProps={placeholder:"Select",disabled:!1,onChange:function(){},onFocus:function(){},onBlur:function(){},onClickIcon:null},p.propTypes={dropdownOptions:i.a.array.isRequired,onChange:i.a.func.isRequired,onFocus:i.a.func,onBlur:i.a.func,onClickIcon:i.a.func,selected:i.a.string,selectClassName:i.a.string,disabled:i.a.bool,className:i.a.string,label:i.a.string,labelClassName:i.a.string,info:i.a.string,placeholder:i.a.string,ariaLabel:i.a.string},t.a=p},,,,,,,,,,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(22),u=n(2),d=n(12),m=n.n(d),f=n(10);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){var t=e.className,n=e.labelClassName,o=e.label,i=e.value,s=e.name,d=e.min,y=e.max,g=e.onChange,h=e.disabled,v=e.required,E=e.timeIncrements,w=Object(u.o)().trans,O={};d&&(O.min=d),y&&(O.max=y);var S=b(Object(r.useState)(m()(i).locale("en").format("YYYY-MM-DD")),2),C=S[0],j=S[1],N=b(Object(r.useState)(m()(i).isAfter()?m()(i).locale("en").format("HH:mm:00"):""),2),k=N[0],T=N[1],P=b(Object(r.useState)([]),2),_=P[0],R=P[1],I=function(e,t){var n=t.split(":"),r=m()(e).locale("en").set("hours",n[0]).set("minutes",n[1]);g(null!=r&&r.isValid&&r.isValid()?r.toISOString():null)};var A=1===parseInt(app.get("language"),10)?w("Time"):w("Clock Time"),x=Object(r.useCallback)((function(){for(var e=[],t=m()(C).endOf("day"),n=m()(C).startOf("day"),r=m()(C).locale("en").startOf("day"),a=m()().add(E,"m");n<t;)e.push({displayValue:n.format("hh:mm A"),value:r.format("HH:mm:00"),isDisabled:n<a}),n.add(E,"m"),r.add(E,"m");return e}),[C,E]);return Object(r.useEffect)((function(){R(x())}),[R,x]),a.a.createElement("div",{className:l()("date-time-field",t)},Object(c.c)({label:o,labelClassName:n}),a.a.createElement("div",{className:"field-row"},a.a.createElement("input",p({className:"date-form-field text-body",type:"date",name:s},O,{disabled:h,required:v,onChange:function(e){var t=m()().locale("en").add(E,"m"),n=m()("".concat(e.target.value," ").concat(k)).locale("en");j(e.target.value),n<t&&T(""),I(e.target.value,k)},value:C})),a.a.createElement("div",{className:"select-container"},a.a.createElement("select",{className:"time-form-field text-body",onChange:function(e){var t;t=e.target.value,T(t),I(C,t)},value:k},a.a.createElement("option",{value:""},A),_.map((function(e){return a.a.createElement("option",{key:"option-".concat(e.value),value:e.value,disabled:e.isDisabled},e.displayValue)}))),a.a.createElement(f.a,{name:"history",className:"time-icon vcenter"}))))};g.defaultProps={disabled:!1,required:!1,onChange:function(){},timeIncrements:15},g.propTypes={className:i.a.string,labelClassName:i.a.string,label:i.a.string,value:i.a.string,name:i.a.string,min:i.a.string,max:i.a.string,onChange:i.a.func.isRequired,disabled:i.a.bool,required:i.a.bool,timeIncrements:i.a.number},t.a=g},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var r=n(51),a=a||e,o=a.wattpad&&a.wattpad.utils||{},i={localStorage:{get:function(e){return a.localStorage.getItem(e)},set:function(e,t){return a.localStorage.setItem(e,t)}},sessionStorage:{get:function(e){return a.sessionStorage.getItem(e)},set:function(e,t){return a.sessionStorage.setItem(e,t)}},cookie:{get:function(e){return o.getCookie(e)},set:function(e,t){return o.setCookie(e,t)}}},s=function(e){return-1!==["cookie","localStorage","sessionStorage"].indexOf(e)&&("cookie"===e?o&&o.getCookie:"localStorage"===e?a&&a.localStorage:"sessionStorage"===e?a&&a.sessionStorage:void 0)},l=function(e){var t=e.key,n=e.type,a=void 0===n?"cookie":n;if(r.a&&s(a))try{var o=i[a].get(t);return o?JSON.parse(o):null}catch(e){return null}return null},c=function(e){var t=e.key,n=e.value,a=e.type,o=void 0===a?"cookie":a;r.a&&s(o)&&i[o].set(t,JSON.stringify(n))}}).call(this,n(33))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),a=n.n(r).a.createContext({})},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function f(e){var t=e.className,n=e.minRows,o=e.maxRows,i=e.onChange,s=e.value,d=e.textareaLineHeight,f=e.characterLimit,p=e.hideCharacterLimit,b=m(e,["className","minRows","maxRows","onChange","value","textareaLineHeight","characterLimit","hideCharacterLimit"]),y=u(Object(r.useState)(n),2),g=y[0],h=y[1],v=u(Object(r.useState)(),2),E=v[0],w=v[1],O=Object(r.useRef)(null),S=Object(r.useCallback)((function(){var e=O.current.rows;O.current.rows=n;var t=O.current.scrollHeight,r=t?Math.floor(t/d):n;r===e&&(O.current.rows=r),r>=o&&(O.current.rows=o,O.current.scrollTop=O.current.scrollHeight),h(Math.min(r,o))}),[n,o,d]);Object(r.useEffect)((function(){""===s&&g!==n&&h(n)}),[s,g,n]),Object(r.useEffect)((function(){S()}),[S]),Object(r.useEffect)((function(){return window.addEventListener("resize",S),function(){window.removeEventListener("resize",S)}}));var C=f-s.length,j=C<=0;return a.a.createElement("div",{className:l()(t,"resizable-textarea",{error:j,focus:E})},a.a.createElement("textarea",c({ref:O,onFocus:function(){return w(!0)},onBlur:function(){return w(!1)},rows:g,value:s,onChange:function(e){S(),i(e)}},b)),!p&&a.a.createElement("div",{className:"counter"},C))}f.defaultProps={minRows:2,maxRows:5,textareaLineHeight:24,onChange:function(){},characterLimit:2e3},f.propTypes={className:i.a.string,value:i.a.string.isRequired,minRows:i.a.number.isRequired,maxRows:i.a.number.isRequired,textareaLineHeight:i.a.number.isRequired,onChange:i.a.func.isRequired,characterLimit:i.a.number.isRequired,hideCharacterLimit:i.a.bool}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(7),i=n(1),s=n.n(i),l=n(4),c=n.n(l),u=n(10),d=n(13),m=n(2),f=n(28);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t=e.toggleModal,n=e.modalProps,o=e.isGlobalModalContainer,i=void 0!==o&&o,s=n=n||{},l=s.className,d=s.component,b=s.disableClose,y=void 0!==b&&b,g=s.hideClose,h=void 0!==g&&g,v=s.animate,E=void 0===v||v,w=s.onCloseModal,O=void 0===w?function(){}:w,S=s.useGlobalModalContainer,C=void 0!==S&&S,j=s.disableScroll,N=void 0!==j&&j,k=p(Object(r.useState)(null),2),T=k[0],P=k[1];Object(r.useEffect)((function(){if(N)return document.body.classList.add("wp-modal-open"),function(){return document.body.classList.remove("wp-modal-open")}}),[N]);var _=Object(r.useCallback)((function(){t(),O()}),[t,O]);Object(m.a)(T,(function(){d&&!y&&_()}));var R=Object(r.useCallback)((function(e){y||"Escape"===(e.key||e.keyCode)&&_()}),[y,_]);if(Object(r.useEffect)((function(){var e;wattpad&&wattpad.utils&&wattpad.utils.registerModal&&(null===(e=window.wattpad)||void 0===e||e.utils.registerModal("wpmodal",f.c.WP_MODAL,{isOpen:function(){return!!d},hide:function(){d&&_()}}));return window.addEventListener("keydown",R),function(){window.removeEventListener("keydown",R)}}),[d,_,R]),!d)return null;if(i!==C)return null;var I=d;return a.a.createElement("div",{className:c()("wp-modal","modal-container",l)},a.a.createElement("div",{ref:function(e){return P(e)},className:c()("modal-content",{animate:E}),"aria-label":"Full screen modal"},!y&&!h&&a.a.createElement("button",{className:"btn-no-style",onClick:function(){t(),O()},"aria-label":"Close modal"},a.a.createElement(u.a,{iconName:"fa-remove",color:"wp-neutral-1",height:"22",className:"close-btn"})),a.a.createElement(I,{toggleModal:t})))}y.propTypes={toggleModal:s.a.func.isRequired,isGlobalModalContainer:s.a.bool,modalProps:s.a.shape({className:s.a.string,component:s.a.func,disableClose:s.a.bool,hideClose:s.a.bool,animate:s.a.bool,onCloseModal:s.a.func,useGlobalModalContainer:s.a.bool,disableScroll:s.a.bool})};var g=Object(o.b)((function(e){return{modalProps:e.modal.modalProps}}),{toggleModal:d.b})(y);t.a=g},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(0),a='a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]',o=function(e,t,n){var o=Object(r.useRef)(),i=Object(r.useRef)(),s=function(){if(e){var t=e.querySelectorAll(a);t.length>0&&(i.current=t[0],o.current=t[t.length-1])}},l=function(e,t,n){var r;document.activeElement===t.current&&(e.preventDefault(),null===(r=n.current)||void 0===r||r.focus())},c=function(e){"Tab"===e.key&&i.current&&o.current&&(e.shiftKey?l(e,i,o):l(e,o,i)),"Escape"===e.key&&t&&(e.preventDefault(),null==n||n(),null==t||t.focus())};return Object(r.useEffect)((function(){var t;if(e)return s(),null===(t=i.current)||void 0===t||t.focus(),e.addEventListener("tap",c),e.addEventListener("keydown",c),function(){e.removeEventListener("tap",c),e.removeEventListener("keydown",c)}}),[e]),{updateTabStops:s}}},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(48),l=n(89),c=n(3),u=n(2),d=n(90),m=n(6),f=n(4),p=n.n(f);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){var t,n=e.formType,r=e.nextUrl,a=void 0===r?"/home":r,f=Object(u.o)().trans,y=b(Object(o.useState)(!1),2),g=y[0],h=y[1],v=b(Object(o.useState)(!1),2),E=v[0],w=v[1],O=b(Object(o.useState)(!1),2),S=O[0],C=O[1],j=b(Object(o.useState)(!1),2),N=j[0],k=j[1],T=b(Object(o.useState)(null),2),P=T[0],_=T[1],R=b(Object(o.useState)(!1),2),I=R[0],A=R[1],x=b(Object(o.useState)(),2),L=x[0],M=x[1],D=b(Object(o.useState)(!1),2),U=D[0],q=D[1],F=Object(o.useRef)(),B=Object(o.useRef)(),W=Object(o.useRef)(),H=Object(o.useRef)(),V=Object(o.useRef)(),Y=Object(o.useRef)(),G=S&&E&&g&&N&&P,z=Object(o.useMemo)((function(){return Object(c.w)(c.f)}),[]),K=Object(o.useRef)((null===(t=window.app)||void 0===t?void 0:t.models)&&new window.app.models.Authsignup),Z=function(e,t){t.toLowerCase().includes("username")?h(e):t.toLowerCase().includes("email")?w(e):t.toLowerCase().includes("password")?C(e):t.toLowerCase().includes("birthday")&&k(e)},X="/signup?nextUrl=".concat(a),J=f("Yes, I have read and agree to Wattpad's <a href='/terms'>Terms of Service</a> and <a href='/privacy'>Privacy Policy</a>."),Q=function(e,t,n){return i.a.createElement("div",{className:"field-label"},i.a.createElement("span",{className:"field-label-text"},e),i.a.createElement("div",{"aria-label":t,"data-tip":n},i.a.createElement(c.g,{height:"16",iconName:"fa-info",color:"wp-neutral-1",className:"tooltip-icon"})))};return i.a.createElement(i.a.Fragment,null,i.a.createElement("form",{id:"signupForm",action:X,method:"POST",onSubmit:function(e){if(e.preventDefault(),!(S?E?g?N?P:(V.current.focus(),0):(F.current.focus(),0):(B.current.focus(),0):(W.current.focus(),0)))return W.current.focus(),W.current.blur(),H.current.focus(),H.current.blur(),V.current.focus(),V.current.blur(),F.current.focus(),F.current.blur(),B.current.blur(),B.current.focus(),_(!!P),void q(!0);$.ajax({type:"post",url:X,data:$("#signupForm").serialize()}).done((function(e){window.location.replace(e.redirectUrl).reload()})).fail((function(e){var t,n=(null===(t=e.responseJSON)||void 0===t?void 0:t.msg)||f("Something went wrong. Please try again");wattpad.utils.showToast(n,{type:"dismissable"})}))},noValidate:!0},i.a.createElement(s.a,{className:"tool-tip",effect:"solid"}),i.a.createElement("input",{type:"hidden",name:"signup-from",value:"new_landing_signup"}),i.a.createElement("input",{type:"hidden",name:"form-type",value:n||""}),i.a.createElement("div",{className:"input-group-vertical",key:"form-fields"},["email","username","birthday","pronouns","password","email-opt-in","policy"].map((function(e){return function(e){switch(e){case"username":return i.a.createElement(i.a.Fragment,{key:"username"},Q(f("Username"),"username hint",f("You do not have to use your real name. You can choose to use another name to protect your privacy.")),i.a.createElement(z,{name:"username",form:"signup",inputType:"text",title:f("Enter username"),inputRef:F,validationModel:K.current,showLabel:!0,onValid:function(e){return Z(!0,e)},onInvalid:function(e){return Z(!1,e)},onBlur:function(){return M(F.current.value)}}));case"email":return i.a.createElement(z,{name:"email",label:f("E-mail"),form:"signup",inputType:"text",title:f("Enter E-mail"),validationModel:K.current,inputRef:B,showLabel:!0,onValid:function(e){return Z(!0,e)},onInvalid:function(e){return Z(!1,e)},key:"email"});case"password":return i.a.createElement(d.a,{username:L,validatePassword:C,key:"password-field",passwordRef:W,confirmPasswordRef:H});case"birthday":return i.a.createElement(i.a.Fragment,{key:"birthday-field"},Q(f("Birthday"),"why we ask for your birthday",f("You need to enter the date you were born. This information will only be visible to you and Wattpad’s Support teams.")),i.a.createElement("div",{className:"birthday-fields"},i.a.createElement(l.a,{inputRef:V,validationModel:K.current,onValid:function(){return Z(!0,"birthday")},onInvalid:function(){return Z(!1,"birthday")}})));case"policy":return i.a.createElement(i.a.Fragment,{key:"policy-agreement"},i.a.createElement("div",{className:p()("email-policy-agreement-container")},i.a.createElement(c.n,{contentId:"policy-consent",required:!0,checked:!!P,onChange:function(){return _(!P)},color:"ds-base-2-60",onBlur:function(){_(!!P)},invalid:P},i.a.createElement("span",{className:p()("checkbox-title"),dangerouslySetInnerHTML:{__html:J}}),!1===P&&i.a.createElement("span",{className:p()("checkbox-subtitle","checkbox-error")},f("Checking this box is required.")))));case"email-opt-in":return i.a.createElement("div",{className:p()("email-policy-agreement-container"),key:"email-opt-in"},i.a.createElement(c.n,{contentId:"marketing",name:"marketing",id:"marketing",checked:I,value:I,onChange:function(){return A(!I)},color:"ds-base-2-60"},i.a.createElement("span",{className:"checkbox-title"},f("Yes, I'd like to receive marketing emails from Wattpad. (optional)")),i.a.createElement("span",{className:"checkbox-subtitle"},f("Get story recommendations, announcements, offers, and more via email. Unsubscribe anytime."))));case"pronouns":return i.a.createElement(i.a.Fragment,{key:"pronouns"},Q(f("Pronouns (optional)"),f("Why we ask for your pronouns"),f("Your pronouns are only visible to you and Wattpad's support team. Update them anytime in your profile.")),i.a.createElement(c.f,{inputType:"pronouns",id:"pronouns",name:"pronouns",defaultValue:"","aria-label":"Select Pronoun",ref:Y}));default:return i.a.createElement(i.a.Fragment,null)}}(e)}))),i.a.createElement(m.Button,{fullWidth:!0,label:f("Sign up with email"),ariaLabel:f("Sign up with email")}),U&&!G&&i.a.createElement("div",{"aria-live":"assertive",className:p()("error-msg","submit-error-msg"),role:"alert"},f("Please fix any errors to continue."))))};g.propTypes={formType:a.a.string,nextUrl:a.a.string,toggleFormView:a.a.func.isRequired},t.a=g},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(2),l=n(3),c=n(6),u=function(e){var t=e.msg,n=e.nextUrl,r=void 0===n?"/home":n,a=e.notice,o=e.toggleFormView,u="/login?nextUrl=".concat(r),d=Object(s.o)().trans;return i.a.createElement(i.a.Fragment,null,i.a.createElement(c.Button,{variant:c.ButtonVariant.TERTIARY,label:d("Back to all login options"),onClick:o,fullWidth:!0,className:"back-link",leadingIcon:c.IconNames.WpChevronLeft}),i.a.createElement("form",{id:"login-form",action:u,method:"POST"},i.a.createElement("div",{className:"input-group-vertical"},i.a.createElement(l.f,{name:"username",label:d("Email or username"),title:d("Email or username"),form:"login",inputType:"text",showLabel:!0,autofocus:!0}),i.a.createElement(l.f,{name:"password",label:d("Password"),title:d("Password"),form:"login",inputType:"password",showVisibilityToggle:!0,showLabel:!0})),i.a.createElement(c.Button,{className:"footer-button-margin",label:d("Log in"),fullWidth:!0})),i.a.createElement(c.Button,{variant:c.ButtonVariant.TERTIARY,label:d("Forgot password?"),onClick:function(){return window.location.href="/forgot?nextUrl=".concat(r)},fullWidth:!0}),t&&i.a.createElement("div",{className:"alert alert-danger",role:"alert"},i.a.createElement(l.g,{iconName:"fa-info",height:"16",color:"wp-lighterror"}),t),a&&i.a.createElement("div",{className:"alert alert-info",role:"alert"},i.a.createElement(l.g,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}),a))};u.propTypes={msg:a.a.string,nextUrl:a.a.string,notice:a.a.string,toggleFormView:a.a.func};var d=u,m=n(91),f=n(4),p=n.n(f),b=function(e){var t=e.focus,n=e.msg,r=e.nextUrl,a=void 0===r?"/home":r,o=e.notice,u=e.toggleFormView,d=Object(s.o)().trans;return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{source:"login",nextUrl:a,focus:t}),i.a.createElement("div",{className:p()("hr-with-text","hr-margin-new")},i.a.createElement("div",{className:"horizontal-line"}),i.a.createElement("span",{className:"or"}," ",d("or")," "),i.a.createElement("div",{className:"horizontal-line"})),i.a.createElement("button",{className:p()("btn-block btn-primary","submit-btn-new"),onClick:function(){window.te.push("event","landing",null,null,"login",{platform:"email"}),u()}},d("Log in with email")),i.a.createElement(c.Button,{variant:c.ButtonVariant.TERTIARY,href:"/forgot?nextUrl=".concat(a),label:d("Forgot password?"),fullWidth:!0}),n&&i.a.createElement("div",{className:"alert alert-danger",role:"alert"},i.a.createElement(l.g,{iconName:"fa-info",height:"16",color:"wp-lighterror"}),n),o&&i.a.createElement("div",{className:"alert alert-info",role:"alert"},i.a.createElement(l.g,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}),o))};b.propTypes={focus:a.a.bool,msg:a.a.string,nextUrl:a.a.string,notice:a.a.string,toggleFormView:a.a.func};var y=b;function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=e.focus,n=void 0===t||t,r=e.msg,a=e.nextUrl,l=void 0===a?"/home":a,u=e.notice,m=e.toggleForm,f=Object(s.o)().trans,b=g(Object(o.useState)(!1),2),h=b[0],v=b[1],E=function(){return v(!h)};return i.a.createElement("div",{className:p()("auth-form-padding",{"auth-form-modal-padding":l&&!l.includes("home")})},i.a.createElement("div",{id:"authentication-panel",className:p()("login-form")},!h&&i.a.createElement("p",{className:"title"},f("Log in to Wattpad")),i.a.createElement("div",{className:"panel-body"},h?i.a.createElement(d,{msg:r,nextUrl:l,notice:u,toggleFormView:E}):i.a.createElement(y,{focus:n,msg:r,nextUrl:l,notice:u,toggleForm:m,toggleFormView:E})),!h&&i.a.createElement(c.Button,{variant:c.ButtonVariant.TERTIARY,className:"footer-button-margin-signup",onClick:m,label:f("Don't have an account? Sign up"),fullWidth:!0})))};v.propTypes={focus:a.a.bool,msg:a.a.string,nextUrl:a.a.string,notice:a.a.string,toggleForm:a.a.func};t.a=v},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(124),l=n(4),c=n.n(l),u=n(2),d=n(91),m=n(6),f=function(e){var t=e.focus,n=e.nextUrl,r=void 0===n?"/home":n,a=e.toggleForm,o=e.toggleFormView,s=Object(u.o)().trans;return i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{source:"signup",nextUrl:r,focus:t}),i.a.createElement("div",{className:c()("hr-with-text","hr-margin-new")},i.a.createElement("div",{className:"horizontal-line"}),i.a.createElement("span",{className:"or"}," ",s("or")," "),i.a.createElement("div",{className:"horizontal-line"})),i.a.createElement("button",{className:c()("btn-block btn-primary submit-btn","submit-btn-margin-24"),onClick:function(){window.te.push("event","landing",null,null,"signup",{platform:"email"}),o()}},s("Sign up with email")),i.a.createElement(m.Button,{variant:m.ButtonVariant.TERTIARY,onClick:a,label:s("I already have an account"),fullWidth:!0}))};f.propTypes={focus:a.a.bool,nextUrl:a.a.string,toggleForm:a.a.func.isRequired,toggleFormView:a.a.func.isRequired};var p=f;function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){var t=e.focus,n=void 0===t||t,r=e.formType,a=e.nextUrl,l=void 0===a?"/home":a,d=e.title,f=e.toggleForm,y=Object(u.o)().trans,g=b(Object(o.useState)(!1),2),h=g[0],v=g[1],E=function(){return v(!h)};return i.a.createElement("div",{className:c()("auth-form-padding")},i.a.createElement("div",{id:"authentication",className:"signup-form"},!h&&i.a.createElement("h1",{className:"title",dangerouslySetInnerHTML:{__html:d||y("Sign up to join the largest storytelling community")}}),h&&i.a.createElement(m.Button,{className:"back-button",variant:m.ButtonVariant.TERTIARY,onClick:E,leadingIcon:m.IconNames.WpChevronLeft,label:y("Back to all signup options"),fullWidth:!0}),i.a.createElement("div",{className:"panel-body"},h?i.a.createElement(s.a,{formType:r,nextUrl:l,toggleFormView:E}):i.a.createElement(p,{focus:n,nextUrl:l,toggleForm:f,toggleFormView:E}))))};g.propTypes={focus:a.a.bool,formType:a.a.string,nextUrl:a.a.string,subtitle:a.a.string,title:a.a.string,toggleForm:a.a.func.isRequired};t.a=g},,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(3),i=n(2);t.a=function(){var e=Object(i.o)().trans;return a.a.createElement(a.a.Fragment,null,a.a.createElement("a",{className:"conduct-link user-safety-operation btn-no-background btn-left-icon option",href:"https://support.wattpad.com/hc/en-us/articles/200774234-Code-of-Conduct",target:"_blank",rel:"noreferrer noopener",tabIndex:"0"},a.a.createElement(o.g,{name:"link",size:"14",color:"wp-neutral-1"}),a.a.createElement("span",{className:"conduct-link"},e("Code of Conduct"))),a.a.createElement("a",{className:"safety-portal user-safety-operation btn-no-background btn-left-icon option",href:"https://safetyportal.wattpad.com/",target:"_blank",rel:"noreferrer noopener",tabIndex:"0"},a.a.createElement(o.g,{name:"info",size:"14",color:"wp-neutral-1"}),a.a.createElement("span",null,e("Wattpad Safety Portal"))))}},function(e,t,n){"use strict";var r=n(7),a=n(15),o=n(4),i=n.n(o),s=n(1),l=n.n(s),c=n(0),u=n.n(c),d=n(3),m=n(13),f=n(5),p=n(17),b=n(93),y=n(120),g=n(61),h=n(2);function v(e){var t=e.children,n=e.toggleModal,r=Object(h.o)().trans;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"top-buttons-container"},u.a.createElement(x,{allowOpenCoinShop:!1,disabled:!0}),u.a.createElement("button",{className:"btn-no-style",onClick:n,title:r("Close Coin Shop")},u.a.createElement(d.g,{iconName:"fa-remove",color:"wp-neutral-1",height:"22",className:"close-btn"}))),u.a.createElement("div",{className:"coins-modal-body"},t))}function E(e){var t=e.numCoins,n=e.previousBalance,r=e.toggleModal,a=Object(h.o)().trans,o=t+n;return u.a.createElement(v,{toggleModal:r},u.a.createElement("div",{className:"coin-purchase-confirmation"},u.a.createElement("h3",null,a("Wallet locked and loaded")," 💸"),u.a.createElement("div",{className:"wallet-calculation"},u.a.createElement("div",{className:"calculation-row"},u.a.createElement("span",null,a("Previous balance")),u.a.createElement("span",{className:"coin-amount"},u.a.createElement(g.a,{height:"20",width:"20"})," ",n)),u.a.createElement("div",{className:"calculation-row"},u.a.createElement("span",null,a("Coins added")),u.a.createElement("span",{className:"coin-amount"},u.a.createElement(g.a,{height:"20",width:"20"})," ",t)),u.a.createElement("div",{className:"calculation-row new-balance"},u.a.createElement("span",null,a("New balance")),u.a.createElement("span",{className:"coin-amount"},u.a.createElement(g.a,{height:"20",width:"20"})," ",o))),u.a.createElement("button",{className:"btn-primary",onClick:r},a("Complete"))))}v.propTypes={children:l.a.node.isRequired,toggleModal:l.a.func.isRequired},E.propTypes={numCoins:l.a.number.isRequired,previousBalance:l.a.number.isRequired,toggleModal:l.a.func.isRequired};var w=Object(r.b)((function(e){return{previousBalance:e.wallet.amount}}),{toggleModal:m.b})(E);function O(e){var t=e.toggleModal,n=Object(h.o)().trans,r=wattpad.utils.getCurrentUserAttr("isPremium"),a=r?p.i:p.h,o=function(e){t(),setTimeout((function(){t({component:function(){return u.a.createElement(w,{numCoins:e})},className:"coins-modal-container",hideClose:!0})}),500)};return u.a.createElement(v,{toggleModal:t},u.a.createElement("div",{className:"coin-shop"},u.a.createElement("div",{className:"shop-explanation"},u.a.createElement("h3",null,n("Coin Shop")),u.a.createElement("div",{className:"coin-package-purchase-details"},u.a.createElement("p",null,n("Select a Coin package below.")),u.a.createElement("p",null,n("Taxes will be added at checkout."))),!r&&u.a.createElement("p",{className:"premium-benefit"},u.a.createElement(d.g,{name:"zap",className:"zap-icon",size:"16",color:"wp-neutral-1",fill:!0})," ",n("Premium members get up to 66%% more Coins"))),Object.values(a).map((function(e){return u.a.createElement(S,{key:e.value,isPremium:r,value:e.value,premiumValue:e.premium_value,nonPremiumValue:e.non_premium_value,price:e.price,illustrationUrl:e.illustration_url,featured:e.featured,onSelectPack:o})}))))}function S(e){var t=e.isPremium,n=e.value,r=e.premiumValue,a=e.nonPremiumValue,o=e.price,i=e.illustrationUrl,s=e.featured,l=e.onSelectPack,c=Object(h.o)().trans,m=r-n;return u.a.createElement("button",{className:"coin-pack btn-no-style",onClick:function(){return l(n)}},u.a.createElement("img",{src:i,alt:c("%s Coin Pack",n),height:"75",width:"75",className:"pack-image"}),u.a.createElement("div",{className:"pack-body"},u.a.createElement("div",null,s&&u.a.createElement("span",{className:"most-popular"},c("Most Popular")),u.a.createElement("div",{className:"coins-in-pack"},u.a.createElement("h4",null,c("%s Coins",n)),t&&u.a.createElement("span",{className:"non-premium-value"},c("%s Coins",a))),u.a.createElement("div",{className:"premium-status"},t?c("Premium"):c("+ %s with Premium",m)," ",u.a.createElement(d.g,{name:"zap",className:"zap-icon",size:"10",color:"wp-neutral-2",fill:!0}))),u.a.createElement("div",{className:"pack-price"},"$",o)))}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var a=R(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}O.propTypes={toggleModal:l.a.func.isRequired},S.propTypes={isPremium:l.a.bool.isRequired,value:l.a.number.isRequired,premiumValue:l.a.number,nonPremiumValue:l.a.number,price:l.a.string.isRequired,illustrationUrl:l.a.string.isRequired,featured:l.a.bool,onSelectPack:l.a.func.isRequired};var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(s,e);var t,n,r,o=T(s);function s(){var e;j(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return I(_(e=o.call.apply(o,[this].concat(n))),"onWalletClick",(function(){wattpad.testGroups.WEB_COIN_PURCHASING?(0,e.props.toggleModal)({component:function(e){var t=e.toggleModal;return u.a.createElement(O,{toggleModal:t})},className:"coins-modal-container",hideClose:!0}):e.props.onWalletClick()})),e}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this.context;e.username&&this.props.fetchWalletBalance(e.username)}},{key:"render",value:function(){var e,t,n=this.props,r=n.wallet,o=n.purchase,s=n.trans,l=n.ngettext,c=n.disabled,m=r.amount,b=r.animationStep,y=r.fetched,h=o.amountSpent,v=this.context,E=i()("wallet");return b===p.n.COIN?(E=i()("coin-solo",E),u.a.createElement("button",{className:E},u.a.createElement(g.a,null))):b===p.n.DEDUCTING?(E=i()("deducting",E),u.a.createElement("button",{className:E},u.a.createElement("div",{className:"deducting-icon"},u.a.createElement(d.c,{name:"/icons/spinner.svg",className:"fa-spin",alt:s("Spinner"),height:"24",width:"24"})),u.a.createElement("span",{className:"num-coins"},s("Deducting")))):b===p.n.SUBTRACTING?(E=i()("subtracting",E),e=o.buyingPart?l("-%s Coin for next part","-%s Coins for next part",h):l("-%s Coin for story","-%s Coins for story",h),e=Object(a.sprintf)(e,h),u.a.createElement("button",{className:E},u.a.createElement("div",{className:"coin-container"},u.a.createElement(g.a,null)),u.a.createElement("span",{className:"num-coins"},e))):(t=v.username?y?m<1e4?m:Object(f.b)(m):"-":0,E=i()("default",E),u.a.createElement("button",{onClick:this.onWalletClick,className:E,disabled:c,title:s("Wallet with %s Coins",m)},u.a.createElement(g.a,null),u.a.createElement("span",{className:"num-coins divider-right"},t),!c&&u.a.createElement("div",{className:"get-coins"},u.a.createElement(d.g,{iconName:"fa-plus",height:"12",color:"wp-neutral-1"}))))}}])&&N(t.prototype,n),r&&N(t,r),s}(u.a.Component);I(A,"propTypes",{wallet:l.a.shape({amount:l.a.number.isRequired,animationStep:l.a.string.isRequired,fetched:l.a.bool.isRequired}).isRequired,purchase:l.a.shape({amountSpent:l.a.number.isRequired,buyingPart:l.a.bool}).isRequired,trans:l.a.func.isRequired,ngettext:l.a.func.isRequired,onWalletClick:l.a.func,toggleModal:l.a.func,fetchWalletBalance:l.a.func.isRequired,disabled:l.a.bool}),I(A,"defaultProps",{disabled:!1}),I(A,"contextType",y.a);var x=t.a=Object(r.b)((function(e){return{wallet:e.wallet,purchase:e.purchase}}),{toggleModal:m.b,fetchWalletBalance:b.a})(Object(f.n)(A))},function(e,t){e.exports={home:'<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>',library:'<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="nav-library" transform="translate(3.000000, 3.000000)" fill="#6F6F6F"><path d="M17.4,0 C17.9522847,-1.01453063e-16 18.4,0.44771525 18.4,1 L18.4,17 C18.4,17.5522847 17.9522847,18 17.4,18 L17,18 C16.4477153,18 16,17.5522847 16,17 L16,1 C16,0.44771525 16.4477153,1.01453063e-16 17,0 L17.4,0 Z M12.4,0 C12.9522847,-1.01453063e-16 13.4,0.44771525 13.4,1 L13.4,17 C13.4,17.5522847 12.9522847,18 12.4,18 L12,18 C11.4477153,18 11,17.5522847 11,17 L11,1 C11,0.44771525 11.4477153,1.01453063e-16 12,0 L12.4,0 Z M6.33618624,0.254903754 L6.72255657,0.358431372 C7.25602267,0.501373184 7.57260516,1.04971014 7.42966335,1.58317624 L3.28855863,17.0379895 C3.14561682,17.5714556 2.59727986,17.8880381 2.06381376,17.7450962 L1.67744343,17.6415686 C1.14397733,17.4986268 0.827394836,16.9502899 0.970336648,16.4168238 L5.11144137,0.962010536 C5.25438318,0.428544432 5.80272014,0.111961943 6.33618624,0.254903754 Z" id="Combined-Shape"></path></g></g>',create:'<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="nav-create" transform="translate(2.000000, 2.000000)" stroke="#6F6F6F" stroke-width="2"><g id="edit-2" stroke-linecap="round" stroke-linejoin="round"><path d="M15,1 C15.7145312,0.285468802 16.7559831,0.00641259763 17.7320508,0.267949159 C18.7081186,0.52948572 19.4705143,1.29188142 19.7320508,2.26794918 C19.9935874,3.24401693 19.7145312,4.28546882 19,5 L5.5,18.5 L0,20 L1.5,14.5 L15,1 Z" id="Path"></path></g><path d="M2.5,14.5 L5.5,17.5" id="Line-3" stroke-linecap="square"></path></g></g>',notifications:'<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path>',profile:'<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>',chevDown:'<polyline points="6 9 12 15 18 9"></polyline>',chevUp:'<polyline points="18 15 12 9 6 15"></polyline>',chevLeft:'<polyline points="15 18 9 12 15 6"></polyline>',chevRight:'<polyline points="9 18 15 12 9 6"></polyline>',close:'<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>',closeCircle:"",search:'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>',settings:'<circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>',add:'<line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line>',remove:'<line x1="5" y1="12" x2="19" y2="12"></line>',more:'<circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle>',follow:'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line>',following:'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>',dropdownCaret:"",arrowCircleRight:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line>',arrowCircleLeft:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line>',arrowCircleDown:'<circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line>',arrowCircleUp:'<circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line>',arrowLeft:'<line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline>',arrowRight:'<line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline>',arrowDown:'<line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline>',roundArrowRight:'<path fill-rule="evenodd" clip-rule="evenodd" d="M0.25 8.25C0.25 7.69772 0.697715 7.25 1.25 7.25H15.25C15.8023 7.25 16.25 7.69772 16.25 8.25C16.25 8.80229 15.8023 9.25 15.25 9.25H1.25C0.697715 9.25 0.25 8.80229 0.25 8.25Z" fill="#121212"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.54289 0.542893C7.93342 0.152369 8.56658 0.152369 8.95711 0.542893L15.9571 7.54289C16.3476 7.93342 16.3476 8.56658 15.9571 8.95711L8.95711 15.9571C8.56658 16.3476 7.93342 16.3476 7.54289 15.9571C7.15237 15.5666 7.15237 14.9334 7.54289 14.5429L13.8358 8.25L7.54289 1.95711C7.15237 1.56658 7.15237 0.933417 7.54289 0.542893Z" fill="#121212"/>',download:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>',helpCircle:'<circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line>',refresh:'<polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>',circle:'<circle cx="12" cy="12" r="10"></circle>',report:'<path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line>',history:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>',trash:'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>',drag:'<line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>',share:'<circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>',comment:'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',save:'<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline>',edit:'<path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>',mute:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>',unmute:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>',block:'<path d="M7.00001 0.333252C3.31668 0.333252 0.333344 3.31659 0.333344 6.99992C0.333344 10.6833 3.31668 13.6666 7.00001 13.6666C10.6833 13.6666 13.6667 10.6833 13.6667 6.99992C13.6667 3.31659 10.6833 0.333252 7.00001 0.333252ZM1.66668 6.99992C1.66668 4.05325 4.05334 1.66659 7.00001 1.66659C8.23334 1.66659 9.36334 2.08992 10.2667 2.78992L2.79001 10.2666C2.09001 9.36325 1.66668 8.23325 1.66668 6.99992ZM7.00001 12.3333C5.76668 12.3333 4.63668 11.9099 3.73334 11.2099L11.21 3.73325C11.91 4.63659 12.3333 5.76659 12.3333 6.99992C12.3333 9.94659 9.94668 12.3333 7.00001 12.3333Z" fill="#111111"/>',success:'<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>',filter:'<line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line>',attach:'<path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>',lightbulb:'<path d="M8 20.56l.03.937c0 .86.995 1.004 1.984 1.004h2.304c1 0 1.68-.328 1.68-1.187V20.5m-5.89-1c0-1.58-.556-2.654-1.573-3.802a6.3 6.3 0 0 1-1.482-4.93C5.42 8.04 7.75 5.5 10.976 5.5c3.286 0 6.02 2.727 6.024 6.13 0 1.534-.556 3.017-1.62 4.165-.974 1.05-1.482 2.08-1.482 3.705" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/><path d="M8 20.052h6" stroke-width="2"/><path d="M21.38 13.845H20m-17.62 0H1m2.76-7.207l-.975-.975m16.835.285l-.975.975M11 1.5v1.38" stroke-width="2" stroke-linecap="round"/>',archive:'<polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line>',textFormat:"",picture:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline>',video:'<polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>',hideKeyboard:"",link:'<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>',brightnessUp:"",brightnessDown:"",reply:"",embed:"",camera:"",lock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path>',unlock:"",timeout:'<path fill-rule="evenodd" clip-rule="evenodd" d="M1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12ZM21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM19 13C19 13.5523 18.5523 14 18 14L12.0014 14C12.0009 14 12.0005 14 12 14C11.4477 14 11 13.5523 11 13V6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V12L18 12C18.5523 12 19 12.4477 19 13Z" fill="#121212"/>',closeAccount:'<path fill-rule="evenodd" clip-rule="evenodd" d="M15.3332 8.00033C15.3332 12.0504 12.0499 15.3337 7.99984 15.3337C3.94975 15.3337 0.666504 12.0504 0.666504 8.00033C0.666504 3.95024 3.94975 0.666992 7.99984 0.666992C12.0499 0.666992 15.3332 3.95024 15.3332 8.00033ZM2 8C2 11.3137 4.68629 14 8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2C4.68629 2 2 4.68629 2 8ZM7.05719 8L5.5286 9.5286C5.26825 9.78895 5.26825 10.2111 5.5286 10.4714C5.78895 10.7318 6.21106 10.7318 6.4714 10.4714L8 8.94281L9.5286 10.4714C9.78895 10.7318 10.2111 10.7318 10.4714 10.4714C10.7318 10.2111 10.7318 9.78895 10.4714 9.5286L8.94281 8L10.4714 6.4714C10.7318 6.21106 10.7318 5.78895 10.4714 5.5286C10.2111 5.26825 9.78895 5.26825 9.5286 5.5286L8 7.05719L6.4714 5.5286C6.21106 5.26825 5.78895 5.26825 5.5286 5.5286C5.26825 5.78895 5.26825 6.21106 5.5286 6.4714L7.05719 8Z" fill="#121212"/>',readingList:"",underline:"",bold:"",italic:"",textAlignRight:"",textAlignCenter:"",textAlignLeft:"",userFollow:'<path fill-rule="evenodd" clip-rule="evenodd" d="M3.5 7C3.5 9.76142 5.73858 12 8.5 12C11.2614 12 13.5 9.76142 13.5 7C13.5 4.23858 11.2614 2 8.5 2C5.73858 2 3.5 4.23858 3.5 7ZM11.5 7C11.5 8.65685 10.1569 10 8.5 10C6.84315 10 5.5 8.65685 5.5 7C5.5 5.34315 6.84315 4 8.5 4C10.1569 4 11.5 5.34315 11.5 7ZM17 21C17 21.5523 16.5523 22 16 22C15.4477 22 15 21.5523 15 21V19C15 17.3431 13.6569 16 12 16H5C3.34315 16 2 17.3431 2 19V21C2 21.5523 1.55228 22 1 22C0.447715 22 0 21.5523 0 21V19C0 16.2386 2.23858 14 5 14H12C14.7614 14 17 16.2386 17 19V21ZM21 10H23C24.3333 10 24.3333 12 23 12H21V14C21 15.3333 19 15.3333 19 14V12H17C15.6667 12 15.6667 10 17 10H19V8C19 6.66667 21 6.66667 21 8V10Z"/>',userFollowed:'<path fill-rule="evenodd" clip-rule="evenodd" d="M3.5 7C3.5 9.76142 5.73858 12 8.5 12C11.2614 12 13.5 9.76142 13.5 7C13.5 4.23858 11.2614 2 8.5 2C5.73858 2 3.5 4.23858 3.5 7ZM11.5 7C11.5 8.65685 10.1569 10 8.5 10C6.84315 10 5.5 8.65685 5.5 7C5.5 5.34315 6.84315 4 8.5 4C10.1569 4 11.5 5.34315 11.5 7ZM17 21C17 21.5523 16.5523 22 16 22C15.4477 22 15 21.5523 15 21V19C15 17.3431 13.6569 16 12 16H5C3.34315 16 2 17.3431 2 19V21C2 21.5523 1.55228 22 1 22C0.447715 22 0 21.5523 0 21V19C0 16.2386 2.23858 14 5 14H12C14.7614 14 17 16.2386 17 19V21ZM23.7071 8.29289C23.3166 7.90237 22.6834 7.90237 22.2929 8.29289L19 11.5858L17.7071 10.2929C17.3166 9.90237 16.6834 9.90237 16.2929 10.2929C15.9024 10.6834 15.9024 11.3166 16.2929 11.7071L18.2929 13.7071C18.6834 14.0976 19.3166 14.0976 19.7071 13.7071L23.7071 9.70711C24.0976 9.31658 24.0976 8.68342 23.7071 8.29289Z"/>',rankingBadge:'<path fill-rule="evenodd" clip-rule="evenodd" d="M5.6001 11.1998C5.6001 5.45604 10.2563 0.799805 16.0001 0.799805C21.7439 0.799805 26.4001 5.45604 26.4001 11.1998C26.4001 16.9436 21.7439 21.5998 16.0001 21.5998C10.2563 21.5998 5.6001 16.9436 5.6001 11.1998ZM12.2383 16.3775L12.9567 12.1887L9.91334 9.2221L14.1192 8.61095L16.0001 4.7998L17.881 8.61095L22.0869 9.2221L19.0435 12.1887L19.7619 16.3775L16.0001 14.3998L12.2383 16.3775ZM11.2001 30.8975V22.2013C12.67 22.8435 14.2934 23.1998 16.0001 23.1998C17.9017 23.1998 19.7 22.7575 21.2978 21.9701V30.8975L16.2489 25.8486L11.2001 30.8975Z"/>',reportFlag:'<path fill-rule="evenodd" clip-rule="evenodd" d="M0.333008 18.9997V2.99967C0.333008 2.64605 0.473484 2.30691 0.723532 2.05687C1.0163 1.7641 1.54299 1.41297 2.33782 1.09504C3.54157 0.613537 5.08449 0.333008 6.99967 0.333008C8.88843 0.333008 10.1765 0.701033 12.8282 1.76171C15.1765 2.70103 16.2218 2.99967 17.6663 2.99967C19.2512 2.99967 20.4582 2.7802 21.3378 2.42837C21.793 2.2463 22.0163 2.09743 22.0569 2.05687C22.8968 1.21691 24.333 1.8118 24.333 2.99967V18.9997C24.333 19.3533 24.1925 19.6924 23.9425 19.9425C23.6497 20.2353 23.123 20.5864 22.3282 20.9043C21.1244 21.3858 19.5815 21.6663 17.6663 21.6663C15.7776 21.6663 14.4895 21.2983 11.8378 20.2376C9.4895 19.2983 8.44426 18.9997 6.99967 18.9997C5.41486 18.9997 4.20777 19.2191 3.3282 19.571C3.20092 19.6219 3.09177 19.6702 2.99967 19.7143V28.333C2.99967 29.0694 2.40272 29.6663 1.66634 29.6663C0.929961 29.6663 0.333008 29.0694 0.333008 28.333V18.9997ZM6.99967 16.333C8.88842 16.333 10.1765 16.701 12.8282 17.7617C15.1765 18.701 16.2218 18.9997 17.6663 18.9997C19.2512 18.9997 20.4582 18.7802 21.3378 18.4284C21.4651 18.3775 21.5742 18.3291 21.6663 18.2851V5.13776C20.5742 5.47524 19.2471 5.66634 17.6663 5.66634C15.7776 5.66634 14.4895 5.29832 11.8378 4.23764C9.4895 3.29832 8.44426 2.99967 6.99967 2.99967C5.41486 2.99967 4.20777 3.21914 3.3282 3.57098C3.20092 3.62189 3.09177 3.6702 2.99967 3.71428V16.8616C4.09182 16.5241 5.41894 16.333 6.99967 16.333Z" fill="#121212"/>',commentMeta:'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',views:'<path fill-rule="evenodd" clip-rule="evenodd" d="M0.0703819 7.70186C0.164094 7.51443 0.339978 7.20175 0.596224 6.80498C1.02033 6.1483 1.52075 5.49201 2.09698 4.87737C3.77421 3.08833 5.7468 2 8 2C10.2532 2 12.2258 3.08833 13.903 4.87737C14.4792 5.49201 14.9797 6.1483 15.4038 6.80498C15.66 7.20175 15.8359 7.51443 15.9296 7.70186C16.0235 7.88954 16.0235 8.11046 15.9296 8.29814C15.8359 8.48557 15.66 8.79825 15.4038 9.19502C14.9797 9.8517 14.4792 10.508 13.903 11.1226C12.2258 12.9117 10.2532 14 8 14C5.7468 14 3.77421 12.9117 2.09698 11.1226C1.52075 10.508 1.02033 9.8517 0.596224 9.19502C0.339978 8.79825 0.164094 8.48557 0.0703819 8.29814C-0.0234606 8.11046 -0.0234606 7.88954 0.0703819 7.70186ZM1.71632 8.47165C2.0995 9.06496 2.55221 9.65868 3.06973 10.2107C4.5175 11.755 6.16991 12.6667 8.00004 12.6667C9.83017 12.6667 11.4826 11.755 12.9304 10.2107C13.4479 9.65868 13.9006 9.06496 14.2838 8.47165C14.3925 8.30325 14.489 8.14509 14.5729 8C14.489 7.85491 14.3925 7.69675 14.2838 7.52835C13.9006 6.93504 13.4479 6.34132 12.9304 5.78929C11.4826 4.24501 9.83017 3.33333 8.00004 3.33333C6.16991 3.33333 4.5175 4.24501 3.06973 5.78929C2.55221 6.34132 2.0995 6.93504 1.71632 7.52835C1.60756 7.69675 1.5111 7.85491 1.42718 8C1.5111 8.14509 1.60756 8.30325 1.71632 8.47165ZM8 10.6667C6.52724 10.6667 5.33333 9.47276 5.33333 8C5.33333 6.52724 6.52724 5.33333 8 5.33333C9.47276 5.33333 10.6667 6.52724 10.6667 8C10.6667 9.47276 9.47276 10.6667 8 10.6667ZM8 9.33333C8.73638 9.33333 9.33333 8.73638 9.33333 8C9.33333 7.26362 8.73638 6.66667 8 6.66667C7.26362 6.66667 6.66667 7.26362 6.66667 8C6.66667 8.73638 7.26362 9.33333 8 9.33333Z"/>',votes:'<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>',votesBeta:'<path fill-rule="evenodd" clip-rule="evenodd" d="M6.53792 5.80206C6.44089 5.99863 6.25344 6.13493 6.03653 6.16664L2.76572 6.64472L5.13194 8.94941C5.28919 9.10257 5.36096 9.32332 5.32385 9.53968L4.76557 12.7948L7.68982 11.2569C7.88407 11.1548 8.11616 11.1548 8.31042 11.2569L11.2347 12.7948L10.6764 9.53968C10.6393 9.32332 10.711 9.10257 10.8683 8.94941L13.2345 6.64472L9.9637 6.16664C9.74679 6.13493 9.55934 5.99863 9.46231 5.80206L8.00012 2.83982L6.53792 5.80206ZM5.49723 4.89797L7.40227 1.03858C7.64683 0.543131 8.35332 0.543131 8.59788 1.03858L10.5029 4.89797L14.7632 5.52067C15.3098 5.60056 15.5276 6.27246 15.1319 6.6579L12.0498 9.6599L12.7771 13.901C12.8706 14.4456 12.2989 14.8609 11.8098 14.6037L8.00007 12.6002L4.19038 14.6037C3.70129 14.8609 3.12959 14.4456 3.223 13.901L3.95039 9.6599L0.868253 6.6579C0.472524 6.27246 0.690379 5.60056 1.23699 5.52067L5.49723 4.89797Z"/>',parts:'<line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3" y2="6"></line><line x1="3" y1="12" x2="3" y2="12"></line><line x1="3" y1="18" x2="3" y2="18"></line>',partsBeta:'<path fill-rule="evenodd" clip-rule="evenodd" d="M3.33366 4.66634C3.70185 4.66634 4.00033 4.36786 4.00033 3.99967C4.00033 3.63148 3.70185 3.33301 3.33366 3.33301C2.96547 3.33301 2.66699 3.63148 2.66699 3.99967C2.66699 4.36786 2.96547 4.66634 3.33366 4.66634ZM4.00033 7.99967C4.00033 8.36786 3.70185 8.66634 3.33366 8.66634C2.96547 8.66634 2.66699 8.36786 2.66699 7.99967C2.66699 7.63148 2.96547 7.33301 3.33366 7.33301C3.70185 7.33301 4.00033 7.63148 4.00033 7.99967ZM4.00033 11.9997C4.00033 12.3679 3.70185 12.6663 3.33366 12.6663C2.96547 12.6663 2.66699 12.3679 2.66699 11.9997C2.66699 11.6315 2.96547 11.333 3.33366 11.333C3.70185 11.333 4.00033 11.6315 4.00033 11.9997ZM6.00033 7.99967C6.00033 8.36786 6.2988 8.66634 6.66699 8.66634H12.667C13.0352 8.66634 13.3337 8.36786 13.3337 7.99967C13.3337 7.63148 13.0352 7.33301 12.667 7.33301H6.66699C6.2988 7.33301 6.00033 7.63148 6.00033 7.99967ZM6.66699 12.6663C6.2988 12.6663 6.00033 12.3679 6.00033 11.9997C6.00033 11.6315 6.2988 11.333 6.66699 11.333H12.667C13.0352 11.333 13.3337 11.6315 13.3337 11.9997C13.3337 12.3679 13.0352 12.6663 12.667 12.6663H6.66699ZM6.00033 3.99967C6.00033 4.36786 6.2988 4.66634 6.66699 4.66634H12.667C13.0352 4.66634 13.3337 4.36786 13.3337 3.99967C13.3337 3.63148 13.0352 3.33301 12.667 3.33301H6.66699C6.2988 3.33301 6.00033 3.63148 6.00033 3.99967Z"/>',readTime:'<path fill-rule="evenodd" clip-rule="evenodd" d="M1.7998 1.91992C1.52366 1.91992 1.2998 2.14378 1.2998 2.41992V11.72C1.2998 11.9962 1.52366 12.22 1.7998 12.22H6.13985C6.50055 12.22 6.84648 12.3633 7.10153 12.6184C7.3518 12.8686 7.49446 13.2064 7.49972 13.5598V13.58C7.49972 13.8562 7.72358 14.08 7.99972 14.08C7.99977 14.08 7.99983 14.08 7.99987 14.08C8.27602 14.08 8.49987 13.8562 8.49987 13.58V13.5598C8.50514 13.2064 8.6478 12.8686 8.89806 12.6184C9.15312 12.3633 9.49904 12.22 9.85975 12.22H14.1998C14.4759 12.22 14.6998 11.9962 14.6998 11.72V2.41992C14.6998 2.14378 14.4759 1.91992 14.1998 1.91992H10.4798C9.6894 1.91992 8.93142 2.23389 8.37255 2.79275C8.23258 2.93273 8.10796 3.0852 7.9998 3.24754C7.89163 3.0852 7.76702 2.93273 7.62704 2.79275C7.06818 2.23389 6.3102 1.91992 5.51985 1.91992H1.7998ZM8.49987 11.6512V4.89995C8.49987 4.89362 8.49985 4.8873 8.49981 4.88097C8.50478 4.36269 8.71281 3.86671 9.07966 3.49986C9.45099 3.12853 9.95462 2.91992 10.4798 2.91992H13.6998V11.22H9.85975C9.3696 11.22 8.89517 11.3725 8.49987 11.6512ZM7.49978 4.88097C7.49482 4.36269 7.28679 3.86671 6.91994 3.49986C6.54861 3.12853 6.04498 2.91992 5.51985 2.91992H2.2998V11.22H6.13985C6.63 11.22 7.10443 11.3725 7.49972 11.6512V4.89995C7.49972 4.89362 7.49974 4.8873 7.49978 4.88097Z" fill="#686868"/>',bookOpenBeta:'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>',paidStory:'<path fill-rule="evenodd" clip-rule="evenodd" d="M5.5 5C7.98528 5 10 4.32843 10 3.5C10 2.67157 7.98528 2 5.5 2C3.01472 2 1 2.67157 1 3.5C1 4.32843 3.01472 5 5.5 5ZM1 5.39676V7.35873C1.7563 7.65631 3.29325 7.95305 5.07318 7.99496C5.5172 7.22867 6.08473 6.54286 6.74854 5.96477C6.34655 5.98814 5.929 6 5.5 6C3.6955 6 2.09368 5.79011 1 5.39676ZM4.00016 11.9485C4.00005 11.9657 4 11.9828 4 12C4 12.6749 4.08358 13.3303 4.24095 13.9564C2.82212 13.8582 1.63548 13.6088 1 13.3587V11.3968C1.77904 11.6769 2.81589 11.864 4.00016 11.9485ZM4.58902 8.98153C4.3366 9.60066 4.1595 10.2585 4.06912 10.9437C2.72657 10.8379 1.60965 10.5986 1 10.3587V8.39676C1.9057 8.7225 3.15986 8.92243 4.58902 8.98153Z"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M19 12C19 15.866 15.866 19 12 19C8.13401 19 5 15.866 5 12C5 8.13401 8.13401 5 12 5C15.866 5 19 8.13401 19 12ZM12.8574 16.231C13.556 16.1121 14.1116 15.8464 14.5241 15.4339C14.9366 15.0214 15.1429 14.5141 15.1429 13.9121C15.1429 13.4067 15.0184 13.0035 14.7694 12.7025C14.5204 12.4015 14.2231 12.1822 13.8775 12.0447C13.5319 11.9072 13.0878 11.7716 12.5452 11.6378C12.1588 11.5412 11.8577 11.4557 11.6422 11.3814C11.4267 11.3071 11.2483 11.2049 11.1071 11.0748C10.9659 10.9447 10.8953 10.7756 10.8953 10.5675C10.8953 10.2702 11.016 10.0324 11.2576 9.85403C11.4991 9.67565 11.8206 9.58647 12.2219 9.58647C12.5713 9.58647 12.8667 9.63478 13.1082 9.7314C13.3498 9.82802 13.6229 9.97295 13.9277 10.1662C14.054 10.2405 14.1525 10.2888 14.2231 10.3111C14.2937 10.3334 14.3699 10.3446 14.4516 10.3446C14.6003 10.3446 14.7322 10.274 14.8474 10.1327C14.9626 9.99153 15.0202 9.82802 15.0202 9.64221C15.0202 9.50843 14.9961 9.39322 14.9478 9.2966C14.8994 9.19998 14.8195 9.11451 14.7081 9.04019C14.1209 8.62397 13.4929 8.37127 12.824 8.28208V7.66891C12.824 7.46824 12.7626 7.30659 12.64 7.18395C12.5174 7.06132 12.3557 7 12.155 7C11.9618 7 11.802 7.06132 11.6757 7.18395C11.5493 7.30659 11.4861 7.46824 11.4861 7.66891V8.30438C10.7949 8.4233 10.2356 8.6983 9.80827 9.12938C9.38091 9.56045 9.16723 10.077 9.16723 10.679C9.16723 11.1919 9.29544 11.6006 9.55185 11.9054C9.80827 12.2101 10.1149 12.4331 10.4716 12.5743C10.8284 12.7155 11.2817 12.8567 11.8317 12.9979C12.2108 13.102 12.5006 13.1875 12.7013 13.2543C12.902 13.3212 13.0711 13.4141 13.2086 13.5331C13.3461 13.652 13.4148 13.8043 13.4148 13.9901C13.4148 14.2949 13.2959 14.5309 13.0581 14.6981C12.8202 14.8653 12.4784 14.9489 12.0324 14.9489C11.6979 14.9489 11.3765 14.9025 11.0681 14.8096C10.7596 14.7167 10.4344 14.5699 10.0926 14.3692C9.88445 14.2503 9.70979 14.1908 9.56858 14.1908C9.41993 14.1908 9.288 14.2614 9.1728 14.4026C9.0576 14.5439 9 14.7074 9 14.8932C9 15.0344 9.02416 15.1515 9.07247 15.2444C9.12078 15.3373 9.20439 15.4209 9.32331 15.4952C9.61317 15.7033 9.94948 15.8743 10.3323 16.008C10.715 16.1418 11.1108 16.2273 11.5196 16.2645V16.8665C11.5196 17.0672 11.5827 17.2288 11.7091 17.3514C11.8355 17.4741 11.9952 17.5354 12.1885 17.5354C12.3892 17.5354 12.5508 17.4741 12.6735 17.3514C12.7961 17.2288 12.8574 17.0672 12.8574 16.8665V16.231Z" />',notifDedicate:'<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>',notifStoryUpdate:'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>',notifFeedMessage:"",warning:'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"warning-triangle":'<g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Ic-/-14px-/-Alert" transform="translate(0.000000, 0.000000)" fill="#FFC922">\n      <path d="M11.875,5 C12.4019232,5 12.8906036,5.28229723 13.1638807,5.744551 L13.1638807,5.744551 L19.5479857,16.6799097 C19.8158305,17.1558373 19.8174297,17.7418513 19.5521866,18.2193104 C19.2869436,18.6967695 18.7946975,18.9939599 18.259105,19 L18.259105,19 L5.490895,19 C4.95530252,18.9939599 4.46305644,18.6967695 4.19781339,18.2193104 C3.93257035,17.7418513 3.93416953,17.1558373 4.2020143,16.6799097 L4.2020143,16.6799097 L10.5861193,5.744551 C10.8593964,5.28229723 11.3480768,5 11.875,5 Z M11.65625,15.5 C11.2938131,15.5 11,15.7938131 11,16.15625 L11,16.15625 L11,16.4397278 C11,16.8021647 11.2938131,17.0959778 11.65625,17.0959778 C12.0186869,17.0959778 12.3125,16.8021647 12.3125,16.4397278 L12.3125,16.4397278 L12.3125,16.15625 C12.3125,15.7938131 12.0186869,15.5 11.65625,15.5 Z M11.65625,9.375 C11.2938131,9.375 11,9.66881313 11,10.03125 L11,10.03125 L11,13.53125 C11,13.8936869 11.2938131,14.1875 11.65625,14.1875 C12.0186869,14.1875 12.3125,13.8936869 12.3125,13.53125 L12.3125,13.53125 L12.3125,10.03125 C12.3125,9.66881313 12.0186869,9.375 11.65625,9.375 Z" id="Combined-Shape"></path>\n  </g>\n</g>',triangle:'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>',info:'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line>',copyright:"",publicDomain:"",creativeCommons:"",location:"",stats:"",check:'<path fill-rule="evenodd" clip-rule="evenodd" d="M20.7071 5.29289C21.0976 5.68342 21.0976 6.31658 20.7071 6.70711L9.70711 17.7071C9.31658 18.0976 8.68342 18.0976 8.29289 17.7071L3.29289 12.7071C2.90237 12.3166 2.90237 11.6834 3.29289 11.2929C3.68342 10.9024 4.31658 10.9024 4.70711 11.2929L9 15.5858L19.2929 5.29289C19.6834 4.90237 20.3166 4.90237 20.7071 5.29289Z"/>',shieldCheck:'<path d="m1.19901 4.09592 9.80099-3.675998 9.801 3.675998c.51.195.865.68.866 1.248v5.74298c0 4.236-1.83 8.266-5.018 11.056l-5.649 4.944-5.64999-4.944c-3.081-2.707-5.016002-6.656-5.017002-11.056v-5.74298c0-.568.356-1.053.856002-1.245zm8.386 10.01298-1.885-1.882c-.12377-.1238-.27072-.2221-.43246-.2891-.16174-.0671-.3351-.1016-.51019-.1016-.17508-.0001-.34846.0344-.51024.1013-.16177.067-.30878.1652-.43261.2889-.12384.1238-.22208.2707-.28913.4325-.06704.1617-.10158.3351-.10162.5102-.00005.1751.03439.3484.10135.5102s.16513.3088.2889.4326l2.829 2.828c.12357.1241.27045.2226.43219.2898s.33516.1018.51031.1018c.17514 0 .34857-.0346.51029-.1018.1618-.0672.3086-.1657.4322-.2898l5.657-5.657c.2501-.2499.3907-.589.3908-.9426.0001-.35362-.1403-.69278-.3903-.94288s-.589-.39065-.9426-.39075c-.3536-.00009-.6928.14029-.9429.39025l-4.71499 4.71498z" fill="#3f6f0c"/>',staff:' <g id="Staff---Wireframes" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Artboard" transform="translate(-1147.000000, -227.000000)">\n      <g id="ic_badge_verified" transform="translate(1147.000000, 227.000000)">\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Path" fill="#FFFFFF"></path>\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Verified-Account" fill="#FF6122"></path>\n      </g>\n      <path d="M1154.11212,241.7 C1155.77292,241.7 1156.00632,239.785105 1157.14045,238.07578 C1157.09856,238.686857 1157.13746,239.227533 1157.26314,239.599248 C1157.75689,241.066395 1159.45659,241.179036 1160.22864,239.689361 C1161.31788,237.588608 1161.62909,237.092989 1162.72731,235.580785 C1163.45148,234.581097 1162.61061,233.936228 1161.63807,234.400872 C1161.13834,234.640234 1160.32739,235.234414 1159.31595,236.498808 C1159.4925,235.538545 1159.44462,233.910884 1157.97235,234.003813 C1157.19432,234.051685 1156.18587,234.879595 1154.80935,237.00006 C1154.92307,235.808883 1154.96795,234.964076 1154.41735,234.521961 C1154.0403,234.21783 1153.15155,234.102373 1152.6189,234.752874 C1152.08325,235.409008 1151.95757,236.687481 1152.01144,238.03354 C1152.11617,240.852377 1153.17549,241.7 1154.11212,241.7 Z" id="Logo-path" fill="#FFFFFF"></path>\n  </g>\n</g>',ambassador:'<g id="Amb-badge" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Badges" transform="translate(-35.000000, -206.000000)">\n      <g id="ic_badge_verified" transform="translate(35.000000, 206.000000)">\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Path" fill="#FFFFFF"></path>\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Verified-Account" fill="#FF6122"></path>\n          <g id="Group-3" transform="translate(5.000000, 6.000000)" fill="#FFFFFF">\n              <path d="M9.78065737,1.78094955 C9.35444338,0.694861133 8.31740847,-0.012577196 7.16968296,0.000169440589 C6.33637761,0.00279374812 5.5446272,0.373570912 5,1.01615136 C4.45500506,0.373570912 3.66362239,0.00279374812 2.83031704,0.000169440589 C1.68295927,-0.012577196 0.645924361,0.694861133 0.219342627,1.78094955 C-0.225626252,2.85466623 0.0192905027,4.09671349 0.837150656,4.91137353 L4.73890256,8.88907394 C4.88195454,9.03641006 5.11473578,9.03678496 5.25889098,8.89132335 L5.26109744,8.88907394 L9.16284934,4.91137353 C9.9807095,4.09671349 10.2256263,2.85466623 9.78065737,1.78094955" id="Fill-1"></path>\n          </g>\n      </g>\n  </g>\n</g>',verified:'<g id="Verifier---Wireframes" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Artboard" transform="translate(-1147.000000, -299.000000)">\n      <path d="M1165.419,305.513 L1164.774,303.142 C1164.521,302.209 1163.792,301.48 1162.859,301.226 L1160.487,300.581 L1158.355,299.36 C1157.935,299.12 1157.467,299 1157,299 C1156.533,299 1156.065,299.12 1155.646,299.36 L1153.513,300.581 L1151.141,301.226 C1150.208,301.48 1149.48,302.208 1149.226,303.141 L1148.581,305.513 L1147.36,307.646 C1146.88,308.485 1146.88,309.515 1147.36,310.355 L1148.581,312.487 L1149.226,314.86 C1149.48,315.792 1150.209,316.521 1151.142,316.774 L1153.513,317.419 L1155.645,318.64 C1156.065,318.88 1156.533,319 1157,319 C1157.467,319 1157.935,318.88 1158.355,318.64 L1160.487,317.419 L1162.859,316.774 C1163.792,316.521 1164.521,315.792 1164.774,314.859 L1165.419,312.487 L1166.64,310.355 C1167.12,309.515 1167.12,308.485 1166.64,307.645 L1165.419,305.513 Z" id="Path" fill="#FFFFFF"></path>\n      <path d="M1166.64,307.645 L1165.419,305.513 L1164.774,303.142 C1164.521,302.209 1163.792,301.48 1162.859,301.226 L1160.487,300.581 L1158.355,299.36 C1157.935,299.12 1157.467,299 1157,299 C1156.533,299 1156.065,299.12 1155.646,299.36 L1153.513,300.581 L1151.141,301.226 C1150.208,301.48 1149.48,302.208 1149.226,303.141 L1148.581,305.513 L1147.36,307.646 C1146.88,308.485 1146.88,309.515 1147.36,310.355 L1148.581,312.487 L1149.226,314.86 C1149.48,315.792 1150.209,316.521 1151.142,316.774 L1153.513,317.419 L1155.645,318.64 C1156.065,318.88 1156.533,319 1157,319 C1157.467,319 1157.935,318.88 1158.355,318.64 L1160.487,317.419 L1162.859,316.774 C1163.792,316.521 1164.521,315.792 1164.774,314.859 L1165.419,312.487 L1166.64,310.355 C1167.12,309.515 1167.12,308.485 1166.64,307.645 L1166.64,307.645 Z" id="Verified-Account" fill="#FF6122"></path>\n      <path d="M1156.36061,312.705984 C1156.00858,313.098005 1155.43225,313.098005 1155.08022,312.705984 L1152.26402,309.569809 C1151.91199,309.177788 1151.91199,308.536863 1152.26402,308.144841 C1152.61604,307.75282 1153.19238,307.75282 1153.5444,308.144841 L1155.72042,310.568087 L1160.4564,305.294016 C1160.80842,304.901995 1161.38396,304.901995 1161.73598,305.294016 C1162.08801,305.686038 1162.08801,306.326963 1161.73598,306.718984 L1156.36061,312.705984 Z" id="Path" fill="#FFFFFF"></path>\n  </g>\n</g>',star:'<g id="Stars---Wireframes" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Artboard" transform="translate(-1147.000000, -336.000000)">\n      <path d="M1166.64,344.645 L1165.419,342.513 L1164.774,340.142 C1164.521,339.209 1163.792,338.48 1162.859,338.226 L1160.487,337.581 L1158.355,336.36 C1157.935,336.12 1157.467,336 1157,336 C1156.533,336 1156.065,336.12 1155.646,336.36 L1153.513,337.581 L1151.141,338.226 C1150.208,338.48 1149.48,339.208 1149.226,340.141 L1148.581,342.513 L1147.36,344.646 C1146.88,345.485 1146.88,346.515 1147.36,347.355 L1148.581,349.487 L1149.226,351.86 C1149.48,352.792 1150.209,353.521 1151.142,353.774 L1153.513,354.419 L1155.645,355.64 C1156.065,355.88 1156.533,356 1157,356 C1157.467,356 1157.935,355.88 1158.355,355.64 L1160.487,354.419 L1162.859,353.774 C1163.792,353.521 1164.521,352.792 1164.774,351.859 L1165.419,349.487 L1166.64,347.355 C1167.12,346.515 1167.12,345.485 1166.64,344.645 L1166.64,344.645 Z" id="Path" fill="#FF6122"></path>\n      <path d="M1158.545,344.292 L1157.42218,341.899553 C1157.18902,341.402744 1156.81055,341.403664 1156.57782,341.899553 L1155.455,344.292 L1152.98082,344.669751 C1152.43913,344.752455 1152.30655,345.133713 1152.69639,345.533299 L1154.5,347.382 L1154.07122,350.011366 C1153.98218,350.557373 1154.30135,350.783681 1154.7872,350.515124 L1157,349.292 L1159.2128,350.515124 C1159.69726,350.782914 1160.01765,350.556362 1159.92878,350.011366 L1159.5,347.382 L1161.30361,345.533299 C1161.68822,345.139079 1161.54832,344.750539 1161.01918,344.669751 L1158.545,344.292 Z" id="Path" fill="#FFFFFF"></path>\n  </g>\n</g>',sponsored:"",storyrank:"",promoted:'<g fill="none" fill-rule="evenodd">\n  <path fill="#FF6122" fill-rule="nonzero" d="M14.73 6.484l-.916-1.6-.483-1.778a2.044 2.044 0 0 0-1.437-1.436l-1.779-.484L8.516.27a2.048 2.048 0 0 0-2.032 0l-1.6.916-1.778.484c-.7.19-1.246.736-1.436 1.436l-.484 1.779-.916 1.6c-.36.629-.36 1.401 0 2.031l.916 1.6.484 1.779c.19.699.737 1.246 1.437 1.436l1.778.483 1.599.916a2.048 2.048 0 0 0 2.032 0l1.6-.916 1.778-.483c.7-.19 1.247-.737 1.437-1.437l.483-1.779.916-1.599c.36-.63.36-1.402 0-2.032z"/>\n  <g stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">\n      <path d="M7.5 10.5V5.25M4.875 7.875L7.5 5.25l2.625 2.625"/>\n  </g>\n</g>',zap:'<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>',calendar:'<rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>\n    <line x1="16" y1="2" x2="16" y2="6"></line>\n    <line x1="8" y1="2" x2="8" y2="6"></line>\n    <line x1="3" y1="10" x2="21" y2="10"></line>',twitter:"",facebook:"","facebook-login":"",pinterest:"",tumblr:"",googlePlus:"",email:"",preferences:'<g fill="none" fill-rule="nonzero" stroke="#222" stroke-linecap="round" stroke-width="2" transform="translate(1 1)">\n  <path d="M0 2h17M0 8.5h17M0 15.5h17"/>\n  <circle cx="8" cy="2" r="2" fill="#222"/>\n  <circle cx="15" cy="9" r="2" fill="#222"/>\n  <circle cx="8" cy="16" r="2" fill="#222"/>\n</g>',exclusiveChapter:'<path d="M6.20665 3.28784C6.24407 3.15959 6.58473 3.15959 6.62216 3.28784C6.74906 3.72276 6.94514 4.19724 7.23908 4.48916C7.53133 4.77939 8.00531 4.97355 8.44118 5.09964C8.5697 5.13682 8.5697 5.47946 8.44118 5.51664C8.00531 5.64273 7.53133 5.83689 7.23908 6.12713C6.94514 6.41904 6.74906 6.89352 6.62216 7.32845C6.58473 7.45669 6.24407 7.45669 6.20665 7.32845C6.07974 6.89352 5.88367 6.41904 5.58973 6.12713C5.29748 5.83689 4.8235 5.64274 4.38763 5.51664C4.25911 5.47946 4.25911 5.13682 4.38763 5.09964C4.8235 4.97355 5.29748 4.77939 5.58973 4.48916C5.88367 4.19724 6.07974 3.72276 6.20665 3.28784Z" stroke="none"/>\n<path d="M14.625 1.01533C14.6579 0.885851 14.9754 0.885851 15.0083 1.01533C15.1615 1.61812 15.4228 2.34482 15.8475 2.7666C16.2705 3.18664 16.9979 3.44569 17.6034 3.5981C17.7332 3.63076 17.7332 3.9499 17.6034 3.98255C16.9979 4.13496 16.2705 4.39402 15.8475 4.81406C15.4228 5.23584 15.1615 5.96254 15.0083 6.56533C14.9754 6.6948 14.6579 6.69481 14.625 6.56533C14.4718 5.96254 14.2105 5.23584 13.7858 4.81406C13.3628 4.39402 12.6354 4.13496 12.0299 3.98255C11.9001 3.9499 11.9001 3.63076 12.0299 3.5981C12.6354 3.44569 13.3628 3.18664 13.7858 2.7666C14.2105 2.34482 14.4718 1.61812 14.625 1.01533Z" stroke="none"/>\n<path d="M3.36108 8.34473H7.94442C8.7548 8.34473 9.53199 8.62891 10.105 9.13475C10.678 9.6406 11 10.3267 11 11.042V20.4827C11 19.9461 10.7585 19.4316 10.3288 19.0522C9.89899 18.6728 9.31609 18.4597 8.70831 18.4597H3.36108V8.34473Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>\n<path d="M18.6389 8.34473H14.0556C13.2452 8.34473 12.468 8.62891 11.895 9.13475C11.3219 9.6406 11 10.3267 11 11.042V20.4827C11 19.9461 11.2414 19.4316 11.6712 19.0522C12.101 18.6728 12.6839 18.4597 13.2917 18.4597H18.6389V8.34473Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>',writerReveal:'<g xmlns="http://www.w3.org/2000/svg" clip-path="url(#clip0_1386_2918)">\n<path d="M2.86499 13.5536C2.86499 13.5536 5.83595 7.73633 11.0351 7.73633C16.2343 7.73633 19.2053 13.5536 19.2053 13.5536C19.2053 13.5536 16.2343 19.3709 11.0351 19.3709C5.83595 19.3709 2.86499 13.5536 2.86499 13.5536Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M11.0351 15.735C12.2657 15.735 13.2633 14.7583 13.2633 13.5535C13.2633 12.3488 12.2657 11.3721 11.0351 11.3721C9.80449 11.3721 8.80688 12.3488 8.80688 13.5535C8.80688 14.7583 9.80449 15.735 11.0351 15.735Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n<line x1="1" y1="-1" x2="3.18746" y2="-1" transform="matrix(0.608134 0.793834 -0.806046 0.591852 0 6.07422)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n<line x1="1" y1="-1" x2="3.16841" y2="-1" transform="matrix(0.390462 0.920619 -0.926379 0.376592 5.94189 2.75)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n<line x1="1" y1="-1" x2="3.18746" y2="-1" transform="matrix(-0.608134 0.793834 0.806046 0.591852 22 6.07422)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n<line x1="1" y1="-1" x2="3.16841" y2="-1" transform="matrix(-0.390462 0.920619 0.926379 0.376592 16.0581 2.75)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n</g>',commentStats:'<path xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" d="M2.33337 1.66659C2.15656 1.66659 1.98699 1.73682 1.86197 1.86185C1.73695 1.98687 1.66671 2.15644 1.66671 2.33325V11.3904L3.1953 9.86185C3.32033 9.73682 3.4899 9.66659 3.66671 9.66659H11.6667C11.8435 9.66659 12.0131 9.59635 12.1381 9.47132C12.2631 9.3463 12.3334 9.17673 12.3334 8.99992V2.33325C12.3334 2.15644 12.2631 1.98687 12.1381 1.86185C12.0131 1.73682 11.8435 1.66659 11.6667 1.66659H2.33337ZM0.91916 0.919038C1.29423 0.543966 1.80294 0.333252 2.33337 0.333252H11.6667C12.1971 0.333252 12.7058 0.543966 13.0809 0.919038C13.456 1.29411 13.6667 1.80282 13.6667 2.33325V8.99992C13.6667 9.53035 13.456 10.0391 13.0809 10.4141C12.7058 10.7892 12.1971 10.9999 11.6667 10.9999H3.94285L1.47145 13.4713C1.28078 13.662 0.994035 13.719 0.744918 13.6158C0.495802 13.5127 0.333374 13.2696 0.333374 12.9999V2.33325C0.333374 1.80282 0.544088 1.29411 0.91916 0.919038Z" fill="#686868"/>',modalClose:'<path fill-rule="evenodd" clip-rule="evenodd" d="M13.7071 0.292893C13.3166 -0.0976311 12.6834 -0.0976311 12.2929 0.292893L7 5.58579L1.70711 0.292893C1.31658 -0.0976311 0.683417 -0.0976311 0.292893 0.292893C-0.0976311 0.683417 -0.0976311 1.31658 0.292893 1.70711L5.58579 7L0.292893 12.2929C-0.0976311 12.6834 -0.0976311 13.3166 0.292893 13.7071C0.683417 14.0976 1.31658 14.0976 1.70711 13.7071L7 8.41421L12.2929 13.7071C12.6834 14.0976 13.3166 14.0976 13.7071 13.7071C14.0976 13.3166 14.0976 12.6834 13.7071 12.2929L8.41421 7L13.7071 1.70711C14.0976 1.31658 14.0976 0.683417 13.7071 0.292893Z" fill="#121212"/>'}},function(e,t,n){"use strict";var r=n(83),a=n(1),o=n.n(a),i=n(0),s=n.n(i),l=n(3),c=n(173),u=n(82),d=n.n(u),m=n(2),f=n(35);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=e.sectionType,n=e.stories,a=e.index,o=e.windowWidth,c=e.wasSeen,u=e.storiesToShow,g=void 0===u?5:u,h=e.mobileStoriesToShow,v=e.storyWidth,E=void 0===v?88:v,w=e.page,O=e.onStoryClick,S=e.clickTrackingUrls,C=e.callTrackingUrls,j=e.SlideComponent,N=!1;o<=960&&(g=h||2.5,N=!0,o<575&&(Object(f.a)(2.5)?E=Math.floor(35):Object(f.a)(1.5)&&(E=Math.floor(52.5))));var k=d()(parseInt(Object(m.f)().language,10)),T=Object(m.o)().trans,P=y(Object(i.useState)([]),2),_=P[0],R=P[1];Object(i.useEffect)((function(){if(c){var e=Math.min(Math.round(g),n.length);n.slice(0,e).map((function(e,n){"story_details"===w?window.te.push("event","story",null,null,"view",{storyid:e.id,page:"story_details",type:"similar_stories",source:"story_details"}):I(e.id,e.sources,a,n,t)})),R([].concat(b(_),b(n.slice(0,e).map((function(e,t){return t})))))}}),[c]);var I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;window.te.push("event","story",null,null,"view",{storyid:e,page:w,algo_source:t,position:n,offset:r,type:a})};return null!==n&&0!==n.length?s.a.createElement("div",{className:"story-carousel"},s.a.createElement("div",k?{dir:"ltr",className:"carousel-container rtl-adjust"}:{className:"carousel-container"},s.a.createElement(r.a,{dragging:!1,afterSlide:c?function(e){var r=Math.min(e+Math.round(g),n.length);n.slice(e,r).map((function(n,r){_.includes(e+r)||("story_details"===w?window.te.push("event","story",null,null,"view",{storyid:n.id,page:"story_details",type:"similar_stories",source:"story_details"}):I(n.id,n.sources,a,e+r,t))})),R([].concat(b(_),b(n.slice(e,r).map((function(t,n){return e+n})))))}:function(){},enableKeyboardControls:!0,frameOverflow:N?"visible":"hidden",heightMode:"max",slidesToShow:g,slidesToScroll:"auto",initialHeight:"1",renderCenterRightControls:5===g&&n.length>5?function(e){return function(e,t,n){return e!==n-g||k?s.a.createElement("button",{className:"next-btn",onClick:t,"aria-label":T("Next")},s.a.createElement(l.g,{name:"arrowCircleRight",size:"40",alt:"next",strokeWidth:"2.25"})):null}(e.currentSlide,e.nextSlide,e.slideCount)}:null,renderCenterLeftControls:5===g&&n.length>5?function(e){return function(e,t){return 0!==e||k?s.a.createElement("button",{className:"prev-btn",onClick:t,"aria-label":T("Previous")},s.a.createElement(l.g,{name:"arrowCircleLeft",size:"40",alt:"previous",strokeWidth:"2.25"})):null}(e.currentSlide,e.previousSlide)}:null,renderBottomCenterControls:null,wrapAround:k},n.map((function(e,n){if(e.id&&e.cover)return s.a.createElement(j,p({},e,{sectionType:t,index:a,offset:n,width:E,key:"".concat(e.id,"-").concat(n),page:w,onStoryClick:O,storyData:e,clickTrackingUrls:S,callTrackingUrls:C}))}))))):null};v.defaultProps={onStoryClick:null,SlideComponent:c.a},v.propTypes={sectionType:o.a.string.isRequired,stories:o.a.array.isRequired,index:o.a.number,wasSeen:o.a.bool,windowWidth:o.a.number,storiesToShow:o.a.number,mobileStoriesToShow:o.a.number,storyWidth:o.a.number,page:o.a.string,onStoryClick:o.a.func,clickTrackingUrls:o.a.array,callTrackingUrls:o.a.func,SlideComponent:o.a.func},t.a=v},function(e,t,n){"use strict";var r=n(139);e.exports=function(e,t){var n,a,o,i={month:"long",year:"numeric",weekday:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"},s=r();if(!e)return"";if(s&&t&&t.cookies)(a=t.cookies.locale.replace("_","-"))&&(n=a),(o=t.cookies["X-Time-Zone"])&&(i.timeZone=o);else if(!s){var l;n=null===(l=wattpad)||void 0===l?void 0:l.utils.getCookie("locale").replace("_","-"),i.timeZone=Intl&&Intl.DateTimeFormat().resolvedOptions().timeZone}return new Date(e).toLocaleDateString(n,i)}},,,,,,,function(e,t){e.exports=function(){return"undefined"==typeof window}},,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=function(e){var t,n,r=e.username,o=e.onUnblock,i=e.toggleModal,c=Object(s.o)().trans,u=c("This account will now be able to follow you, send you messages, post on your profile, and read and comment on your stories. This action can take 30 minutes to take effect.");return void 0!==("undefined"==typeof window?"undefined":l(window))&&(t=document.querySelector(".unblock-modal"),n=document.querySelector(".unblock-button")),Object(s.p)(t,n,i),a.a.createElement("div",{className:"block-modal-content"},a.a.createElement("h3",{className:"block-modal-title"},c("Unblock %s",r)),a.a.createElement("p",null,u),a.a.createElement("div",{className:"confirm-buttons"},a.a.createElement("button",{className:"cancel-block",onClick:i},c("Cancel")),a.a.createElement("button",{className:"btn-primary btn-md",onClick:function(){i(),o&&o(r)}},c("Unblock"))))};c.defaultProps={onUnblock:function(){},toggleModal:function(){}},c.propTypes={username:i.a.string.isRequired,trans:i.a.func,onUnblock:i.a.func,toggleModal:i.a.func},t.a=c},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(14),l=n.n(s),c=n(52),u=n(4),d=n.n(u),m=n(5);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(i,e);var t,n,r,o=h(i);function i(){return b(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"tagClickHandler",value:function(e){window.wattpad.utils.stopEvent(e),window.app.trigger("app:component:TagMetaItem:click",e)}},{key:"numNotShownClickHandler",value:function(e,t,n){if(!e.keyCode||13==e.keyCode){if(t)return window.location="/story/".concat(n);window.wattpad.utils.stopEvent(e),window.app.trigger("app:component:TagMetaNumNotShown:click",e)}}},{key:"formatTags",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(l.a.isEmpty(e))return{};var n=l.a.clone(e),r={tags:[],numNotShown:Math.max(n.length-t,0)},a=null;if(n.length<=t)l.a.each(n,(function(e){r.tags.push({id:e,name:e,link:"/stories/".concat(e)})}));else for(;r.tags.length<t;)a=n.splice(Math.floor(Math.random()*n.length),1)[0],r.tags.push({id:a,name:a,link:"/stories/".concat(a)});return r}},{key:"render",value:function(){var e=this,t=this.props,n=t.trans,r=t.tagMeta,o=t.defaultClickEvents,i=this.formatTags(r.tags,r.numShown),s=r.storyId||null,l=null;return i.numNotShown&&(l=a.a.createElement("span",{className:d()("num-not-shown",{"on-story-preview":s}),"data-story-id":s,onClick:function(t){return e.numNotShownClickHandler(t,o,s)},onKeyDown:function(t){return e.numNotShownClickHandler(t,o,s)},role:"button",tabIndex:"0"},n("+%s more",i.numNotShown))),i.tags&&i.tags.length>0?a.a.createElement("div",{className:"tag-meta clearfix"},a.a.createElement("ul",{className:"tag-items"},i.tags.map((function(t){return a.a.createElement("li",{key:t.id},a.a.createElement(c.a,p({},t,{clickHandler:o?void 0:e.tagClickHandler})))}))),l):null}}])&&y(t.prototype,n),r&&y(t,r),i}(a.a.Component);w.propTypes={tagMeta:i.a.shape({tags:i.a.arrayOf(i.a.string).isRequired,storyId:i.a.oneOfType([i.a.number,i.a.string]),numShown:i.a.number}).isRequired,trans:i.a.func.isRequired,defaultClickEvents:i.a.bool},t.a=Object(m.n)(w)},function(e,t,n){"use strict";var r=n(4),a=n.n(r),o=n(1),i=n.n(o),s=n(0),l=n.n(s),c=n(3),u=n(5),d=n(2),m=n(144),f=function(e){var t,n=Object(d.o)().trans,r=Object(s.useRef)(),o=Object(d.h)().openUnmuteUserModal,i=e.profileType,f=e.backgroundUrl,b=e.username,y=e.name,g=e.highlight_colour,h=e.numFollowers,v=e.avatar,E=e.numStoriesPublished,w=e.numLists,O=e.onUnmuteUser,S=e.onUnblock,C=e.className,j=e.isMobile,N=e.blockUser;return t=f?{backgroundImage:"url( '".concat(Object(u.q)(f,1920),"' )")}:{backgroundColor:g},l.a.createElement("div",{id:"profile-header",className:a()("profile-layout profile-header",C)},l.a.createElement("header",{style:t,className:"background background-lg"},l.a.createElement("div",{className:"avatar avatar-profile center-block"},v?l.a.createElement(c.a,{avatar:v,username:b}):l.a.createElement(c.c,{name:"avatar/empty.png",width:"96",height:"96"})),l.a.createElement("h1",{className:"profile-name h3","aria-label":n("%s's profile",y||b)},y||b),l.a.createElement("div",{className:"restricted-state"},"mute"===i&&O&&l.a.createElement("button",{ref:r,className:"unmute-button",onClick:function(){return o(b,r,O)}},n("Unmute")),"block"===i&&S&&l.a.createElement("button",{className:"unblock-button",onClick:S},n("Unblock")),j&&l.a.createElement("div",{className:"button-group inline-block relative"},l.a.createElement(m.a,{username:b,isMuted:"mute"===i,isBlocked:"block"===i,unblockUser:S,onUnmuteUser:O,blockUser:N,isRestrictedProfile:!0,showModerationOptions:!0}))),l.a.createElement(p,{numStoriesPublished:E,numFollowers:h,numLists:w})))},p=function(e){var t=e.numStoriesPublished,n=e.numFollowers,r=e.numLists,a=Object(d.o)().ngettext;return l.a.createElement("div",{className:"row header-metadata"},l.a.createElement("div",{className:"col-xs-4"},l.a.createElement("p",null,void 0!==t?Object(u.b)(t):"-"),l.a.createElement("p",null,a("Work","Works",t||0))),l.a.createElement("div",{className:"col-xs-4"},l.a.createElement("p",null,void 0!==r?r:"-"),l.a.createElement("p",null,a("Reading List","Reading Lists",r||0))),l.a.createElement("div",{className:"col-xs-4"},l.a.createElement("p",{className:"followers-count"},void 0!==n?Object(u.b)(n):"-"),l.a.createElement("p",null,a("Follower","Followers",n||0))))};f.propTypes={profileType:i.a.string,username:i.a.string,backgroundUrl:i.a.string,avatar:i.a.string,highlight_colour:i.a.string,numStoriesPublished:i.a.number,numLists:i.a.number,numFollowers:i.a.number,name:i.a.string,onUnmuteUser:i.a.func,onUnblock:i.a.func,className:i.a.string,isMobile:i.a.bool,blockUser:i.a.func},f.defaultProps={avatar:"",username:""},p.propTypes={numStoriesPublished:i.a.number,numFollowers:i.a.number,numLists:i.a.number},t.a=f},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(7),i=n(1),s=n.n(i),l=n(3),c=n(13),u=n(194),d=n(2),m=n(10),f=function(e){var t=e.username,n=e.onUserUnmuted,o=e.onUserMuted,i=e.unblockUser,s=e.blockUser,c=e.toggleModal,f=e.isMuted,p=e.isBlocked,b=e.isRestrictedProfile,y=e.isAmbassador,g=e.isSysAdmin,h=e.onCloseAccount,v=e.showModerationOptions,E=e.onTimeout,w=Object(r.useRef)(null),O=Object(d.o)().trans;return a.a.createElement("div",null,a.a.createElement(l.m,{ref:w}),a.a.createElement("div",{className:"triangle"}),a.a.createElement("div",{className:"dropdown-menu align-right"},a.a.createElement(l.u,{showModerationOptions:v,username:t,isLoading:!1,isMutedByCurrentUser:f,isBlockedByCurrentUser:p,onUserMuted:o,onUserUnmuted:n,onBlockUser:function(){var e={username:t,toggleModal:c,buttonRef:w.current};s&&(e.blockUser=s);var n=function(){return a.a.createElement(u.a,e)};n.displayName="BlockModal",c({type:"block",className:"block-modal",hideClose:!0,component:n})},onUnblockUser:i,onReportUser:function(){},showBlockOption:!0}),a.a.createElement("div",{className:"user-safety-operations moderation-options"},a.a.createElement("a",{className:"user-safety-operation btn-no-background btn-left-icon",href:"https://policies.wattpad.com/",target:"_blank",rel:"noopener noreferrer",tabIndex:"0"},a.a.createElement(m.a,{name:"link"}),a.a.createElement("span",{className:"option"},O("Wattpad Policies")))),(y||g)&&a.a.createElement("div",{className:"user-safety-operations moderation-options"},a.a.createElement("button",{onClick:function(){h&&h()},"data-toggle":"modal","data-target":"#userClose","data-gtm":"profile|close_account",className:"user-safety-operation btn-no-background btn-left-icon "},a.a.createElement(m.a,{name:"closeAccount",strokeWidth:"0",viewBox:"16"}),a.a.createElement("span",{className:"option"},O("Close Account")," ")),a.a.createElement("button",{onClick:function(){E&&E()},"data-toggle":"modal","data-target":"#userTimeout","data-gtm":"profile|time_out",className:"user-safety-operation btn-no-background btn-left-icon "},a.a.createElement(m.a,{name:"timeout",strokeWidth:"0"}),a.a.createElement("span",{className:"option"},O("Time-out"))))),!b&&a.a.createElement(l.v,null))};f.propTypes={username:s.a.string.isRequired,toggleModal:s.a.func,isMuted:s.a.bool,isBlocked:s.a.bool,mutedUsers:s.a.array,onUserUnmuted:s.a.func,onUserMuted:s.a.func,blockUser:s.a.func,unblockUser:s.a.func,isRestrictedProfile:s.a.bool,isAmbassador:s.a.bool,isSysAdmin:s.a.bool,onCloseAccount:s.a.func,onTimeout:s.a.func,showModerationOptions:s.a.bool};var p=Object(o.b)(null,{toggleModal:c.b})(f);t.a=p},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(2),c=n(4),u=n.n(c);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){var t=e.email,n=e.userId,o=e.hideModal,i=e.onEmailChanged,c=e.onUpdateEmail,m=Object(l.o)().trans,f=d(Object(r.useState)("password"),2),p=f[0],b=f[1],y=d(Object(r.useState)(""),2),g=y[0],h=y[1],v=d(Object(r.useState)("pending"),2),E=v[0],w=v[1],O=d(Object(r.useState)(!0),2),S=O[0],C=O[1],j=d(Object(r.useState)(!0),2),N=j[0],k=j[1],T=d(Object(r.useState)(!0),2),P=T[0],_=T[1],R=d(Object(r.useState)(""),2),I=R[0],A=R[1],x=d(Object(r.useState)(""),2),L=x[0],M=x[1],D=d(Object(r.useState)(""),2),U=D[0],q=D[1],F=d(Object(r.useState)(!0),2),B=F[0],W=F[1],H=function(e){e.preventDefault(),e.stopPropagation(),b("text"===p?"password":"text")},V=function(e){wattpad.utils.stopEvent(e),o()},Y=m("You registered your account with %s. If this is incorrect, you can change your email here.",t),G=u()("form-control input-bg enable change-email-input",{invalid:!B});return a.a.createElement("div",{id:"change-email-modal",className:"change-email-modal-content"},a.a.createElement("button",{className:"close on-close",onClick:V,"aria-label":m("Close"),tabIndex:"0"},a.a.createElement(s.g,{iconName:"fa-remove",height:"16",color:"wp-neutral-2"})),a.a.createElement("h1",null,m("Change email")),a.a.createElement("p",{className:"modal-message"},Y.split(t)[0],a.a.createElement("strong",null,t),Y.split(t)[1]),a.a.createElement("form",{className:"on-form-submit",onSubmit:function(e){if(wattpad.utils.stopEvent(e),h(""),!U){var t=e.target.id.value,n=e.target.email.value,r=e.target.confirm_email.value,a=e.target.password.value;n==r?Promise.resolve($.ajax({type:"POST",url:"/apiv2/updateuseremail",data:{id:t,email:n,confirm_email:r,password:a}})).then((function(){i(n),c&&c(n)})).catch((function(e){h(e.responseJSON.message)})):h(m("Please ensure the email fields match."))}},onChange:function(e){wattpad.utils.stopEvent(e);var t=e.target.name,n=!e.target.value;"email"==t?(C(n),n&&A("")):"confirm_email"==t?k(n):"password"==t&&_(n)}},a.a.createElement("input",{type:"hidden",name:"id",value:n}),a.a.createElement("div",{className:"input-group-vertical"},a.a.createElement("div",{className:"form-group has-feedback"},a.a.createElement("label",{className:"control-label",htmlFor:"new_email"},m("New Email")),a.a.createElement("input",{id:"new_email",className:G,name:"email",type:"email",defaultValue:"",onBlur:function(e){wattpad.utils.stopEvent(e);var t=e.target.value;t?Promise.resolve($.ajax("/api/v3/users/validate",{data:{email:t}})).then((function(){W(!0),q(""),w("check"),A(t)})).catch((function(e){W(!1),q(e.responseJSON.message),w("warning")})):(W(!1),q(m("Email is required.")),w("warning"))},onFocus:function(e){e.preventDefault(),W(!0),q(""),M(""),w("pending")}}),"check"==E?a.a.createElement("span",{tabIndex:"-1"},a.a.createElement(s.g,{iconName:"fa-check",height:"18",className:"form-control-feedback"})):"warning"==E&&a.a.createElement("span",{tabIndex:"-1"},a.a.createElement(s.g,{iconName:"fa-warning",height:"18",className:"form-control-feedback"})),U&&a.a.createElement("p",{className:"user-error-message"},U)),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{className:"control-label",htmlFor:"confirm_email"},m("Confirm New Email")),a.a.createElement("input",{id:"confirm_email",className:"form-control input-bg enable change-email-input",name:"confirm_email",type:"text",defaultValue:"",onBlur:function(e){var t=e.target.value;M(""!=I&&I!=t?m("Please ensure the email fields match."):"")}}),L&&a.a.createElement("p",{className:"user-error-message"},L)),a.a.createElement("div",{className:"form-group has-feedback password"},a.a.createElement("label",{className:"control-label",htmlFor:"password"},m("Confirm Password")),a.a.createElement("input",{id:"password",className:"form-control input-bg enable change-email-input",name:"password",defaultValue:"",type:p}),a.a.createElement("span",{onClick:H,onKeyDown:H,role:"button",tabIndex:"-1"},a.a.createElement(s.g,{iconName:"fa-view",height:"24",color:"wp-neutral-2",className:"form-control-feedback interact"})))),a.a.createElement("a",{className:"forgot-password",href:"/forgot?nextUrl=settings"},m("Forgot your password?")),g&&a.a.createElement("div",{className:"server-error-message"},a.a.createElement(s.g,{iconName:"fa-warning",height:"22",className:"warning-icon"}),a.a.createElement("p",{className:"server-error-text"},g)),a.a.createElement("input",{type:"submit",className:"btn-primary btn-md btn-save",value:m("Change email"),disabled:S||N||P||!B||""!=L}),a.a.createElement("button",{className:"btn-secondary btn-md btn-cancel",onClick:V},m("Cancel"))))}f.propTypes={email:i.a.string.isRequired,userId:i.a.number.isRequired,hideModal:i.a.func,onEmailChanged:i.a.func.isRequired,onUpdateEmail:i.a.func};var p=n(204);function b(e){var t=e.email,n=e.isSuccess,r=e.hideModal,o=e.onClickResendEmail,i=e.onClickChangeEmail,c=Object(l.o)().trans,u=function(e){wattpad.utils.stopEvent(e),r()},d=c("Please check your email %s to complete sign-up.",t)+" "+c(n?"After you click the link in your email, you'll be able to:":"Please try again or change your email.");return a.a.createElement("div",{className:"sent-email-modal-content"},a.a.createElement("button",{className:"close on-close",onClick:u,"aria-label":c("Close"),tabIndex:"0"},a.a.createElement(s.g,{iconName:"fa-remove",height:"16",color:"wp-neutral-2"})),n?a.a.createElement("h1",null,c("Email sent")):a.a.createElement("h1",null,c("Problem reaching email :(")),a.a.createElement("div",{className:"modal-content"},a.a.createElement("p",null,d.split(t)[0],a.a.createElement("strong",null,t),d.split(t)[1]),n&&a.a.createElement(p.a,null),a.a.createElement("div",{className:"button-wrapper"},a.a.createElement("form",null,n?a.a.createElement("button",{className:"btn-secondary btn-md btn-dismiss",onClick:u,"aria-label":c("Dismiss")},c("Dismiss")):a.a.createElement("div",null,a.a.createElement("button",{className:"btn-primary btn-md btn-change-email",onClick:i,"aria-label":c("Change email")},c("Change email")),a.a.createElement("button",{className:"btn-secondary btn-md btn-resend-email",onClick:o,"aria-label":c("Resend email")},c("Resend email")))))))}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){var t=e.isChangeEmailModal,n=e.email,o=e.userId,i=e.isSuccess,s=e.hideModal,l=e.dismissModal,c=e.onUpdateEmail,u=y(Object(r.useState)(t),2),d=u[0],m=u[1],p=y(Object(r.useState)(i),2),g=p[0],h=p[1],v=y(Object(r.useState)(null),2),E=v[0],w=v[1],O=function(e){wattpad.utils.stopEvent(e),m(!0)},S=function(e){wattpad.utils.stopEvent(e),$.ajax({type:"POST",url:"/api/v3/users/validate",data:{activation_email:"true"},success:function(){h(!0),m(!1)},error:function(){h(!1),m(!1)}})},C=function(e){w(e),m(!1),h(!0)};return d?a.a.createElement(f,{email:n,userId:o,hideModal:s,onEmailChanged:C,onUpdateEmail:c}):a.a.createElement(b,{email:E||n,isSuccess:g,hideModal:l&&g?l:s,onClickResendEmail:S,onClickChangeEmail:O})}b.propTypes={email:i.a.string.isRequired,isSuccess:i.a.bool.isRequired,hideModal:i.a.func,onClickResendEmail:i.a.func.isRequired,onClickChangeEmail:i.a.func.isRequired},h.propTypes={isChangeEmailModal:i.a.bool.isRequired,email:i.a.string.isRequired,userId:i.a.number.isRequired,isSuccess:i.a.bool.isRequired,hideModal:i.a.func,dismissModal:i.a.func,onUpdateEmail:i.a.func}},function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function s(e){r(i,a,o,s,l,"next",e)}function l(e){r(i,a,o,s,l,"throw",e)}s(void 0)}))}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return y}));var l="CATALOG",c="".concat(l,"/LOAD_FEATURED_LIST"),u="".concat(l,"/LOAD_PAID_STORIES_TAGS"),d="".concat(l,"/LOAD_PAID_STORIES_LIST"),m="".concat(l,"/IS_LOADING_PAID_STORIES"),f={featuredList:[],paidStoriesTags:[],paidStoriesListByTag:{},paidStoriesListOffset:0,isLoadingPaidStories:!1,hasTagsLoaded:!1};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case c:return i(i({},e),{},{featuredList:t.featuredList});case u:return i(i({},e),{},{paidStoriesTags:t.tags,hasTagsLoaded:!0});case d:return i(i({},e),{},{paidStoriesListByTag:t.paidStoriesListByTag||e.paidStoriesListOffset,isLoadingPaidStories:!1,paidStoriesListOffset:t.paidStoriesListOffset||e.paidStoriesListOffset});case m:return i(i({},e),{},{isLoadingPaidStories:!0});default:return e}}function b(){var e,t,n,r=parseInt(null===(e=wattpad)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.language,10)||1,o=wattpad.supportedLangs.find((function(e){return e.id===r}));o&&(n=o.code);var i=null;JSON.parse(wattpad.newCurationProfiles).forEach((function(e){e.code===n&&(i=e.username)}));var s="/api/v3/users/".concat(i,"/lists");return function(){var e=a(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.resolve($.get(s));case 3:n=e.sent,t({type:c,featuredList:n.lists}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:c,featuredList:[]});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}function y(){return function(){var e=a(regeneratorRuntime.mark((function e(t,n){var r,a,o,s,l,c,f,p,b,y,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().paidStoriesCatalog,a=r.paidStoriesListOffset,o=r.isLoadingPaidStories,s=r.paidStoriesListByTag,l=r.hasTagsLoaded,c=r.paidStoriesTags,f=l&&a===c.length,!o&&!f){e.next=9;break}return e.abrupt("return");case 9:if(t({type:m}),l){e.next=22;break}return e.prev=11,e.next=14,Promise.resolve($.get("/v4/paid_stories/tags"));case 14:p=e.sent,c=p.tags,t({type:u,tags:c}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),t({type:u,tags:[]});case 22:if(b=[],y=Math.min(a+4,c.length),c&&c.length>0)for(g=a;g<y;g++)c[g]&&b.push(Promise.resolve($.get("/v4/paid_stories/tags/:tag?limit=-1&fields=stories(id,cover,title,tags,isPaywalled),tag".replace(":tag",c[g]))));return e.prev=25,e.next=28,Promise.all(b);case 28:e.sent.forEach((function(e){s[e.tag]=e.stories})),t({type:d,paidStoriesListByTag:i({},s),paidStoriesListOffset:a+4}),e.next=36;break;case 33:e.prev=33,e.t1=e.catch(25),t({type:d});case 36:case"end":return e.stop()}}),e,null,[[11,19],[25,33]])})));return function(t,n){return e.apply(this,arguments)}}()}},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p}));var l="PREMIUM_PICKS_CATALOG",c="".concat(l,"/LOAD_PREMIUM_PICKS_LIST"),u="".concat(l,"/IS_LOADING_PREMIUM_PICKS"),d={period:{year:null,month:null,expiresAt:null,stories:[]}},m={currentPicks:{},upcomingPicks:{},current:d,next:d,isLoading:!0,loadError:null};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case c:return i(i({},e),{},{currentPicks:t.currentPicks,upcomingPicks:t.upcomingPicks,current:t.current,next:t.next,isLoading:!1,loadError:null});case u:return i(i({},e),{},{isLoading:!0});default:return e}}var p=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){var n;t({type:u});var a=[$.get("".concat(null===(n=wattpad)||void 0===n?void 0:n.apiDomain,"/reading/v1/premiumPicks"))];if(e){var o=wattpad.utils.currentUser().get("username");a.push($.get("/v5/users/".concat(o,"/content-settings")))}Promise.all(a).then((function(n){var a=r(n,2),o=a[0],i=a[1],s=o.current,l=o.next;!e||null!=i&&i.includeMature||(s.stories=s.stories.filter((function(e){return!e.mature})),l.stories=l.stories.filter((function(e){return!e.mature}))),t({type:c,currentPicks:s,upcomingPicks:l})})).catch((function(e){t({type:c,loadError:e})}))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return h}));var r=n(20);function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c="THREADS",u="".concat(c,"/LOAD_REQUESTED"),d="".concat(c,"/LOAD_MORE_REQUESTED"),m="".concat(c,"/LOAD"),f="".concat(c,"/LOAD_MORE"),p="".concat(c,"/RESET"),b={isLoading:!0,isLoadingMore:!1,isEmailVerified:!1,threads:[],filter:"",total:0,offset:0};function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case u:return s(s({},b),{},{filter:t.filter});case d:return s(s({},e),{},{filter:t.filter,isLoadingMore:!0});case f:return s(s({},e),{},{isLoading:!1,isLoadingMore:!1,threads:[].concat(a(e.threads),a(t.threads)),offset:e.offset+t.threads.length,total:t.total});case m:return s(s({},e),{},{isLoading:!1,isLoadingMore:!1,isEmailVerified:wattpad.utils.currentUser().get("verified_email"),threads:a(t.threads),offset:t.threads.length,total:t.total});case p:return s({},b);case r.b:var n=e.threads.map((function(e){return e.user.name===t.name&&(e.user.isMutedByCurrentUser=!0),e}));return s(s({},e),{},{threads:n});case r.c:var o=e.threads.map((function(e){return e.user.name===t.name&&(e.user.isMutedByCurrentUser=!1),e}));return s(s({},e),{},{threads:o});case r.a:return s(s({},e),{},{isLoading:!1});default:return e}}function g(e){var t=e.filter,n=void 0===t?"":t,r=e.offset,a=void 0===r?0:r,o="/api/v3/users/".concat(wattpad.utils.currentUser().get("username"),"/inbox?filter=").concat(n,"&limit=").concat(10,"&offset=").concat(a);return function(e){var t=Promise.resolve($.get(o)),r=a>0;return e(r?{type:d,filter:n}:{type:u,filter:n}),t.then((function(t){var a=t.threads.map((function(e){return s(s({},e),{},{user:s(s({},e.user),{},{isMutedByCurrentUser:e.user.safety.isMuted,isBlockedByCurrentUser:e.user.safety.isBlocked})})}));e({type:r?f:m,threads:a,total:t.total,filter:n})})).catch((function(){return e({type:m,threads:[],filter:n})}))}}function h(){return function(e){e({type:p})}}},function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function s(e){r(i,a,o,s,l,"next",e)}function l(e){r(i,a,o,s,l,"throw",e)}s(void 0)}))}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return f}));var l="".concat("QUESTS","/LOAD_ALL"),c="".concat("QUESTS","/LOAD_EMBEDDED"),u={isLoading:!0,mapById:{},mapByEmbeddedType:{}};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case l:return i(i({},e),{},{mapById:t.questMap});case c:return i(i({},e),{},{mapByEmbeddedType:i(i({},e.mapByEmbeddedType),t.embeddedQuestMap)});default:return e}}function m(){var e="/v5/users/".concat(wattpad.utils.currentUser().get("username"),"/quests/");return function(){var t=a(regeneratorRuntime.mark((function t(n){var r,o,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.resolve($.get(e));case 3:return r=t.sent,o={},t.next=7,Promise.all(r.quests.map(function(){var t=a(regeneratorRuntime.mark((function t(n){var r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.concat(n.id,"/"),t.next=3,Promise.resolve($.get(r));case 3:a=t.sent,o[n.id]=a.quest;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 7:n({type:l,questMap:o}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),null===(i=wattpad)||void 0===i||null===(s=i.utils)||void 0===s||s.showToast();case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}var f=function(e){return function(){var t=a(regeneratorRuntime.mark((function t(n){var r,a,o,i,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r="/v5/users/".concat(wattpad.utils.currentUser().get("username"),"/quests/embedded/").concat(e,"/"),t.next=4,Promise.resolve($.get(r));case 4:a=t.sent,o=s({},e,a.quests),n({type:c,embeddedQuestMap:o}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),null===(i=wattpad)||void 0===i||null===(l=i.utils)||void 0===l||l.showToast();case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var i="".concat("WORKS_ITEM_DETAILS","/UPDATE");function s(e){return function(t){t({type:i,data:e})}}var l={worksItemDetailsActiveTab:"toc"};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case i:return a(a({},e),{},{worksItemDetailsActiveTab:t.data||l.worksItemDetailsActiveTab});default:return e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3);function l(e){var t,n=e.name,r=e.size;return e.allowedBadges.indexOf(n)>-1&&("staff"===n||"verified"===n||"ambassador"===n)&&(t=n),t?a.a.createElement(s.g,{name:t,size:r,viewBox:20}):null}l.defaultProps={size:"16",allowedBadges:["verified","staff","ambassador"]},l.propTypes={name:i.a.string.isRequired,size:i.a.string.isRequired,allowedBadges:i.a.array}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(7),u=n(2);function d(e){var t=e.toggleState,n=e.onToggle,r=e.loading,o=e.disabled,i=Object(u.o)().trans;return r?a.a.createElement("div",{className:l()("toggle",t),role:"switch","aria-checked":"on"===t?"true":"false"},a.a.createElement("div",{className:"block-off"},a.a.createElement("span",{className:"label-off"},"..."))):o?a.a.createElement("div",{className:l()("toggle",t,"disabled"),role:"switch","aria-checked":"on"===t?"true":"false"},a.a.createElement("div",{className:"switch"}),a.a.createElement("div",{className:"block-on"},a.a.createElement("span",{className:"label-on"},i("ON"))),a.a.createElement("div",{className:"block-off"},a.a.createElement("span",{className:"label-off"},i("OFF")))):a.a.createElement("div",{className:l()("toggle",t),role:"switch",tabIndex:0,"aria-checked":"on"===t?"true":"false",onClick:n},a.a.createElement("div",{className:"switch"}),a.a.createElement("div",{className:"block-on"},a.a.createElement("span",{className:"label-on"},i("ON"))),a.a.createElement("div",{className:"block-off"},a.a.createElement("span",{className:"label-off"},i("OFF"))))}var m=n(13),f=n(18),p=n(52),b=n(3),y=n(97);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t=e.excludedSuggestions,n=e.handleClick,o=e.inputTerm,i=Object(u.o)().trans,s=g(Object(r.useState)([]),2),l=s[0],c=s[1];return Object(r.useEffect)((function(){var e;e="/api/v3/autocomplete/tag?term=".concat(o),Promise.resolve($.ajax({url:e,type:"GET"})).then((function(e){var n=e.filter((function(e){return!t.includes(e)}));c(n)})).catch(c([]))}),[o,t]),a.a.createElement("div",{className:"suggested-tags"},a.a.createElement("div",{className:"title"},i("Suggested Tags")),a.a.createElement("div",{className:"tags"},l.map((function(e){return a.a.createElement("button",{key:e,onClick:function(){return n(e)}},"#",e)}))))}v.defaultProps={excludedSuggestions:[],handleClick:function(){},inputTerm:""},v.propTypes={excludedSuggestions:i.a.arrayOf(i.a.string),handleClick:i.a.func,inputTerm:i.a.string};var E=n(5);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var a=x(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(i,e);var t,n,r,o=R(i);function i(){var e;k(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return L(A(e=o.call.apply(o,[this].concat(n))),"state",{tags:e.props.tags,newTagName:"",warningText:"",disableInput:!1}),L(A(e),"editRef",a.a.createRef()),L(A(e),"unblockableTagsWarning",e.props.trans("Oops! This tag can't be blocked.")),L(A(e),"tagLimitWarning",e.props.trans("You have reached your blocked tags limit.")),L(A(e),"handleTagListUpdates",(function(t){isNaN(e.props.tagLimit)||(t.length>=e.props.tagLimit?e.setState(N(N({},e.state),{},{warningText:e.tagLimitWarning,disableInput:!0})):e.setState(N(N({},e.state),{},{warningText:"",disableInput:!1}))),e.setState({tags:t})})),L(A(e),"addTag",(function(t,n){if(e.props.unblockableTags&&e.props.unblockableTags.includes(e.state.newTagName))e.setState({warningText:e.unblockableTagsWarning});else{if(!n.some((function(e){return e.name===t}))&&t){var r={id:t,name:t,active:!0};e.handleTagListUpdates([].concat(S(n),[r]))}e.setState({newTagName:""})}})),L(A(e),"handleChanges",(function(t){if(13===t.keyCode||" "===t.nativeEvent.data||32===t.keyCode)e.addTag(e.state.newTagName.toLowerCase(),e.state.tags);else if(37!==t.keyCode&&38!==t.keyCode&&39!==t.keyCode&&40!==t.keyCode){var n=" "===t.target.value?"":t.target.value.toLowerCase();e.setState(N(N({},e.state),{},{newTagName:n,warningText:""}))}})),L(A(e),"removeTag",(function(t,n){if((e.props.removeOnTagClick||t.target.className.includes("remove")||13===t.keyCode)&&9!==t.keyCode&&16!==t.keyCode){var r=n,a=e.state.tags.filter((function(e){return e.name!==r}));e.handleTagListUpdates(a)}})),e}return t=i,(n=[{key:"componentDidMount",value:function(){this.props.tagLimit&&this.props.tags.length>=this.props.tagLimit&&this.setState(N(N({},this.state),{},{warningText:this.tagLimitWarning,disableInput:!0}))}},{key:"componentDidUpdate",value:function(e){this.props.tags!==e.tags&&this.handleTagListUpdates(this.props.tags),this.editRef&&this.props.visibleState!==e.visibleState&&this.editRef.current.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.trans,r=t.isSettingsPage;return a.a.createElement("div",{className:l()("content-settings","edit-blocked-tags",{active:this.props.visibleState,hidden:!this.props.visibleState,"is-settings-page":r})},a.a.createElement("div",{className:"heading"},a.a.createElement("button",{className:"back",onClick:function(){return e.props.onReturn(e.state.tags)}},a.a.createElement(b.g,{name:"arrowLeft",size:"22"})),a.a.createElement("h2",null,n("Blocked Tags"))),a.a.createElement("hr",null),a.a.createElement("div",{className:"instruction"},a.a.createElement("h3",null,n("Blocked Tags")),a.a.createElement("p",null,n("We will remove all stories that have the following tags from your Home recommendations."))),a.a.createElement("div",{className:"blocked-tags-list"},a.a.createElement("div",{className:"tags"},this.state.tags.map((function(t){return a.a.createElement(y.a,O({tabIndex:"-1",key:t.id},t,{clickHandler:function(t,n){return e.removeTag(t,n)}}))})))),a.a.createElement("input",{className:"input-field",type:"text",ref:this.editRef,onKeyDown:this.handleChanges,onChange:this.handleChanges,value:this.state.newTagName,placeholder:n("Separate tags with a space"),disabled:this.state.disableInput}),this.state.warningText&&a.a.createElement("div",{className:"warning"},a.a.createElement(b.g,{name:"warning-triangle",size:"22"}),a.a.createElement("p",null,this.state.warningText)),this.state.newTagName&&a.a.createElement(v,{handleClick:function(t){e.addTag(t,e.state.tags)},inputTerm:this.state.newTagName,excludedSuggestions:this.state.tags.map((function(e){return e.name}))}))}}])&&T(t.prototype,n),r&&T(t,r),i}(a.a.Component);L(M,"propTypes",{removeOnTagClick:i.a.bool,onReturn:i.a.func,tagLimit:i.a.number,tags:i.a.arrayOf(i.a.object).isRequired,toggleView:i.a.func,trans:i.a.func.isRequired,unblockableTags:i.a.arrayOf(i.a.string),visibleState:i.a.bool,isSettingsPage:i.a.bool});var D=Object(E.n)(M),U=n(70);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Z(e);if(t){var a=Z(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return z(this,n)}}function z(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?K(e):t}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(i,e);var t,n,r,o=G(i);function i(){var e;H(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return X(K(e=o.call.apply(o,[this].concat(n))),"state",{showConfirmation:!0,matureToggle:null,overflowCount:0,showMature:null,showBlockedTags:null,editBlockedTagsView:!1,tags:null,newTagName:"",unblockableTags:null,tagLimit:null}),X(K(e),"tagRef",a.a.createRef()),X(K(e),"handleEsc",(function(t){27===t.keyCode&&(e.state.editBlockedTagsView?e.toggleView():(e.setState({showConfirmation:!1}),e.props.toggleModal()))})),X(K(e),"calculateOverflow",(function(){for(var t=e.tagRef.current.childNodes,n=t.length,r=n,a=0;a<n&&!(t[a].getBoundingClientRect().top>t[0].getBoundingClientRect().top);a++)r--;e.setState({overflowCount:r})})),X(K(e),"onToggle",(function(){var t="on"==e.state.matureToggle?"off":"on";e.setState(W(W({},e.state),{},{matureToggle:t}))})),X(K(e),"toggleView",(function(){e.setState(W(W({},e.state),{},{editBlockedTagsView:!e.state.editBlockedTagsView}))})),X(K(e),"getNewBlockedTags",(function(t){e.setState(W(W({},e.state),{},{editBlockedTagsView:!e.state.editBlockedTagsView,tags:t}),(function(){return e.calculateOverflow()}))})),X(K(e),"handleChanges",(function(t){var n=" "===t.target.value?"":t.target.value;e.setState(W(W({},e.state),{},{newTagName:n}))})),X(K(e),"handleApplyChanges",(function(){var t={},n=e.props.contentSettings&&e.props.contentSettings.includeMature,r=e.props.contentSettings?e.props.contentSettings.blockedTags:[],a="on"==e.state.matureToggle,o=e.state.tags.map((function(e){return e.name}));e.state.showMature&&n!==a&&(t.includeMature=a),e.state.showBlockedTags&&!_.isEqual(r,o)&&(t.blockedTags=o),e.props.saveContentSettings(t)})),X(K(e),"onCancel",(function(){e.setState({showConfirmation:!1},(function(){e.props.toggleModal()}))})),e}return t=i,r=[{key:"getDerivedStateFromProps",value:function(e,t){if(!e.contentSettings)return null;var n=void 0!==e.contentSettings.includeMature,r=e.contentSettings.includeMature?"on":"off",a=e.contentSettings.blockedTags,o=a?a.map((function(e){return{id:e,name:e,active:!0}})):[],i=void 0!==e.contentSettings.tagLimit,s=e.contentSettings.tagLimit,l=e.contentSettings.unblockableTags,c={};return null===t.showMature&&(c.showMature=n),null===t.showBlockedTags&&(c.showBlockedTags=i),null===t.matureToggle&&(c.matureToggle=r),null===t.tags&&(c.tags=o),null===t.tagLimit&&(c.tagLimit=s),null===t.unblockableTags&&(c.unblockableTags=l),0===Object.keys(c).length?null:c}}],(n=[{key:"componentDidMount",value:function(){this.props.getContentSettings(),document.addEventListener("keydown",this.handleEsc,!1),this.state.showBlockedTags&&this.calculateOverflow()}},{key:"componentWillUnmount",value:function(){this.state.showConfirmation&&"0"!==wattpad.utils.getCookie("cs_c")&&(this.props.openConfirmation(),wattpad.utils.setCookie("cs_c",0)),document.removeEventListener("keydown",this.handleEsc,!1)}},{key:"componentDidUpdate",value:function(e,t){this.state.showLoader&&e.contentSettingsLoading&!this.props.contentSettingsLoading&&this.setState({showLoader:!1}),this.state.showBlockedTags&&this.state.tags!==t.tags&&this.calculateOverflow()}},{key:"render",value:function(){var e=this.props,t=e.trans,n=e.isSettingsPage,r=this.state.tags?this.state.tags:[];return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:l()("content-settings",{hidden:this.state.editBlockedTagsView,active:!this.state.editBlockedTagsView,"is-settings-page":n})},a.a.createElement("div",{className:"content-settings-heading"},a.a.createElement("h2",null,t("Content Preferences")),a.a.createElement("hr",null)),this.state.showMature&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"section mature"},a.a.createElement("div",{className:"instruction"},a.a.createElement("h3",null,t("Mature Content")),a.a.createElement("p",null,t("Mature stories may contain explicit content and adult themes. When this is enabled, mature stories may be shown on Home and Search."))),a.a.createElement(d,{toggleState:this.state.matureToggle,onToggle:this.onToggle,disabled:this.props.contentSettingsLoading||this.props.homeLoading})),a.a.createElement("hr",null)),this.state.showBlockedTags&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"section blocked-tags"},a.a.createElement("div",{className:"left-section"},a.a.createElement("div",{className:"instruction"},a.a.createElement("h3",null,t("Blocked Tags")),a.a.createElement("p",null,t("We will remove all stories that have the following tags from your Home recommendations."))),a.a.createElement("div",{className:"blocked-tags-list"},a.a.createElement("div",{className:"tags",ref:this.tagRef},r.slice(0).reverse().map((function(e){return a.a.createElement(p.a,F({key:e.id,disableClick:!0},e))}))),this.state.overflowCount>0&&a.a.createElement("div",{className:"more"},"+ ",this.state.overflowCount," more"))),a.a.createElement("div",{className:"right-section"},a.a.createElement("button",{className:"edit-tags-button right-icon",onClick:this.toggleView},a.a.createElement("p",null,t("Edit Tags")),a.a.createElement(b.g,{name:"arrowRight",size:"22"})))),a.a.createElement("hr",null)),a.a.createElement("div",{className:"footer"},!n&&a.a.createElement("button",{className:"cancel",onClick:this.onCancel},t("Cancel")),this.props.contentSettingsLoading||this.props.homeLoading?a.a.createElement(U.a,null):a.a.createElement("button",{className:"btn-primary",disabled:!!this.props.contentSettingsLoading,onClick:this.handleApplyChanges},t("Apply Changes")))),a.a.createElement(D,{removeOnTagClick:!1,tagLimit:this.state.tagLimit,onReturn:this.getNewBlockedTags,tags:r,toggleView:this.toggleView,visibleState:this.state.editBlockedTagsView,unblockableTags:this.state.unblockableTags,isSettingsPage:!0}))}}])&&V(t.prototype,n),r&&V(t,r),i}(a.a.Component);X(J,"propTypes",{homeLoading:i.a.bool,contentSettings:i.a.object,contentSettingsLoading:i.a.bool,getContentSettings:i.a.func,openConfirmation:i.a.func,saveContentSettings:i.a.func,toggleModal:i.a.func.isRequired,trans:i.a.func.isRequired,isSettingsPage:i.a.bool});var Q={toggleModal:m.b,saveContentSettings:f.n,getContentSettings:f.f,openConfirmation:f.h};t.a=Object(E.n)(Object(c.b)((function(e){var t=e.homeSections;return{homeLoading:t.homeLoading,error:t.error,contentSettings:t.contentSettings,contentSettingsLoading:t.contentSettingsLoading}}),Q)(J))},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(2),u=n(3);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f={1:"https://support.wattpad.com/hc/en-us/articles/4437003467924",2:"https://support.wattpad.com/hc/fr/articles/4437003467924",3:"https://support.wattpad.com/hc/it/articles/4437003467924",4:"https://support.wattpad.com/hc/de/articles/4437003467924",5:"https://support.wattpad.com/hc/es/articles/4437003467924",6:"https://support.wattpad.com/hc/pt/articles/4437003467924",18:"https://support.wattpad.com/hc/fil/articles/4437003467924",20:"https://support.wattpad.com/hc/id/articles/4437003467924",23:"https://support.wattpad.com/hc/tr/articles/4437003467924"},p=function(e){var t=e.title,n=e.content,o=e.closePopover,i=Object(c.o)().trans,s=d(Object(r.useState)(f[1]),2),l=s[0],u=s[1];return Object(r.useEffect)((function(){var e=parseInt(app.get("language"),10);void 0!==f[e]&&u(f[e])}),[]),a.a.createElement("div",{className:"react-popover-tooltip",role:"alertdialog","aria-modal":"true","aria-labelledby":"popover-title","aria-describedby":"popover-content"},a.a.createElement("h3",{className:"popover-title",id:"popover-title"},t),a.a.createElement("div",{className:"popover-content",id:"popover-content"},a.a.createElement("span",null,n)),a.a.createElement("hr",{"aria-hidden":!0}),a.a.createElement("div",{className:"tooltip-footer"},a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:l,className:"tooltip-footer__link"},a.a.createElement("span",null,i("Learn more"))),a.a.createElement("button",{className:"btn btn-purple tooltip-footer__btn",onClick:o},i("Ok"))))};p.propTypes={title:i.a.string.isRequired,content:i.a.string.isRequired,closePopover:i.a.func.isRequired};var b=p,y="writer-analytics-info-popover",g={placement:"right",showArrow:"true",modifiers:[{name:"offset",options:{offset:[0,12]}}]},h=function(e){var t=e.popoverContent,n=e.className,o=e.color,i=void 0===o?"wp-neutral-1":o,s=Object(r.useRef)(),d=Object(c.o)().trans,m=Object(c.i)(),f=m.handleClosePopover,p=m.handleOpenPopover,h=function(){return a.a.createElement(b,{title:t.title,content:t.content,closePopover:function(){return f(s)}})};return a.a.createElement("button",{ref:s,onClick:function(){p(h,s,y,g)},className:l()("info-btn",n),"aria-label":d("Click for more information")},a.a.createElement(u.g,{iconName:"fa-info",height:"14",color:i}))};h.propTypes={popoverContent:i.a.shape({title:i.a.string.isRequired,content:i.a.string.isRequired}).isRequired,className:i.a.string,color:i.a.string};t.a=h},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={NOTES:"story-planner"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return f}));var r=n(38);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,s,"next",e)}function s(e){c(o,r,a,i,s,"throw",e)}i(void 0)}))}}function d(e){var t="/v5/stories/".concat(e,"/notes");return function(){var n=u(regeneratorRuntime.mark((function n(a){var o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return",a({type:r.b,data:null}));case 2:return a({type:r.d}),n.prev=3,o=Promise.resolve($.get(t)),n.next=7,o;case 7:i=n.sent,a({type:r.b,data:i}),n.next=14;break;case 11:return n.prev=11,n.t0=n.catch(3),n.abrupt("return",a({type:r.b,data:null}));case 14:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(e){return n.apply(this,arguments)}}()}function m(e,t,n){return t.id=e,t=function(e,t){if(t.name){var n=t.name,r=t.value,a=s(n.split("."),2),l=a[0],c=a[1];switch(l){case"protagonist":return o(o({},e),{},{protagonist:o(o({},e.protagonist),{},i({},c,r))});case"protagonist_goal":return o(o({},e),{},{protagonist_goal:o(o({},e.protagonist_goal),{},i({},c,r))});case"opportunity":return o(o({},e),{},{opportunity:o(o({},e.opportunity),{},i({},c,r))});default:return o({},e)}}return o(o({},e),{},{protagonist:t.protagonist,protagonist_goal:t.protagonist_goal,opportunity:t.opportunity})}(t,n),function(e){e({type:r.e,data:t})}}function f(e,t){return t.id=parseInt(e),t.protagonist.name=t.protagonist.name&&t.protagonist.name.trim(),t.protagonist.other_names=t.protagonist.other_names&&t.protagonist.other_names.trim(),t.protagonist_goal.description=t.protagonist_goal.description&&t.protagonist_goal.description.trim(),t.protagonist_goal.outcome=t.protagonist_goal.outcome&&t.protagonist_goal.outcome.trim(),t.opportunity.logline=t.opportunity.logline&&t.opportunity.logline.trim(),function(){var e=u(regeneratorRuntime.mark((function e(n){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.resolve($.ajax({url:"/v5/stories",type:"POST",data:JSON.stringify(t),dataType:"json",headers:{"Content-Type":"application/json"}}));case 3:n({type:r.c}),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),null===(a=wattpad)||void 0===a||null===(o=a.utils)||void 0===o||o.showToast(),n({type:r.a});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var d=function(e){var t=e.children,n=e.isExpandable,r=e.onClick,o=e.className,i=u(e,["children","isExpandable","onClick","className"]);return n?a.a.createElement("div",c({onClick:r,role:"button",tabIndex:"0",className:l()("clickable",o)},i),t):o?a.a.createElement("div",c({className:o},i),t):a.a.createElement(a.a.Fragment,null,t)};d.propTypes={children:i.a.any,isExpandable:i.a.bool,onClick:i.a.func,className:i.a.any};var m=function(e){var t=e.type,n=e.children,r=e.link,o=e.isLinkable,i="link"===t,s=i?{target:"_blank",rel:"noopener noreferrer"}:{className:"on-navigate"};return(o=o&&r&&("action"===t||i))?a.a.createElement("a",c({href:r},s),n):a.a.createElement(a.a.Fragment,null,n)};m.propTypes={type:i.a.string,isLinkable:i.a.bool,link:i.a.string,children:i.a.any}},,,,,,function(e,t){e.exports=function(e){return new Promise((function(t,n){var r=wattpad.utils.trans("Failed to publish part");e.publish().then((function(a){if((null==a?void 0:a.error_count)>0)return null!=a&&a.error?n(a.error):(null==a?void 0:a.errors.length)>0?n(a.errors[0]):n(r);var o=parseInt(e.get("id"),10),i=wattpad.utils.currentUser().get("username");return wattpad.utils.cacheBust("StoryPartCreateModel",{id:o},null,!0),wattpad.utils.cacheBust(["Works"],[{username:i}]),wattpad.utils.cacheBust(["Works"],[{username:i,published:!0}]),t(a)}))}))}},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"actions",(function(){return pt}));n(418),n(604);var r=n(292);n.d(t,"createStore",(function(){return r.a}));var a=n(293);n.d(t,"withRedux",(function(){return a.a}));var o=n(294);n.d(t,"ReactRoot",(function(){return o.a}));var i=n(358);n.d(t,"Inbox",(function(){return i.a}));var s=n(359);n.d(t,"Home",(function(){return s.a}));var l=n(360);n.d(t,"StoryDetails",(function(){return l.a}));var c=n(312);n.d(t,"AnnouncementModal",(function(){return c.a}));var u=n(313);n.d(t,"MenuModal",(function(){return u.a}));var d=n(369);n.d(t,"UserSettingsModal",(function(){return d.a}));var m=n(361);n.d(t,"UserSettings",(function(){return m.a}));var f=n(190);n.d(t,"PleaseVerify",(function(){return f.a}));var p=n(145);n.d(t,"VerifyEmail",(function(){return p.a}));var b=n(314);n.d(t,"AccountSocialMedia",(function(){return b.a}));var y=n(315);n.d(t,"ContentPreferences",(function(){return y.a}));var g=n(316);n.d(t,"CookieManager",(function(){return g.a}));var h=n(53);n.d(t,"ReportModal",(function(){return h.c}));var v=n(194);n.d(t,"BlockModal",(function(){return v.a}));var E=n(141);n.d(t,"UnblockModal",(function(){return E.a}));var w=n(3);n.d(t,"MenuOptions",(function(){return w.k})),n.d(t,"Avatar",(function(){return w.a})),n.d(t,"ReportStoryPart",(function(){return w.q})),n.d(t,"SocialSharing",(function(){return w.s})),n.d(t,"Icon",(function(){return w.g})),n.d(t,"WPModal",(function(){return w.v})),n.d(t,"StoryPartBonusHeader",(function(){return w.t}));var O=n(166);n.d(t,"BrowseStoryItem",(function(){return O.b}));var S=n(192);n.d(t,"StoryItem",(function(){return S.a}));var C=n(193);n.d(t,"TagCarousel",(function(){return C.a}));var j=n(6);n.d(t,"AppProvider",(function(){return j.AppProvider})),n.d(t,"TagGrid",(function(){return j.TagCloud}));var N=n(142);n.d(t,"TagMeta",(function(){return N.a}));var k=n(52);n.d(t,"TagItem",(function(){return k.a}));var T=n(97);n.d(t,"TagItemWithIcon",(function(){return T.a}));var P=n(317);n.d(t,"LargePromoBanner",(function(){return P.a}));var _=n(318);n.d(t,"CanvaButton",(function(){return _.a}));var R=n(319);n.d(t,"ThemeSettings",(function(){return R.a}));var I=n(143);n.d(t,"ProfileHeader",(function(){return I.a}));var A=n(370);n.d(t,"RestrictedProfile",(function(){return A.a}));var x=n(58);n.d(t,"Toast",(function(){return x.a}));var L=n(144);n.d(t,"ProfileMoreOptionsButton",(function(){return L.a}));var M=n(320);n.d(t,"UserError404",(function(){return M.a}));var D=n(321);n.d(t,"StoryError404",(function(){return D.a}));var U=n(322);n.d(t,"MerchMessage",(function(){return U.a}));var q=n(371);n.d(t,"StoryPartPaywall",(function(){return q.a}));var F=n(323);n.d(t,"StoryPaywallModal",(function(){return F.a}));var B=n(129);n.d(t,"Wallet",(function(){return B.a}));var W=n(324);n.d(t,"WalletWithOnboarding",(function(){return W.a}));var H=n(325);n.d(t,"showPaidOnboardingModal",(function(){return H.a}));var V=n(326);n.d(t,"BuyCoinsReactModal",(function(){return V.a}));var Y=n(357);n.d(t,"LandingPage",(function(){return Y.a}));var G=n(362);n.d(t,"ContestBanner",(function(){return G.a}));var z=n(327);n.d(t,"ContestForm",(function(){return z.a}));var $=n(101);n.d(t,"AdContainer",(function(){return $.a}));var K=n(328);n.d(t,"StoryTags",(function(){return K.a}));var Z=n(329);n.d(t,"RequestAccountDetails",(function(){return Z.a}));var X=n(364);n.d(t,"OnboardingWriterJourney",(function(){return X.a}));var J=n(330);n.d(t,"OnboardingGenres",(function(){return J.a}));var Q=n(331);n.d(t,"OnboardingSuccess",(function(){return Q.a}));var ee=n(332);n.d(t,"OnboardingDetails",(function(){return ee.a}));var te=n(333);n.d(t,"BannedImageMessaging",(function(){return te.a}));var ne=n(366);n.d(t,"ConfigurePaidPartModalButton",(function(){return ne.a}));var re=n(168);n.d(t,"PublishButton",(function(){return re.b}));var ae=n(334);n.d(t,"ScheduleSuccessModal",(function(){return ae.a}));var oe=n(335);n.d(t,"ImageAppealFlow",(function(){return oe.a}));var ie=n(336);n.d(t,"PrivacySettings",(function(){return ie.a}));var se=n(68);n.d(t,"Header",(function(){return se.d})),n.d(t,"DSContainer",(function(){return se.c})),n.d(t,"Button",(function(){return se.b}));var le=n(203);n.d(t,"OneColPage",(function(){return le.a}));var ce=n(337);n.d(t,"EditWorksButtons",(function(){return ce.a}));var ue=n(338);n.d(t,"WorksItemsDetailsNavBar",(function(){return ue.a}));var de=n(365);n.d(t,"StoryNotes",(function(){return de.a}));var me=n(339);n.d(t,"Acknowledge",(function(){return me.a}));var fe=n(340);n.d(t,"WriterAnalyticsNavBar",(function(){return fe.a}));var pe=n(341);n.d(t,"WriterStoryStats",(function(){return pe.a}));var be=n(342);n.d(t,"QURLabel",(function(){return be.a}));var ye=n(343);n.d(t,"LineChartHeader",(function(){return ye.a}));var ge=n(67);n.d(t,"AuthForm",(function(){return ge.a}));var he=n(126);n.d(t,"SignupForm",(function(){return he.a}));var ve=n(125);n.d(t,"LoginForm",(function(){return ve.a}));var Ee=n(344);n.d(t,"ForgotPassword",(function(){return Ee.a}));var we=n(345);n.d(t,"ResetPassword",(function(){return we.a}));var Oe=n(124);n.d(t,"EmailSignup",(function(){return Oe.a}));var Se=n(346);n.d(t,"Quests",(function(){return Se.a}));var Ce=n(347);n.d(t,"EmbeddedQuests",(function(){return Ce.a}));var je=n(348);n.d(t,"PremiumPicksBanner",(function(){return je.a}));var Ne=n(373);n.d(t,"Copyright",(function(){return Ne.a}));var ke=n(363);n.d(t,"HelpDmcaPage",(function(){return ke.a}));var Te=n(349);n.d(t,"StoryPartNavigation",(function(){return Te.a}));var Pe=n(350);n.d(t,"StoryPartComments",(function(){return Pe.a}));var _e=n(374);n.d(t,"ParagraphCommentsCount",(function(){return _e.a}));var Re=n(195);n.d(t,"CommentOptions",(function(){return Re.a}));var Ie=n(93),Ae=n(169),xe=n(60),Le=n(18),Me=n(99),De=n(92),Ue=n(148),qe=n(20),Fe=n(46),Be=n(155),We=n(150),He=n(375);n.d(t,"ExternalCoverUpload",(function(){return He.a}));var Ve=n(376);n.d(t,"TagpagePaidStoriesContainer",(function(){return Ve.a}));var Ye=n(250);n.d(t,"Catalog",(function(){return Ye.a})),n.d(t,"CatalogHeader",(function(){return Ye.b}));var Ge=n(191);n.d(t,"TryPremium",(function(){return Ge.a}));var ze=n(377);n.d(t,"WriteTooltip",(function(){return ze.a}));var $e=n(351);n.d(t,"ValidationSuccess",(function(){return $e.a}));var Ke=n(196);n.d(t,"SearchBar",(function(){return Ke.a}));var Ze=n(197);n.d(t,"StoryCard",(function(){return Ze.a}));var Xe=n(198);n.d(t,"RecentSearches",(function(){return Xe.a}));var Je=n(199);n.d(t,"EducationalBanner",(function(){return Je.a}));var Qe=n(200);n.d(t,"LastUpdatedFilter",(function(){return Qe.a}));var et=n(367);n.d(t,"ProfileCardContainer",(function(){return et.a}));var tt=n(372);n.d(t,"StoryCardContainer",(function(){return tt.a}));var nt=n(201);n.d(t,"BrowseCategories",(function(){return nt.a}));var rt=n(352);n.d(t,"SearchTabs",(function(){return rt.a}));var at=n(353);n.d(t,"SearchNoResults",(function(){return at.a}));var ot=n(368);n.d(t,"FiltersContainer",(function(){return ot.a}));var it=n(354);n.d(t,"SearchHeader",(function(){return it.a}));var st=n(355);n.d(t,"BlankSearch",(function(){return st.a}));var lt=n(118);n.d(t,"DateTimeField",(function(){return lt.a}));var ct=n(356);n.d(t,"GoogleOneTapContainer",(function(){return ct.a}));var ut=n(0),dt=n.n(ut),mt=n(40),ft=n.n(mt),pt={fetchWalletBalance:Ie.a,fetchPaidContentMetadata:Ae.c,cacheBustPaidContentMetadata:Ae.a,fetchHomeSections:Le.d,clearError:Le.b,openContestForm:xe.d,setStoryTags:Me.d,resetConversation:De.e,resetThreads:Ue.c,initializeMutedUsers:qe.e,toggleToast:Fe.c,callTrackingUrls:Le.a,postStoryNotes:Be.b,setMutedUsersFromBackBone:qe.i,setBlockedUsersFromBackBone:qe.h,updateActiveTab:We.b,setContestFormSubmissionStatus:xe.h,setContestFormNearEligibleStatus:xe.f,setContestFormStoryStatus:xe.g},bt=bt||e;bt.React=dt.a,bt.ReactDOM=ft.a}.call(this,n(33))},function(e,t){function n(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}var r=function(e){return Promise.resolve($.ajax({type:"GET",url:e}))};e.exports=function(){return new Promise(function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,r("https://www.wattpad.com/v5/password-strength/policies").then((function(e){return t(e)})).catch((function(e){return n(e)}));case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(a,o){var i=e.apply(t,r);function s(e){n(i,a,o,s,l,"next",e)}function l(e){n(i,a,o,s,l,"throw",e)}s(void 0)}))});return function(e,n){return t.apply(this,arguments)}}())}},function(e,t){function n(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}var r=function(e,t){return Promise.resolve($.ajax({type:"post",url:e,data:t,contentType:"application/json; charset=utf-8",dataType:"json"}))};e.exports=function(e,t,a,o){if(!o)throw new Error("Must provide a password!");return new Promise(function(){var i,s=(i=regeneratorRuntime.mark((function n(i,s){var l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l={password:o,requester:{username:a,firstName:e,lastName:t}},n.next=4,r("https://www.wattpad.com/v5/password-strength/check",JSON.stringify(l)).then((function(e){return i(e)})).catch((function(e){return s(e)}));case 4:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=i.apply(e,t);function s(e){n(o,r,a,s,l,"next",e)}function l(e){n(o,r,a,s,l,"throw",e)}s(void 0)}))});return function(e,t){return s.apply(this,arguments)}}())}},function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(5),l=n(3),c=n(142);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E={completed:a.a.bool,cover:a.a.string,description:a.a.string.isRequired,id:a.a.oneOfType([a.a.number,a.a.string]).isRequired,mature:a.a.bool,numParts:a.a.number.isRequired,readCount:a.a.number.isRequired,tags:a.a.arrayOf(a.a.string).isRequired},w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(o,e);var t,n,r,a=g(o);function o(){return p(this,o),a.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e,t=this,n=this.props,r=n.title,a=n.user,o=n.url,u=n.readCount,d=n.numParts,f=n.voteCount,p=n.cover,b=n.description,y=n.mature,g=n.completed,h=n.tags,v=n.rank,E=n.id,w=n.app,O=n.trans,S=n.useReactModal,C={tags:h,storyId:E,numShown:"desktop"===w.deviceType?3:2},j=Object(s.x)(r,35,!1),N=a.fullname||a.name,k=O("by %s",Object(s.x)(N,30,!1)),T=Object(s.d)(o),P="/user/"+a.name,_=Object(s.b)(u).toString(),R=Object(s.b)(d).toString(),I=Object(s.b)(f).toString(),A=Object(s.u)(b);"desktop"===w.deviceType?(e=Object(s.t)(p,Object(s.f)(600),w.devicePixelRatio,w.matchMedia,w.msMatchMedia),A=Object(s.x)(A,170,!1)):(e=Object(s.t)(p,Object(s.f)(300),w.devicePixelRatio,w.matchMedia,w.msMatchMedia),A=Object(s.x)(A,170,!1));var x,L=O("%1$s by %2$s",r,a.name),M=function(e){var n,r;if(S){e.preventDefault();var a=null===(n=window)||void 0===n||null===(r=n.wattpad)||void 0===r?void 0:r.utils.getModal(l.j.STORY_PREVIEW_MODAL);a.setData(m(m({},t.props),{},{isTracked:!0})),a.show()}},D={__html:A},U=i.a.createElement("div",{className:"description",dangerouslySetInnerHTML:D}),q=i.a.createElement("img",{src:e,alt:L});return v&&(x=i.a.createElement("div",{className:"story-rank"},i.a.createElement("span",null,"#",v))),i.a.createElement("div",{className:"item"},i.a.createElement("a",{className:"on-story-preview cover cover-lg","data-story-id":E,href:T,onClick:M},i.a.createElement("div",{className:"fixed-ratio fixed-ratio-cover"},q,x)),i.a.createElement("div",{className:"content"},i.a.createElement("a",{className:"title meta on-story-preview","data-story-id":E,href:T,onClick:M},j),i.a.createElement("a",{className:"username meta on-navigate",href:P},k),i.a.createElement("div",{className:"meta social-meta"},i.a.createElement("span",{className:"read-count"},i.a.createElement(l.g,{iconName:"fa-view",height:"12",color:"wp-neutral-2"}),_),i.a.createElement("span",{className:"vote-count"},i.a.createElement(l.g,{iconName:"fa-vote",height:"12",color:"wp-neutral-2"}),I),i.a.createElement("span",{className:"part-count"},i.a.createElement(l.g,{iconName:"fa-list",height:"12",color:"wp-neutral-2"}),R)),U,i.a.createElement("div",{className:"bottom-content clearfix"},i.a.createElement("div",{className:"story-status"},g?i.a.createElement("span",{className:"label label-info"},O("Completed")):null,y?i.a.createElement("span",{className:"label label-danger"},O("Mature")):null),i.a.createElement(c.a,{tagMeta:C,defaultClickEvents:S}))))}}])&&b(t.prototype,n),r&&b(t,r),o}(o.Component);w.propTypes=m(m({},E),{},{rank:a.a.number,trans:a.a.func.isRequired,app:a.a.object,useReactModal:a.a.bool}),t.b=Object(s.n)(w)},function(e,t,n){"use strict";var r=n(14),a=n.n(r),o=(n(162),n(3));t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(r,i){var s=window.wattpad.utils;if(!wattpad.user.verified_email)return s.showPleaseVerifyModal(),i();null!=e&&e.textids||(e.textids=a.a.pluck(e.parts,"id").join(","));var l,c=new app.models.StoryLabelsModel({storyId:parseInt(e.id)});l=Promise.resolve(c.fetch()).catch((function(){})),Promise.all([$.get("/apiv2/storytext?id=".concat(t.get("id"),"&output=json")),l]).then((function(r){var a,l,u,d;n&&((null===(a=r[0])||void 0===a?void 0:a.text)&&t.set("text",null===(l=r[0])||void 0===l?void 0:l.text),(null===(u=r[0])||void 0===u?void 0:u.text_hash)&&t.set("last_text_hash",null===(d=r[0])||void 0===d?void 0:d.text_hash));if(""===e.title||e.title===s.trans("Untitled Story")||""===e.description||0===e.tags.length||n&&!e.category||!(n||e.categoryObject&&e.published)){var m=new app.views.WorksItemDetails({model:new app.models.StoryCreateModel(e),storyLabelsModel:c||null,isPublish:!0,partModel:t,isPreview:n});return $("#generic-modal").find(".modal-content .modal-body").html(m.render().$el),$("#generic-modal").addClass("publish-modal").modal("show"),m.setElement($(".publish-modal")),i([])}s.openModal&&s.openModal(o.j.PUBLISH_MODAL_ID)}))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(6),c=n(3),u=n(12),d=n.n(u),m=n(162),f=n.n(m),p=n(393),b=n.n(p),y=n(394),g=n.n(y);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=0,O=1,S={partModel:i.a.object,showModal:i.a.bool,onPublish:i.a.func,onSchedule:i.a.func,onUnschedule:i.a.func,onClose:i.a.func},C=function(e){var t=e.partModel,n=e.showModal,o=e.onPublish,i=e.onSchedule,u=e.onUnschedule,m=e.onClose,p=Object(r.useRef)(),y=Object(s.o)().trans,E=null==t?void 0:t.get("scheduledPublishDatetime"),S=v(Object(r.useState)(E?O:w),2),C=S[0],j=S[1],N=v(Object(r.useState)(!!E),2),k=N[0],T=N[1],P=v(Object(r.useState)(E),1)[0],_=v(Object(r.useState)(E),2),R=_[0],I=_[1],A=v(Object(r.useState)(!1),2),x=A[0],L=A[1],M=v(Object(r.useState)(!1),2),D=M[0],U=M[1],q=v(Object(r.useState)(""),2),F=q[0],B=q[1],W=d()().locale("en"),H=Object(r.useCallback)((function(e){var t=e.target.value;j(parseInt(t)),B("")}),[j]);Object(r.useEffect)((function(){var e=d()().add(15,"minutes").toISOString();L(R&&e<=R)}),[R]);return a.a.createElement(c.l,h({id:c.j.PUBLISH_MODAL_ID},{showModal:n,onClose:function(){L(!1),B(""),I(P),T(!!P),m&&m()}},{ref:p}),a.a.createElement("div",{className:"publish-modal-content"},a.a.createElement("h2",{className:"modal-title"},y("Publish your part")),a.a.createElement(c.p,{name:"publish_type",options:[{label:y("Publish now"),value:w},{label:y("Schedule to publish later"),value:O}],value:C,onChange:H}),C==w&&a.a.createElement("div",{className:"publish-footer"},a.a.createElement(l.Button,{fullWidth:!0,onClick:function(e){U(!0),f()(t).then((function(){p.current.hide(),U(!1),o&&o(e)})).catch((function(e){U(!1),B(e)}))},disabled:D,label:y("Publish")}),!!F&&a.a.createElement("p",{className:"text-alert title-action"},F)),C==O&&a.a.createElement("div",{className:"publish-schedule"},a.a.createElement("label",{className:"schedule-date-label"},y("Publish Date & Time"),":"),a.a.createElement(c.e,{className:"schedule-date",value:E,timeIncrements:15,onChange:function(e){return I(e)},min:W.startOf("day").format("YYYY-MM-DD"),max:W.startOf("day").add(1,"year").format("YYYY-MM-DD")}),a.a.createElement("div",{className:"publish-footer"},a.a.createElement("label",{className:"schedule-confirm"},a.a.createElement(c.b,{defaultValue:k,onChange:function(e){return T(e)}}),y("I understand my part will be automatically published to my readers at the scheduled date and time.")),a.a.createElement(l.Button,{fullWidth:!0,onClick:function(e){U(!0),b()(t,R).then((function(){p.current.hide(),U(!1),i&&i(e)})).catch((function(e){U(!1),B(e)}))},disabled:!k||!x,label:y("Schedule")}),E&&a.a.createElement(l.Button,{className:"unschedule-button",onClick:function(e){U(!0),g()(t).then((function(){p.current.hide(),U(!1),u&&u(e)})).catch((function(e){U(!1),B(e)}))},variant:l.ButtonVariant.SECONDARY,fullWidth:!0,disabled:!k||!x,label:y("Unschedule")}),!!F&&a.a.createElement("p",{className:"text-alert title-action"},F)))))};C.propTypes=S;var j=C,N=n(167);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=T(T({},S),{},{storyModel:i.a.object,isPreview:i.a.bool}),R=function(e){var t,n,r=Object(s.o)().trans,o=function(){Object(N.a)(e.storyModel,e.partModel,!!e.isPreview)};return e.partModel?a.a.createElement(a.a.Fragment,null,null!==(t=e.partModel)&&void 0!==t&&null!==(n=t.attributes)&&void 0!==n&&n.scheduledPublishDatetime?a.a.createElement(l.Button,{onClick:o,size:l.ButtonSize.SMALL,leadingIcon:l.IconNames.WpCalendar,label:r("Change schedule")}):a.a.createElement(l.Button,{onClick:o,size:l.ButtonSize.SMALL,label:r("Publish")}),a.a.createElement(j,e)):a.a.createElement(l.Button,{size:l.ButtonSize.SMALL,isLoading:!0})};R.propTypes=_;t.b=R},function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f}));var r=n(14),a=n.n(r),o=n(381);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c="".concat("PAID_CONTENT_METADATA","/SET"),u="".concat("PAID_CONTENT_METADATA","/CLEAR");function d(e,t){return function(n,r){if(void 0!==r().paidMetadata[e])return Promise.resolve();var i=a.a.pluck(t,"id").join(",");return Promise.resolve($.get("/v5/story/".concat(e,"/paid-content/metadata"),{parts:i})).then((function(r){var a,i,s;n({type:c,storyId:e,metadata:Object(o.formatPaidContentMetadata)(t,r,null===(a=window)||void 0===a||null===(i=a.wattpad)||void 0===i||null===(s=i.utils)||void 0===s?void 0:s.trans)})}))}}function m(e,t){return{type:u,storyId:e,partIds:t}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var n=t.metadata,r=t.storyId,o=n.story,i=n.parts;return s(s({},e),{},l({},r,{story:o,parts:i}));case u:var d=t.storyId;return a.a.omit(e,d);default:return e}}},,,function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function s(e){r(i,a,o,s,l,"next",e)}function l(e){r(i,a,o,s,l,"throw",e)}s(void 0)}))}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return b}));var l="STORY_ITEM",c="".concat(l,"/LOAD_READING_POSITION"),u="".concat(l,"/IS_LOADING_READING_POSITION"),d="".concat(l,"/CLEAR_READING_POSITION"),m={isLoading:!0,loadError:null,readingPosition:""};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case c:return i(i({},e),{},{isLoading:!1,loadError:null,readingPosition:t.readingPosition});case d:case u:return i(i({},e),{},{isLoading:!0});default:return e}}var p=function(e){return function(){var t=a(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:u}),Promise.resolve($.get("/apiv2/syncreadingposition",{story_id:e})).then((function(t){t&&t.part!==e?n({type:c,readingPosition:t}):n({type:c,readingPosition:{part:e,position:"0.0"}})})).catch((function(e){n({type:c,loadError:e})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(){return function(){var e=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:d});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(4),l=n.n(s),c=n(5),u=n(52);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e){var t=e.title,n=e.id,r=e.cover,a=e.tags,s=e.sources,m=e.offset,f=e.shiftCarousel,p=e.sectionType,b=e.index,y=e.width,g=void 0===y?200:y,h=e.page,v=e.onStoryClick,E=e.storyData,w=e.clickTrackingUrls,O=e.callTrackingUrls,S=e.isActiveStory,C=void 0!==S&&S;a=a||[];var j=d(Object(o.useState)(a[0]),2),N=j[0],k=j[1];Object(o.useEffect)((function(){k(_.shuffle(a).find((function(e){return g<200?e.length<10:e.length<18})))}),[a,g]);return i.a.createElement("div",{className:l()("story-item","story-".concat(m))},i.a.createElement("div",{className:"cover"},i.a.createElement("a",{href:"/story/"+n,onClick:function(e){return function(e,t){e.preventDefault(),window.te.push("event","story",null,null,"click",{storyid:n,page:h,algo_source:s,position:b,offset:m,type:p}),w&&O(w),"mobile"!==wattpad.utils.getDeviceType()&&v?v(E):f&&!C?f():app.router.navigate(t,{trigger:!0})}(e,"/story/".concat(n))}},i.a.createElement("img",{src:Object(c.t)(r,g),alt:"".concat(t," cover")}))),i.a.createElement("div",{className:"tag-and-badge"},N?i.a.createElement(u.a,{name:N,clickHandler:function(e,t){e.preventDefault(),app.router.navigate("/stories/".concat(t),{trigger:!0})},link:"/stories/".concat(N)}):null))};f.defaultProps={onStoryClick:null,sources:[]},f.propTypes={cover:a.a.string.isRequired,id:a.a.oneOfType([a.a.string,a.a.number]).isRequired,index:a.a.number,offset:a.a.number,sectionType:a.a.string,sources:a.a.array,tags:a.a.array,shiftCarousel:a.a.func,title:a.a.string.isRequired,width:a.a.number,page:a.a.string,onStoryClick:a.a.func,storyData:a.a.object,clickTrackingUrls:a.a.array,callTrackingUrls:a.a.func,isActiveStory:a.a.bool},t.a=f},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(2),a=function(){var e=Object(r.o)().trans;return[{name:e("All Rights Reserved"),summary:e("You do not allow your work to be used or adapted in any way without your permission."),value:"1"},{name:e("Public Domain"),summary:e("This allows anyone to use your story for any purpose — they could freely print, sell, or turn your story into a movie."),value:"2"},{name:e("Creative Commons (CC) Attribution"),summary:e("You hold some rights to your story but allow for things like translation or adaptations with credit back to you."),value:"3"},{name:e("(CC) Attrib. NonCommercial"),summary:e("This license lets others remix, adapt, and build upon your work non-commercially with credit back to you."),value:"4"},{name:e("(CC) Attrib. NonComm. NoDerivs"),value:"5",summary:e("This license allows others to share your unaltered work with others as long as you get credit.")},{name:e("(CC) Attrib. NonComm. ShareAlike"),value:"6",summary:e("This lets others adapt, and build upon your work non-commercially, as long as you are credited and the same terms are applied.")},{name:e("(CC) Attribution-ShareAlike"),value:"7",summary:e("This lets others adapt and build on your work, even for commercial purposes, as long as you are credited and the same terms are applied.")},{name:e("(CC) Attribution-NoDerivs"),value:"8",summary:e("This lets others reuse your work for any purpose but it cannot be altered and you must be credited.")}]},o=function(){var e=Object(r.o)().trans;return{copyright:{title:e("Who owns your story?"),mainContent:e("Let others know if this story is just yours, or if anyone can repost or remix it"),link:{href:"https://support.wattpad.com/hc/en-us/articles/216192503-Copyright-FAQ",text:e("Learn more")},button:{text:e("OK")}}}}},,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(3),i=n(2),s=n(1),l=n.n(s),c=n(204),u=n(145);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){var t=e.email,n=e.userId,s=e.hideModal,l=Object(i.o)().trans,m=d(Object(r.useState)(!1),2),f=m[0],p=m[1],b=d(Object(r.useState)(!1),2),y=b[0],g=b[1],h=d(Object(r.useState)(!1),2),v=h[0],E=h[1],w=function(e){wattpad.utils.stopEvent(e),s()},O=function(e){wattpad.utils.stopEvent(e),p(!0),g(!0)},S=function(e){wattpad.utils.stopEvent(e),$.ajax({type:"POST",url:"/api/v3/users/validate",data:{activation_email:"true"},success:function(){E(!0),p(!0),g(!1)},error:function(){E(!1),p(!0),g(!1)}})},C=l("Please check your email %s to complete sign-up.",t)+" "+l("After you click the link in your email, you'll be able to:");return f?a.a.createElement(u.a,{isChangeEmailModal:y,email:t,userId:n,isSuccess:v,hideModal:s}):a.a.createElement("div",{className:"please-verify-modal-content"},a.a.createElement("button",{className:"close on-close",onClick:w,"aria-label":l("Close"),tabIndex:"0"},a.a.createElement(o.g,{iconName:"fa-remove",height:"16",color:"wp-neutral-2"})),a.a.createElement("h1",null,l("Please verify your email.")),a.a.createElement("div",{className:"modal-content"},a.a.createElement("p",{className:"modal-message"},C.split(t)[0],a.a.createElement("strong",null,t),C.split(t)[1]),a.a.createElement(c.a,null),a.a.createElement("div",{className:"button-wrapper"},a.a.createElement("form",null,a.a.createElement("div",null,a.a.createElement("button",{className:"btn-primary btn-md btn-change-email",onClick:O,"aria-label":l("Change email")},l("Change email")),a.a.createElement("button",{className:"btn-secondary btn-md btn-resend-email",onClick:S,"aria-label":l("Resend email")},l("Resend email")))))))}f.propTypes={email:l.a.string.isRequired,userId:l.a.number.isRequired,hideModal:l.a.func},t.a=f},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(2);function c(e){var t=e.ctaType,n=Object(l.o)().trans;return a.a.createElement("a",{href:"https://www.wattpad.com/premium",className:"try-premium on-premium btn-primary",target:"_blank",rel:"noopener noreferrer",onClick:function(){window.te.push("event","subscriptions","cta",null,"view",{cta_type:t})}},a.a.createElement(s.g,{name:"zap",size:"20",className:"zap-icon",color:"ds-base-4-accent",fill:!0}),a.a.createElement("div",{className:"button-copy"},n("Try Premium")))}c.propTypes={ctaType:i.a.string}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(0),a=n.n(r),o=n(4),i=n.n(o),s=n(1),l=n.n(s),c=n(15),u=n(5),d=n(2),m=n(3),f=n(81);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t=e.promoted,n=e.url,o=e.id,s=e.cover,l=e.title,b=e.user,y=e.categories,g=e.readCount,h=e.voteCount,v=e.commentCount,E=e.description,w=e.sponsorName,O=e.clickUrl,S=e.impressionUrl,C=e.isCompleted,j=e.isMature,N=e.numParts,k=e.isMobile,T=e.isFeatureFlagged,P=e.descCharLimit,R=void 0===P?170:P,I=Object(d.o)().trans,A=p(Object(r.useState)(!1),2),x=A[0],L=A[1],M=Object(r.useRef)(),D=Object(u.g)(s,67);Object(r.useEffect)((function(){if(!x&&!k){var e=_.throttle((function(){if(M.current){var e=M.current.getBoundingClientRect(),t=e.top,n=e.bottom;t>=0&&n<=window.innerHeight&&(window.te.push("event","story",null,null,"view",{storyid:o,page:"story_details",type:"similar_stories",source:"story_details"}),L(!0))}}),300);return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}}),[x,L,M,o,k]);return a.a.createElement("a",{className:i()("clearfix on-story-preview",{promoted:t}),href:Object(u.d)(n),onClick:function(e){return function(e,t){e.preventDefault(),window.te.push("event","story",null,null,"click",{storyid:o,page:"story_details",type:"similar_stories",source:"story_details"}),app.router.navigate(t,{trigger:!0})}(e,Object(u.d)(n))},"data-story-id":o,ref:M,"data-impression-url":S,"data-click-url":O,"data-author-name":b?b.name:null},a.a.createElement("div",{className:"send-story-cover-event cover cover-sm","data-story-id":o},a.a.createElement("img",{srcSet:"".concat(Object(u.g)(s,80)," 1x, ").concat(Object(u.g)(s,100)," 1.5x, ").concat(Object(u.g)(s,144)," 2x, ").concat(Object(u.g)(s,176)," 2.5x, ").concat(Object(u.g)(s,200)," 3x"),src:D,alt:I("%1$s by %2$s",l,b?b.name:null)})),a.a.createElement("div",{className:"left-container"},a.a.createElement("div",{className:"story-item-title-and-badge"},a.a.createElement("div",{className:"title","aria-hidden":!0},Object(u.x)(l,45,!1))),T?a.a.createElement(f.a,{numParts:N,isCompleted:C,isMature:j}):a.a.createElement(a.a.Fragment,null,t?a.a.createElement("small",{className:"promoted left-icon"},a.a.createElement(m.g,{iconName:"fa-badge-promoted",height:"13",color:"wp-neutral-1"}),a.a.createElement("span",{dangerouslySetInnerHTML:{__html:I("Promoted by %s",Object(c.sprintf)("<b>%s</b>",w))}})):a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:"meta"},a.a.createElement("span",{className:"reads small left-icon"},a.a.createElement(m.g,{iconName:"fa-view",height:"12",color:"wp-neutral-2"}),Object(u.b)(g)),a.a.createElement("span",{className:"votes small left-icon"},a.a.createElement(m.g,{name:"votes",size:"12",color:"wp-neutral-2",fill:!0}),Object(u.b)(h)),v&&a.a.createElement("span",{className:"comments small left-icon"},a.a.createElement(m.g,{name:"commentMeta",size:"14",color:"wp-neutral-2",fill:!0}),Object(u.b)(v))),a.a.createElement("div",{className:"categories"},y&&y.map((function(e){return a.a.createElement("button",{key:e,className:"btn btn-link btn-xxs btn-category"},a.a.createElement("span",null,e))}))))),E&&a.a.createElement("div",{className:"small story-item-description"},Object(u.x)(E,R,!1,{sanitization:"unsanitize"}))))}y.propTypes={promoted:l.a.bool,url:l.a.string,id:l.a.any,cover:l.a.string,title:l.a.string,user:l.a.object,categories:l.a.array,readCount:l.a.any,voteCount:l.a.any,commentCount:l.a.any,description:l.a.string,sponsorName:l.a.string,clickUrl:l.a.string,impressionUrl:l.a.string,isCompleted:l.a.bool,isMature:l.a.bool,numParts:l.a.number,isFeatureFlagged:l.a.bool,descCharLimit:l.a.any,isMobile:l.a.bool}},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(52),u=n(97);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,n,r,o=y(i);function i(){var e;f(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(h(e=o.call.apply(o,[this].concat(n))),"tagClickHandler",(function(t,n){window.wattpad.utils.stopEvent(t),window.app.trigger("app:component:TagCarouselItem:click",t.currentTarget.textContent,t),e.props.onTagClicked&&e.props.onTagClicked(n)})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props.relatedTags.tags,n=this.props.relatedTags.withIcon||!1;return a.a.createElement("div",{className:l()("tag-carousel",this.props.className,{hidden:!((null==t?void 0:t.length)>0)})},a.a.createElement("div",{className:"tag-items"},null==t?void 0:t.map((function(t){return n?a.a.createElement(u.a,m({key:t.id},t,{clickHandler:e.tagClickHandler})):a.a.createElement(c.a,m({key:t.id},t,{clickHandler:e.tagClickHandler}))}))))}}])&&p(t.prototype,n),r&&p(t,r),i}(a.a.Component);w.propTypes={relatedTags:i.a.object.isRequired,className:i.a.string,onTagClicked:i.a.func}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(2);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=function(e){var t,n,r=e.username,o=e.toggleModal,i=e.blockUser,s=Object(c.o)().trans,d=s("This account will not be able to follow you, send you messages, post on your profile, or read or comment on your stories. This action can take 30 minutes to take effect."),m=l()("btn-primary",{"on-block-user":void 0===i});return void 0!==("undefined"==typeof window?"undefined":u(window))&&(t=document.querySelector(".block-modal"),n=document.querySelector(".dropdown-toggle")),Object(c.p)(t,n,o),a.a.createElement("div",{className:"block-modal-content"},a.a.createElement("h3",{className:"block-modal-title"},s("Block %s",r)),a.a.createElement("p",null,d),a.a.createElement("div",{className:"confirm-buttons"},a.a.createElement("button",{className:"cancel-block",onClick:o},s("Cancel")),a.a.createElement("button",{className:m,onClick:function(){o(),i&&i(r)}},s("Block"))))};d.propTypes={username:i.a.string.isRequired,toggleModal:i.a.func.isRequired,blockUser:i.a.func},t.a=d},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(2),c=n(128),u=n(53),d=function(e){var t=e.canMute,n=e.canDeleteData,o=e.commentAuthor,i=e.commentBody,d=void 0===i?"":i,m=e.deeplink,f=e.onDeleteComment,p=e.canLink,b=void 0===p||p,y=e.reportType,g=void 0===y?u.b.COMMENT:y,h=Object(l.o)().trans,v=Object(l.k)().openReportCommentModal,E=Object(l.h)().openMuteUserModal,w=Object(l.b)().openConfirmModal,O=Object(r.useRef)(),S=Object(r.useRef)(),C=Object(r.useRef)();return a.a.createElement("div",{className:"comment-options"},t&&a.a.createElement("button",{ref:S,id:"mute-user",className:"option btn-no-background",onClick:function(){return E(o,S)}},a.a.createElement(s.g,{name:"mute",size:"14",color:"wp-neutral-1"}),a.a.createElement("span",null,h("Mute %s",o))),a.a.createElement("button",{ref:C,id:"report-comment",className:"option btn-no-background",onClick:function(){var e;v(g,o,d,null===(e=window)||void 0===e?void 0:e.location.href,m,C)}},a.a.createElement(s.g,{name:"report"}),a.a.createElement("span",null,h("Report Comment"))),(null==n?void 0:n.canDelete)&&a.a.createElement("button",{ref:O,id:"delete-comment",className:"option btn-no-background",onClick:function(){var e=null!=n&&n.isCommentAuthor?h("Are you sure you want to delete your comment?"):h("Are you sure you want to delete this comment from @%s?",o);w({contentText:e,title:h("Delete Comment"),onConfirmClick:f,openTriggerRef:O})}},a.a.createElement(s.g,{name:"trash",size:"14",color:"wp-neutral-1"}),a.a.createElement("span",null,h("Delete Comment"))),b&&a.a.createElement(a.a.Fragment,null,a.a.createElement("a",{tabIndex:"0",href:m,id:"deeplink-comment",className:"option btn-no-background"},a.a.createElement(s.g,{name:"share",size:"14",color:"wp-neutral-1"}),a.a.createElement("span",null,h("Link to Comment")))),a.a.createElement(c.a,null))};d.propTypes={canMute:i.a.bool,canDeleteData:i.a.shape({canDelete:i.a.bool,isCommentAuthor:i.a.bool}),commentAuthor:i.a.string,commentBody:i.a.string,deeplink:i.a.string,onDeleteComment:i.a.func,canLink:i.a.bool,reportType:i.a.oneOf(Object.values(u.b))},t.a=d},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(3);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e){var t=e.searchTerm,n=e.handleSearchSubmit,o=e.handleSaveSearchTerm,i=Object(s.o)().trans,u=c(Object(r.useState)(t),2),d=u[0],m=u[1],f=c(Object(r.useState)(!!t),2),p=f[0],b=f[1],y=Object(r.useRef)(null);return a.a.createElement("form",{role:"search","aria-label":i("Stories and people"),className:"search-bar",onSubmit:function(e){var t;e.preventDefault(),null==y||null===(t=y.current)||void 0===t||t.blur(),b(!!d),o(d),n(d)}},a.a.createElement(l.g,{className:"search-bar__icon",name:"search",size:"24"}),a.a.createElement("input",{className:"search-bar__input",type:"search",value:d,onChange:function(e){m(e.target.value)},placeholder:i("Search for stories and people"),minLength:"1",spellCheck:"false",autoComplete:"off",ref:y,size:"10"}),p&&a.a.createElement("a",{href:"/search",className:"search-bar__cancel",onClick:function(e){e.preventDefault(),b(!1),app.router.navigate("/search",{trigger:!0})}},i("Cancel")))};d.defaultProps={handleSearchSubmit:function(){},handleSaveSearchTerm:function(){}},d.propTypes={searchTerm:i.a.string,handleSearchSubmit:i.a.func.isRequired,handleSaveSearchTerm:i.a.func},t.a=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(5),l=n(51),c=n(2),u=n(81),d=n(72),m=n(208),f=n.n(m);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t=e.id,n=e.title,o=e.cover,i=e.description,m=e.completed,b=e.isPaywalled,y=e.paidModel,g=e.mature,h=e.readCount,v=e.voteCount,E=e.numParts,w=e.length,O=e.language,S=e.searchTerm,C=e.index,j=e.sources,N=e.viewedStories,k=e.pushViewEvent,T=e.isMobile,P=Object(c.o)().trans,R=Object(l.a)()&&window.innerWidth<575,I=f()({paidModel:y}),A=p(Object(r.useState)(!1),2),x=A[0],L=A[1],M=Object(r.useRef)(),D=Object(r.useRef)(!1),U=R?"14":"16",q=[{icon:"views",label:P("Reads"),size:U,viewBox:"16",value:h},{icon:"votesBeta",label:P("Votes"),size:U,viewBox:"16",value:v},{icon:"partsBeta",label:P("Parts"),size:U,viewBox:"16",value:E}];if(1===O){var F=Object(s.c)(Object(s.k)(w));q.push({icon:"readTime",label:P("Time"),size:U,viewBox:"16",hoursVal:F.hours,minutesVal:F.minutes})}Object(r.useEffect)((function(){if(!(T||x||N.includes(t)||!0===D.current)){var e=_.throttle((function(){if(M.current){var e=M.current.getBoundingClientRect(),n=e.top,r=e.bottom,a=.5*e.height;M.current.offsetParent&&(n>=0&&r<=window.innerHeight||n<=0&&r>0&&r>=a||r>=window.innerHeight&&n<window.innerHeight&&window.innerHeight-n>=a)&&(L(!0),D.current=!0,k(t,C,j))}}),300);return e(),window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}}),[x,t,C,T,k,S,j,N]);var B=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"cover"},a.a.createElement("img",{src:Object(s.t)(o,Object(s.f)(t)),alt:""})),a.a.createElement("div",{className:"story-info"},a.a.createElement("span",{className:"sr-only"},n),a.a.createElement("div",{className:"title","aria-hidden":"true"},n),a.a.createElement(u.a,{isPaid:b,isPaidStory:I,isCompleted:m,isMature:g}),a.a.createElement(d.a,{statsItems:q,showTooltip:!1}),e&&a.a.createElement("div",{className:"description"},i)))};return a.a.createElement(a.a.Fragment,null,a.a.createElement("a",{className:"story-card",onClick:function(e){return function(e){var n="/story/".concat(t);e.preventDefault(),window.te.push("event","search","story",null,"click",{storyid:t,search:S,position:C}),window.te.push("event","story",null,null,"click",{storyid:t,page:"search",position:C,query:[S],algo_source:j}),app.router.navigate(n,{trigger:!0})}(e)},href:"/story/".concat(t),ref:M},a.a.createElement("div",{className:"story-card-data shown-xxs","data-id":t},a.a.createElement("div",{className:"top-section"},B(!1,100)),a.a.createElement("div",{className:"description"},i)),a.a.createElement("div",{className:"story-card-data hidden-xxs","data-id":t},B(!0,144))))}y.propTypes={id:i.a.oneOfType([i.a.string,i.a.number]),title:i.a.string,cover:i.a.string,description:i.a.string,completed:i.a.bool,isPaywalled:i.a.bool,paidModel:i.a.string,mature:i.a.bool,readCount:i.a.number,voteCount:i.a.number,numParts:i.a.number,length:i.a.number,language:i.a.number,searchTerm:i.a.string,index:i.a.number,sources:i.a.oneOfType([i.a.string,i.a.array]),viewedStories:i.a.array,pushViewEvent:i.a.func,isMobile:i.a.bool}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(5),c=n(3),u=function(e){var t=e.suggestedSearchTerms,n=void 0===t?[]:t,r=Object(s.o)().trans;return n&&n.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",{className:"recent-searches__heading"},r("Recent Searches")),a.a.createElement("ul",{className:"recent-searches__results-list"},n.map((function(e,t){return a.a.createElement("li",{key:t,className:"recent-searches__list-item"},a.a.createElement("a",{className:"recent-searches__item-link on-navigate",href:"/search/".concat(wattpad.utils.urlEncodeWithSpace(e))},a.a.createElement(c.g,{className:"recent-searches__item-icon",name:"search",size:"16"}),a.a.createElement("span",{className:"sr-only"},e),a.a.createElement("span",{"aria-hidden":!0},Object(l.x)(e,30,!1))))}))))};u.propTypes={suggestedSearchTerms:i.a.array},t.a=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o);function s(e){var t=e.bannerMessages,n=void 0===t?[]:t;return n.length>0&&a.a.createElement("div",{className:"educational-banner"},n.map((function(e,t){return a.a.createElement("div",{className:"educational-banner__message",key:t,dangerouslySetInnerHTML:{__html:e}})})))}s.propTypes={bannerMessages:i.a.arrayOf(i.a.string)}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(210),c=n(37);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=["anytime","day","week","month","year"],f=function(e){var t=e.selectedOptions,n=e.handleFilterChange,o=Object(s.o)().trans,i=u(Object(l.a)(m,"anytime",t),2),d=i[0],f=i[1],p=Object(r.useRef)(!0);Object(r.useEffect)((function(){p.current?p.current=!1:n(d,"age")}),[d,n]);var b=function(e){f(e.currentTarget.checked?"APPLY":"REMOVE",e.currentTarget.value)};return a.a.createElement("div",{className:"filter"},a.a.createElement("span",{className:"sr-only"},o("Last updated")+" "+o("You can select multiple options")),a.a.createElement("div",{className:"filter__title","aria-hidden":!0},o("Last updated")),a.a.createElement("div",{className:"filter__description","aria-hidden":!0},o("You can select multiple options")),a.a.createElement("div",{className:"filter__options"},a.a.createElement(c.a,{value:"anytime",checked:d.anytime,onChange:b,contentId:"lastUpdated1"},o("Anytime")),a.a.createElement(c.a,{value:"day",checked:d.day,onChange:b,contentId:"lastUpdated2"},o("Today")),a.a.createElement(c.a,{value:"week",checked:d.week,onChange:b,contentId:"lastUpdated3"},o("This week")),a.a.createElement(c.a,{value:"month",checked:d.month,onChange:b,contentId:"lastUpdated4"},o("This month")),a.a.createElement(c.a,{value:"year",checked:d.year,onChange:b,contentId:"lastUpdated5"},o("This year"))))};f.defaultProps={handleFilterChange:function(){},selectedOptions:{}},f.propTypes={handleFilterChange:i.a.func,selectedOptions:i.a.object},t.a=f},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(5),l=n(2),c=function(e){var t=e.browseTopics,n=void 0===t?[]:t,r=Object(l.o)().trans;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",{className:"browse-title"},r("Browse Categories")),a.a.createElement("div",{className:"topics-container"},n.map((function(e){var t=e.name,n=e.topic,r=e.browseURL,o=e.image,i=r?Object(s.d)(r):"/stories/".concat(t);return a.a.createElement("a",{key:t,href:i,className:"browse-topic-tile",style:o?{backgroundImage:"url(".concat(o,")")}:{},onClick:function(e){return function(e,t,n){e.preventDefault(),window.te.push("event","browse","item",null,"click",{page:"search",target:t}),app.router.navigate(n,{trigger:!0})}(e,t,i)}},n)}))))};c.propTypes={browseTopics:i.a.array},t.a=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return Ae}));var r=n(7),a=n(1),o=n.n(a),i=n(0),s=n.n(i),l=n(60),c=n(10),u=n(2),d=n(3);function m(e){var t=e.subtitle,n=e.closeModal,r=e.isStandalonePage,a=Object(u.o)().trans;return s.a.createElement("div",{className:"form-header"},!r&&s.a.createElement("button",{className:"close-btn",onClick:n,"aria-label":a("Close modal")},s.a.createElement(c.a,{name:"close",size:"24",color:"wp-neutral-5"})),s.a.createElement("div",{className:"centered-text"},s.a.createElement(d.c,{name:"/contest-form/the-wattys-2024-logo.svg",className:"wattys-logo"}),s.a.createElement("div",{className:"subtitle bold"},t)))}m.propTypes={subtitle:o.a.string.isRequired,closeModal:o.a.func,isStandalonePage:o.a.bool.isRequired};var f=n(8),p=function(e){var t=e.isStandalonePage,n=void 0!==t&&t,r=e.closeModal,a=e.formState,o=Object(u.o)().trans,i=o("Congratulations! You have been entered\ninto The %s Watty Awards.",f.CURRENT_WATTYS_YEAR);if(a.isLoading)return s.a.createElement("div",{className:"loading-spinner"},s.a.createElement(d.h,null));var l=function(){window.te.push("event","wattys","banner",null,"view",{storyid:parseInt(a.data.storyId),type:"confirmed_submission",page:"story_details"}),r()};return s.a.createElement("div",{id:"submission-success"},s.a.createElement(m,{subtitle:i,closeModal:l,isStandalonePage:n}),s.a.createElement("div",{className:"main-container"},s.a.createElement("div",{className:"content"},s.a.createElement("h3",{className:"black bold"},o("Share the exciting news with your readers!")))),s.a.createElement("div",{className:"main-container-cover"},s.a.createElement("div",{className:"content"},s.a.createElement("h5",{className:"bold"},o("I entered my story in The %s Wattys!",f.CURRENT_WATTYS_YEAR)),s.a.createElement("div",{className:"image-container"},s.a.createElement("img",{src:a.cover,alt:o("story cover")})),s.a.createElement("h6",{dangerouslySetInnerHTML:{__html:o("<span class='bold'>%s</span><br>by @%s",a.title,a.user)}}))),s.a.createElement("div",{className:"main-container"},s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"submission-info-text",dangerouslySetInnerHTML:{__html:o("Your story has been submitted for The %s Watty Awards.",f.CURRENT_WATTYS_YEAR)}}),s.a.createElement("div",{className:"submission-info-text",dangerouslySetInnerHTML:{__html:o("<span class='bold'>Good luck and happy writing!</span>")}})),!n&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"btn-container"},s.a.createElement("button",{onClick:l,className:"btn btn-primary"},o("Done"))))))};p.propTypes={isStandalonePage:o.a.bool,closeModal:o.a.func,formState:o.a.object};var b=n(4),y=n.n(b),g=function(e){var t=e.title,n=e.subtitle,r=e.children;return s.a.createElement("div",{className:"inline-row"},Object(i.isValidElement)(t)?t:s.a.createElement("h4",null,t),n,r)};g.defaultProps={customTitle:null},g.propTypes={title:o.a.oneOfType([o.a.string,o.a.node]).isRequired,subtitle:o.a.object,children:o.a.node};var h=g,v=function(e){var t=e.form,n=e.storyId,r=Object(u.o)().trans,a=r("Award language"),o=s.a.createElement("div",{className:"subtitle",dangerouslySetInnerHTML:{__html:r('You are submitting your story to the award language listed below. To change the language your story is written in, please make any necessary edits in your <a href="%s" target="_blank" rel="noopener noreferrer">story settings</a>.',"/myworks/".concat(n))}});return s.a.createElement(h,{title:a,subtitle:o},s.a.createElement("select",{id:"language-select",value:t.language,name:"language",disabled:!0,className:"form-element","aria-label":t.language},Object(f.MAP_WATTYS_LANGUAGES)(r).filter((function(e){return e.key===t.language})).map((function(e){return s.a.createElement("option",{key:e.key,value:e.key},e.value)}))))};v.propTypes={form:o.a.object.isRequired,storyId:o.a.string.isRequired};var E=v,w=function(e){var t=e.form,n=e.storyId,r=Object(u.o)().trans,a=r("Ongoing or Complete story declaration"),o=s.a.createElement("div",{className:"subtitle",dangerouslySetInnerHTML:{__html:r('You are submitting your story to the category listed below. To change the category you are submitting to, please make any necessary edits in your <a href="%s" target="_blank" rel="noopener noreferrer">story settings</a>.',"/myworks/".concat(n))}});return s.a.createElement(h,{title:a,subtitle:o},s.a.createElement("select",{id:"story-status-declaration-select",value:t.storyStatus,name:"storyStatus",disabled:!0,className:"form-element","aria-label":t.storyStatus},Object(f.MAP_STORY_DECLARATION)(r).filter((function(e){return e.key===t.storyStatus})).map((function(e){return s.a.createElement("option",{key:e.key,value:e.value},e.value)}))))};w.propTypes={form:o.a.object.isRequired,storyId:o.a.string.isRequired};var O=w,S=n(14),C=n.n(S);function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e){var t=e.children,n=e.validationRules,r=Object(i.useRef)(null),a=j(Object(i.useState)(null),2),o=a[0],s=a[1];return Object(u.d)("blur",(function(){var e,t=r.current.value;C.a.each(n,(function(n){if(!n.rule(t))return e=n.errorMessage,!1})),e?s(e):o&&s(null)}),r.current),t({ref:r,errorMessage:o,className:o?"error-field":""})}var T=function(e){return encodeURI(e).split(/%..|./).length-1},P=function(e){return{rule:function(e){return e.length>0},errorMessage:function(){return e("This field is required.")}}},_=function(e,t){return{rule:function(t){return T(t)<=e},errorMessage:function(){return t("This field has to contain less than %s characters.",e)}}},R=function(e,t){return{rule:function(t){return T(t)>=e},errorMessage:function(){return t("This field has to contain more than %s characters.",e)}}},I=function(e,t,n){return{rule:function(n){return"number"==typeof Number(n)&&Number.isInteger(Number(n))&&Number(n)>=e&&Number(n)<=t},errorMessage:function(){return n("Please enter a number between %s and %s.",e,t)}}},A=function(e,t){return{rule:function(t){return null!==t.match(e)},errorMessage:function(){return t("Please enter a valid email address.")}}},x=function(e){var t=e.errorMessage,n=e.fieldId,r=e.errorCondition,a=!(!t&&!r),o=(0,Object(u.o)().trans)("This field is required."),i=t||o;return a&&s.a.createElement("div",{className:"error-text",id:"".concat(n,"-field-error")},i)};x.propTypes={errorMessage:o.a.string,fieldId:o.a.string.isRequired,errorCondition:o.a.bool};var L=x,M=function(e){var t=e.form,n=e.disableForm,r=e.onSeriesIdentificationChange,a=e.fieldStatus,o=e.submitted,i=Object(u.o)().trans,l=s.a.createElement("div",{className:"subtitle"},i("Is this story the first story in the series or a sequel?")),c=(a.fieldInvalid||"seriesType"!==a.fieldName&&""!==a.fieldName&&o)&&""===t.seriesType;return s.a.createElement(h,{title:"",subtitle:l},s.a.createElement(k,{validationRules:[P(i)]},(function(e){var a=e.ref,o=e.errorMessage,l=e.className;return s.a.createElement(s.a.Fragment,null,s.a.createElement("select",{id:"series-type-select",ref:a,value:t.seriesType,name:"seriesType",disabled:n,className:y()("form-element",l),onChange:r,"aria-label":i("Select an option")},s.a.createElement("option",{value:"",disabled:!0},i("Select an option")),Object(f.MAP_SERIES_TYPES)(i).map((function(e){return s.a.createElement("option",{key:e.key,value:e.key},e.value)}))),s.a.createElement(L,{errorMessage:o,fieldId:"series-type"}),!o&&s.a.createElement(L,{fieldId:"series-type",errorCondition:c}))})))};M.propTypes={form:o.a.object.isRequired,disableForm:o.a.bool.isRequired,onSeriesIdentificationChange:o.a.func.isRequired,fieldStatus:o.a.shape({fieldInvalid:o.a.bool,fieldName:o.a.string}).isRequired,submitted:o.a.bool.isRequired};var D=M,U=function(e){var t=e.form,n=e.disableForm,r=e.onSeriesIdentificationChange,a=e.fieldStatus,o=e.submitted,i=Object(u.o)().trans,l=s.a.createElement("div",{className:"subtitle"},i("Can the story be read as a standalone?")),c=(a.fieldInvalid||"isSeriesStandalone"!==a.fieldName&&""!==a.fieldName&&o)&&""===t.isSeriesStandalone,d=""===t.isSeriesStandalone?"":t.isSeriesStandalone?"yes":"no";return s.a.createElement(h,{title:"",subtitle:l},s.a.createElement(k,{validationRules:[P(i)]},(function(e){var t=e.ref,a=e.errorMessage,o=e.className;return s.a.createElement(s.a.Fragment,null,s.a.createElement("select",{id:"series-standalone-select",ref:t,value:d,name:"isSeriesStandalone",disabled:n,className:y()("form-element",o),onChange:r,"aria-label":i("Select an option")},s.a.createElement("option",{value:"",disabled:!0},i("Select an option")),s.a.createElement("option",{key:"yes",value:"yes"},i("Yes")),s.a.createElement("option",{key:"no",value:"no"},i("No"))),s.a.createElement(L,{errorMessage:a,fieldId:"series-standalone"}),!a&&s.a.createElement(L,{fieldId:"series-standalone",errorCondition:c}))})))};U.propTypes={form:o.a.object.isRequired,disableForm:o.a.bool.isRequired,onSeriesIdentificationChange:o.a.func.isRequired,fieldStatus:o.a.shape({fieldInvalid:o.a.bool,fieldName:o.a.string}).isRequired,submitted:o.a.bool.isRequired};var q=U,F=function(e){var t=e.form,n=e.disableForm,r=e.onSeriesIdentificationChange,a=e.fieldStatus,o=e.submitted,i=Object(u.o)().trans,l=s.a.createElement("div",{className:"subtitle"},i("How many stories are currently in the series?")),c=(a.fieldInvalid||"numberOfStoriesInSeries"!==a.fieldName&&""!==a.fieldName&&o)&&""===t.numberOfStoriesInSeries;return s.a.createElement(h,{title:"",subtitle:l},s.a.createElement(k,{validationRules:[P(i),I(f.MIN_STORIES,f.MAX_STORIES,i)]},(function(e){var a=e.ref,o=e.errorMessage,l=e.className;return s.a.createElement(s.a.Fragment,null,s.a.createElement("input",{ref:a,id:"current-number-of-stories-input",className:y()("form-element",l),name:"numberOfStoriesInSeries",value:t.numberOfStoriesInSeries,disabled:n,onChange:r,placeholder:i("Enter your number of stories"),type:"number"}),s.a.createElement(L,{errorMessage:o,fieldId:"current-number-of-stories"}),!o&&s.a.createElement(L,{fieldId:"current-number-of-stories",errorCondition:c}))})))};F.propTypes={form:o.a.object.isRequired,disableForm:o.a.bool.isRequired,onSeriesIdentificationChange:o.a.func.isRequired,fieldStatus:o.a.shape({fieldInvalid:o.a.bool,fieldName:o.a.string}).isRequired,submitted:o.a.bool.isRequired};var B=F,W=function(e){var t=e.form,n=e.disableForm,r=e.onSeriesIdentificationChange,a=e.fieldStatus,o=e.submitted,i=Object(u.o)().trans,l=s.a.createElement("div",{className:"subtitle"},i("How many stories are you planning for the series to have in total?")),c=t.numberOfStoriesInSeries>t.totalPlannedStoriesInSeries?i("The total number of stories should be equal or greater than the current number of stories."):"",d=(a.fieldInvalid||"totalPlannedStoriesInSeries"!==a.fieldName&&""!==a.fieldName&&o)&&""===t.totalPlannedStoriesInSeries;return s.a.createElement(h,{title:"",subtitle:l},s.a.createElement(k,{validationRules:[P(i),I(f.MIN_STORIES,f.MAX_STORIES,i)]},(function(e){var a=e.ref,o=e.errorMessage,l=e.className;return s.a.createElement(s.a.Fragment,null,s.a.createElement("input",{ref:a,id:"total-planned-stories-input",className:y()("form-element",l),name:"totalPlannedStoriesInSeries",value:t.totalPlannedStoriesInSeries,disabled:n,onChange:r,placeholder:i("Enter your number of stories"),type:"number"}),s.a.createElement(L,{fieldId:"total-planned-stories-input",errorCondition:d,errorMessage:o||c}))})))};W.propTypes={form:o.a.object.isRequired,disableForm:o.a.bool.isRequired,onSeriesIdentificationChange:o.a.func.isRequired,fieldStatus:o.a.shape({fieldInvalid:o.a.bool,fieldName:o.a.string}).isRequired,submitted:o.a.bool.isRequired};var H=W,V=function(e){var t=e.form,n=e.disableForm,r=e.onSeriesIdentificationChange,a=e.fieldStatus,o=e.submitted,i=Object(u.o)().trans,l=i("Series identification"),c=s.a.createElement("div",{className:"subtitle"},i("Is this story intended to be a part of a series?")),d=(a.fieldInvalid||"isSeries"!==a.fieldName&&""!==a.fieldName&&o)&&""===t.isSeries,m=""===t.isSeries?"":t.isSeries?"yes":"no";return"English"===t.language?s.a.createElement(s.a.Fragment,null,s.a.createElement(h,{title:l,subtitle:c},s.a.createElement(k,{validationRules:[P(i)]},(function(e){var t=e.ref,a=e.errorMessage,o=e.className;return s.a.createElement(s.a.Fragment,null,s.a.createElement("select",{id:"is-series-select",ref:t,value:m,name:"isSeries",disabled:n,className:y()("form-element",o),onChange:r,"aria-label":i("Select an option")},s.a.createElement("option",{value:"",disabled:!0},i("Select an option")),s.a.createElement("option",{key:"yes",value:"yes"},i("Yes")),s.a.createElement("option",{key:"no",value:"no"},i("No"))),s.a.createElement(L,{errorMessage:a,fieldId:"is-series"}),!a&&s.a.createElement(L,{fieldId:"is-series",errorCondition:d}))}))),t.isSeries&&s.a.createElement("div",{className:"series-identification"},s.a.createElement(D,{form:t,disableForm:n,onSeriesIdentificationChange:r,fieldStatus:a,submitted:o}),s.a.createElement(q,{form:t,disableForm:n,onSeriesIdentificationChange:r,fieldStatus:a,submitted:o}),s.a.createElement(B,{form:t,disableForm:n,onSeriesIdentificationChange:r,fieldStatus:a,submitted:o}),s.a.createElement(H,{form:t,disableForm:n,onSeriesIdentificationChange:r,fieldStatus:a,submitted:o}))):null};V.propTypes={form:o.a.object.isRequired,disableForm:o.a.bool.isRequired,onSeriesIdentificationChange:o.a.func.isRequired,fieldStatus:o.a.shape({fieldInvalid:o.a.bool,fieldName:o.a.string}).isRequired,submitted:o.a.bool.isRequired};var Y=V,G=function(e){var t,n=e.form,r=e.disableForm,a=e.onOtherMatureFieldTextChange,o=Object(u.o)().trans,i=o("Mature themes"),l=""===n.matureThemeOther?o("Specify other mature themes."):(null===(t=n.matureThemeOther)||void 0===t?void 0:t.length)>f.OTHER_MATURE_THEMES_CHARACTER_MAX?o("This field has to contain less than 100 characters."):"";return s.a.createElement(h,{title:i},s.a.createElement(k,{validationRules:[P(o),_(f.OTHER_MATURE_THEMES_CHARACTER_MAX,o)]},(function(e){var t=e.ref,i=e.className;return s.a.createElement(s.a.Fragment,null,s.a.createElement("textarea",{ref:t,className:y()("form-element",i),id:"other-themes-textarea",name:"matureThemeOther",value:n.matureThemeOther,placeholder:o("Enter your mature themes"),disabled:r,onChange:a}),s.a.createElement(L,{errorMessage:l,fieldId:"other-theme"}))})))};G.propTypes={form:o.a.object.isRequired,disableForm:o.a.bool.isRequired,onOtherMatureFieldTextChange:o.a.func.isRequired};var z=G,$=function(e){var t=e.form,n=e.disableForm,r=e.onFormChange,a=e.fieldStatus,o=e.submitted,i=Object(u.o)().trans,l=i("Story Maturity"),c=s.a.createElement("div",{className:"subtitle"},i('Select one of the story maturity ratings. Explicit refers to content that describes sexual activity in detail. "Inexplicit" refers to content that does not describe sexual activity in detail. Stories with any level of sexual content are eligible to win, as long as they abide by our content guidelines.')),d=(a.fieldInvalid||"storyMaturity"!==a.fieldName&&""!==a.fieldName&&o)&&""===t.storyMaturity;return s.a.createElement(h,{title:l,subtitle:c},s.a.createElement(k,{validationRules:[P(i)]},(function(e){var a=e.ref,o=e.errorMessage,l=e.className;return s.a.createElement(s.a.Fragment,null,s.a.createElement("select",{ref:a,id:"story-maturity-select",value:t.storyMaturity,name:"storyMaturity",disabled:n,className:y()("form-element story-maturity",l),onChange:r,"aria-label":i("Select a maturity level")},s.a.createElement("option",{value:"",disabled:!0},i("Select a maturity level")),Object(f.MAP_MATURITY_RATINGS)(i).map((function(e){return s.a.createElement("option",{key:e.key,value:e.key},e.value)}))),s.a.createElement(L,{errorMessage:o,errorCondition:d,fieldId:"story-maturity"}))})))};$.propTypes={form:o.a.object.isRequired,disableForm:o.a.bool.isRequired,onFormChange:o.a.func.isRequired,fieldStatus:o.a.shape({fieldInvalid:o.a.bool,fieldName:o.a.string}).isRequired,submitted:o.a.bool.isRequired};var K=$,Z=function(e){var t=e.form,n=e.disableForm,r=e.isFrenchForm,a=e.onMatureThemesChange,o=e.requiredMatureThemesError,i=e.fieldStatus,l=e.submitted,c=e.onOtherMatureFieldTextChange,m=e.onFormChange,p=Object(u.o)().trans,b=p("Mature themes"),y=s.a.createElement("div",{className:"subtitle"},p("Select the theme(s) that your story contains.")),g=o&&!n?p("You must pick at least 1"):"",v=!o&&(i.fieldInvalid||"matureThemes"!==i.fieldName&&""!==i.fieldName&&l)&&0===t.matureThemes.length;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h,{title:b,subtitle:y},s.a.createElement("div",{id:"mature-themes"},Object(f.MAP_MATURE_THEMES)(p,r).map((function(e){return s.a.createElement("div",{className:"checkbox-group",key:e.key},s.a.createElement(d.n,{name:e.key,disabled:n,onChange:a,contentId:"mature-themes-".concat(e.key),checked:t.matureThemes.includes(e.key)},e.value))}))),s.a.createElement(L,{errorMessage:g,errorCondition:v,fieldId:"mature-themes"}),t.matureThemes.includes("OTHER")&&s.a.createElement(z,{form:t,disableForm:n,onOtherMatureFieldTextChange:c})),t.matureThemes.includes("SEX")&&s.a.createElement(K,{form:t,disableForm:n,onFormChange:m,fieldStatus:i,submitted:l}))};Z.propTypes={form:o.a.object.isRequired,disableForm:o.a.bool.isRequired,isFrenchForm:o.a.bool.isRequired,onMatureThemesChange:o.a.func.isRequired,requiredMatureThemesError:o.a.bool.isRequired,fieldStatus:o.a.shape({fieldInvalid:o.a.bool,fieldName:o.a.string}).isRequired,submitted:o.a.bool.isRequired,onOtherMatureFieldTextChange:o.a.func.isRequired,onFormChange:o.a.func.isRequired};var X=Z,J=function(e){var t=e.form,n=e.disableForm,r=e.onFormChange,a=e.fieldStatus,o=e.submitted,i=Object(u.o)().trans,l=i("Log line"),c=s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"subtitle",dangerouslySetInnerHTML:{__html:i("Give us a one-sentence description of your story that conveys the dramatic narrative and hook. It should follow the below format:<br>[Character Name], [Character Description], has to [Action] in order to [Result].")}}),s.a.createElement("div",{className:"subtitle",dangerouslySetInnerHTML:{__html:i("Ex. “Cleopatra, <strong>a</strong> zombified ruler of Egypt, <strong>has to</strong> resist the temptation of eating Mark Antony, <strong>in order to</strong> not change the course of Egypt's future.”")}})),d=(a.fieldInvalid||"logLine"!==a.fieldName&&""!==a.fieldName&&o)&&""===t.logLine;return s.a.createElement(h,{title:l,subtitle:c},s.a.createElement(k,{validationRules:[P(i),_(f.LOGLINE_CHARACTER_MAX,i),R(f.LOGLINE_CHARACTER_MIN,i)]},(function(e){var a=e.ref,o=e.errorMessage,l=e.className;return s.a.createElement(s.a.Fragment,null,s.a.createElement("textarea",{ref:a,id:"logline-textarea",className:y()("form-element",l),name:"logLine",value:t.logLine,placeholder:i("Enter your logline"),disabled:n,onChange:r}),s.a.createElement(L,{errorCondition:d,errorMessage:o,fieldId:"logline"}))})))};J.propTypes={form:o.a.object.isRequired,disableForm:o.a.bool.isRequired,onFormChange:o.a.func.isRequired,fieldStatus:o.a.shape({fieldInvalid:o.a.bool,fieldName:o.a.string}).isRequired,submitted:o.a.bool.isRequired};var Q=J,ee=function(e){var t=e.form,n=e.disableForm,r=e.onFormChange,a=e.fieldStatus,o=e.submitted,i=Object(u.o)().trans,l=i("Plot Summary"),c=s.a.createElement("div",{className:"subtitle"},i("Your summary should be around 500 words, introduce the main character(s) and tell us everything that happens in the story."),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("strong",null,i("Who, what, where?")),s.a.createElement("br",null),i("Introduce us to your hero, the conflict, and the world. Tell us about your villain and the most important secondary characters."),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("strong",null,i("What happens next?")),s.a.createElement("br",null),i("Tell us all of the events of the story - this can be in point-form and does not have to describe the actions of each individual chapter."),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("strong",null,i("How does it end?")),s.a.createElement("br",null),i("Tell us how the story resolves and what happens to each of the central characters."),s.a.createElement("br",null),i("The entire summary should consist of the actions and decisions a character makes to get closer to their goal.")),d=(a.fieldInvalid||"plotSummary"!==a.fieldName&&""!==a.fieldName&&o)&&""===t.plotSummary;return s.a.createElement(h,{title:l,subtitle:c},s.a.createElement(k,{validationRules:[P(i),R(f.PLOT_SUMMARY_CHARACTER_MIN,i),_(f.PLOT_SUMMARY_CHARACTER_MAX,i)]},(function(e){var a=e.ref,o=e.errorMessage,l=e.className;return s.a.createElement(s.a.Fragment,null,s.a.createElement("textarea",{ref:a,id:"summary-textarea",className:y()("form-element",l),name:"plotSummary",value:t.plotSummary,disabled:n,onChange:r,placeholder:i("Enter your plot summary")}),s.a.createElement(L,{errorCondition:d,errorMessage:o,fieldId:"plot-summary"}))})))};ee.propTypes={form:o.a.object.isRequired,disableForm:o.a.bool.isRequired,onFormChange:o.a.func.isRequired,fieldStatus:o.a.shape({fieldInvalid:o.a.bool,fieldName:o.a.string}).isRequired,submitted:o.a.bool.isRequired};var te=ee,ne=function(e){var t=e.form,n=e.disableForm,r=e.onPreferredEmailChange,a=e.fieldStatus,o=e.submitted,i=e.hasSubmitted,l=e.emailConfirmField,c=e.setEmailConfirmField,d=Object(u.o)().trans,m=d("Email"),p=s.a.createElement("div",{className:"subtitle"},s.a.createElement("span",null,d("What is the best email address for us to contact you about your entry?")),s.a.createElement("span",null,s.a.createElement("strong",null," ",d("Ensure you enter an email address you check frequently to avoid missing email communications from our team.")))),b=(a.fieldInvalid||"writerEmail"!==a.fieldName&&""!==a.fieldName&&o)&&""===t.writerEmail,g=(a.fieldInvalid||o)&&""===l,v=t.writerEmail!==l?d("These two fields must match."):"";return s.a.createElement(h,{title:m,subtitle:p},s.a.createElement(s.a.Fragment,null,s.a.createElement(k,{validationRules:[P(d),_(f.EMAIL_CHARACTER_MAX,d),A(f.VALID_EMAIL_REGEX,d)]},(function(e){var a=e.ref,o=e.errorMessage,i=e.className;return s.a.createElement(s.a.Fragment,null,s.a.createElement("input",{type:"email",ref:a,id:"writer-email-input",className:y()("form-element",i,"half-width"),name:"writerEmail",value:t.writerEmail,placeholder:d("Email address"),disabled:n,onChange:r}),s.a.createElement(L,{errorCondition:b,errorMessage:o,fieldId:"writer-email"}))})),!i&&s.a.createElement("div",{className:"secondary-email"},s.a.createElement(k,{validationRules:[P(d),_(f.EMAIL_CHARACTER_MAX,d),A(f.VALID_EMAIL_REGEX,d)]},(function(e){var t=e.ref,r=e.errorMessage,a=e.className;return s.a.createElement(s.a.Fragment,null,s.a.createElement("input",{type:"email",ref:t,id:"confirm-email-input",className:y()("form-element",a,"half-width"),name:"email_confirm_field",value:l,placeholder:d("Confirm email address"),disabled:n,onChange:function(e){var t=e.target.value;return c(t)}}),s.a.createElement(L,{errorMessage:r,errorCondition:g,fieldId:"confirm-email"}),s.a.createElement(L,{errorMessage:v,fieldId:"matching-email"}))})))))};ne.propTypes={form:o.a.object.isRequired,disableForm:o.a.bool.isRequired,onPreferredEmailChange:o.a.func.isRequired,fieldStatus:o.a.shape({fieldInvalid:o.a.bool,fieldName:o.a.string}).isRequired,submitted:o.a.bool.isRequired,hasSubmitted:o.a.bool.isRequired,emailConfirmField:o.a.string,setEmailConfirmField:o.a.func};var re=ne,ae=function(e){var t=e.form,n=e.disableForm,r=e.onFormChange,a=e.fieldStatus,o=e.submitted,i=Object(u.o)().trans,l=i("Ongoing story length"),c=s.a.createElement("div",{className:"subtitle"},i("How long do you plan on making this story (if it is a series, then how long do you plan to make the entire series)?")),d=(a.fieldInvalid||"anticipatedStoryLength"!==a.fieldName&&""!==a.fieldName&&o)&&""===t.anticipatedStoryLength;return"ONGOING"===t.storyStatus?s.a.createElement(h,{title:l,subtitle:c},s.a.createElement(k,{validationRules:[P(i)]},(function(e){var a=e.ref,o=e.errorMessage,l=e.className;return s.a.createElement(s.a.Fragment,null,s.a.createElement("select",{id:"anticipated-story-length-select",ref:a,value:t.anticipatedStoryLength,name:"anticipatedStoryLength",disabled:n,className:y()("form-element",l),onChange:r,"aria-label":i("Select a length")},s.a.createElement("option",{value:"",disabled:!0},i("Select a length")),Object(f.MAP_ANTICIPATED_STORY_LENGTH)(i).map((function(e){return s.a.createElement("option",{key:e.key,value:e.key},e.value)}))),s.a.createElement(L,{errorMessage:o,fieldId:"anticipated-story-length"}),!o&&s.a.createElement(L,{fieldId:"anticipated-story-length",errorCondition:d}))}))):null};ae.propTypes={form:o.a.object.isRequired,disableForm:o.a.bool.isRequired,onFormChange:o.a.func.isRequired,fieldStatus:o.a.shape({fieldInvalid:o.a.bool,fieldName:o.a.string}).isRequired,submitted:o.a.bool.isRequired};var oe=ae,ie=function(e){var t,n=e.form,r=e.disableForm,a=e.fieldStatus,o=e.submitted,i=e.onCharacterRepresentationChange,l=e.onFormChange,c=e.identitiesLink,m=Object(u.o)().trans,p=m("Character representation"),b=s.a.createElement("div",{className:"subtitle"},s.a.createElement("div",{dangerouslySetInnerHTML:{__html:m('Are any of the <a href="%s" target="_blank" rel="noopener noreferrer">following identities</a> represented by the main character(s) in this story?',c)}}),s.a.createElement("br",null),m("This question is entirely optional and does not impact your ability to win a Watty. We are always looking for stories with great representation — answering these questions will help us better identify stories with great representation for future opportunities outside The Watty Awards. Please only answer based on the identities of the main characters in your story. We do not collect information about writer identity.")),y=m("This field has to contain less than 100 characters."),g=(a.fieldInvalid||"diversity"!==a.fieldName&&""!==a.fieldName&&o)&&0===n.diversity.length;return s.a.createElement(h,{title:p,subtitle:b},s.a.createElement("div",{id:"character-representation"},Object(f.MAP_CHARACTER_REPRESENTATION_IDENTITIES)(m).map((function(e){return s.a.createElement("div",{className:"checkbox-group",key:e.key},s.a.createElement(d.n,{name:e.key,disabled:r,onChange:i,contentId:"character-representation-".concat(e.key),checked:n.diversity.includes(e.key)},e.value))})),s.a.createElement(L,{fieldId:"diversity",errorCondition:g})),n.diversity.includes("OTHER")&&s.a.createElement(s.a.Fragment,null,s.a.createElement("textarea",{className:"form-element",id:"other-character-representation-textarea",name:"diversityOther",value:n.diversityOther,placeholder:m("You can add more details here"),disabled:r,onChange:l}),s.a.createElement(L,{fieldId:"diversity-other",errorCondition:""===n.diversityOther}),(null===(t=n.diversityOther)||void 0===t?void 0:t.length)>f.OTHER_IDENTITIES_CHARACTER_MAX&&s.a.createElement(L,{fieldId:"diversity-other",errorMessage:y})))};ie.propTypes={form:o.a.object.isRequired,disableForm:o.a.bool.isRequired,fieldStatus:o.a.shape({fieldInvalid:o.a.bool,fieldName:o.a.string}).isRequired,submitted:o.a.bool.isRequired,onCharacterRepresentationChange:o.a.func.isRequired,onFormChange:o.a.func.isRequired,storyLanguage:o.a.string,identitiesLink:o.a.string.isRequired};var se=ie,le=function(e){var t=e.form,n=e.disableForm,r=e.onFormChange,a=e.fieldStatus,o=e.submitted,i=Object(u.o)().trans,l=i("Story type"),c=s.a.createElement("div",{className:"subtitle"},i("Please indicate if your story is Adult Fiction or Teen Fiction. Adult Fiction is a story geared toward an adult audience, Teen Fiction is a story geared toward a teen audience.")),d=(a.fieldInvalid||"storyType"!==a.fieldName&&""!==a.fieldName&&o)&&""===t.storyType;return s.a.createElement(h,{title:l,subtitle:c},s.a.createElement(k,{validationRules:[P(i)]},(function(e){var a=e.ref,o=e.errorMessage,l=e.className;return s.a.createElement(s.a.Fragment,null,s.a.createElement("select",{id:"story-type-select",ref:a,value:t.storyType,name:"storyType",disabled:n,className:y()("form-element",l),onChange:r,"aria-label":i("Select an option")},s.a.createElement("option",{value:"",disabled:!0},i("Select an option")),Object(f.MAP_STORY_TYPES)(i).map((function(e){return s.a.createElement("option",{key:e.key,value:e.key},e.value)}))),s.a.createElement(L,{errorMessage:o,fieldId:"story-type"}),!o&&s.a.createElement(L,{fieldId:"story-type",errorCondition:d}))})))};le.propTypes={form:o.a.object.isRequired,disableForm:o.a.bool.isRequired,onFormChange:o.a.func.isRequired,fieldStatus:o.a.shape({fieldInvalid:o.a.bool,fieldName:o.a.string}).isRequired,submitted:o.a.bool.isRequired};var ce=le,ue=function(e){var t=e.form,n=e.disableForm,r=e.onFormChange,a=e.fieldStatus,o=e.submitted,i=e.genreLink,l=e.storyLanguage,c=Object(u.o)().trans,d=c("Primary genre identification"),m=s.a.createElement("div",{className:"subtitle"},s.a.createElement("div",{dangerouslySetInnerHTML:{__html:c('Select the <a href="%s" target="_blank" rel="noopener noreferrer">genre</a> you feel best describes your story. Genre declaration helps us learn more about your story and will not influence winner selection. If you believe your story contains multiple genres, please select your primary choice here and select subsequent genres in the following question.',i)}})),p=(a.fieldInvalid||"genrePrimary"!==a.fieldName&&""!==a.fieldName&&o)&&""===t.genrePrimary,b="English"===l&&1===parseInt(app.get("language"),10)?f.MAP_WATTYS_GENRES:f.MAP_WATTYS_GENRES_NON_ENGLISH;return s.a.createElement(h,{title:d,subtitle:m},s.a.createElement(k,{validationRules:[P(c)]},(function(e){var a=e.ref,o=e.errorMessage,i=e.className;return s.a.createElement(s.a.Fragment,null,s.a.createElement("select",{ref:a,id:"primary-genre-identification-select",value:t.genrePrimary,name:"genrePrimary",disabled:n,className:y()("form-element",i),onChange:r,"aria-label":c("Select a category")},s.a.createElement("option",{value:"",disabled:!0},c("Select an option")),b(c).map((function(e){return s.a.createElement("option",{key:e.key,value:e.key},e.value)}))),s.a.createElement(L,{errorMessage:o,fieldId:"primary-genre-identification"}),!o&&s.a.createElement(L,{fieldId:"primary-genre-identification",errorCondition:p}))})))};ue.propTypes={form:o.a.object.isRequired,disableForm:o.a.bool.isRequired,onFormChange:o.a.func.isRequired,fieldStatus:o.a.shape({fieldInvalid:o.a.bool,fieldName:o.a.string}).isRequired,submitted:o.a.bool.isRequired,genreLink:o.a.string.isRequired,storyLanguage:o.a.string};var de=ue,me=function(e){var t,n=e.form,r=e.disableForm,a=e.onSubsequentGenreChange,o=e.storyLanguage,i=Object(u.o)().trans,l=i("Subsequent genre identification"),c=s.a.createElement("div",{className:"subtitle"},i("Are there any other genres, in addition to your primary choice, your story fits into? You may select up to three additional genres. This question is not required.")),m=(null===(t=n.genreOthers)||void 0===t?void 0:t.length)>=3,p="English"===o&&1===parseInt(app.get("language"),10)?f.MAP_WATTYS_GENRES:f.MAP_WATTYS_GENRES_NON_ENGLISH;return n.genrePrimary?s.a.createElement(h,{title:l,subtitle:c},s.a.createElement("div",{id:"genre-others"},p(i).filter((function(e){return e.key!==n.genrePrimary})).map((function(e){return s.a.createElement("div",{className:"checkbox-group",key:e.key},s.a.createElement(d.n,{name:e.key,disabled:r||m&&!n.genreOthers.includes(e.key),onChange:a,contentId:"genre-others-".concat(e.key),checked:n.genreOthers.includes(e.key)},e.value))})))):null};me.propTypes={form:o.a.object.isRequired,disableForm:o.a.bool.isRequired,onSubsequentGenreChange:o.a.func.isRequired,storyLanguage:o.a.string};var fe=me,pe=function(e){var t=e.form,n=e.disableForm,r=e.onRadioBtnChange,a=e.fieldStatus,o=e.submitted,i=e.isStandalonePage,l=e.hasSubmitted,c=e.formIsOpen,m=e.onSubmit,p=e.rulesLink,b=Object(u.o)().trans,y=b("Final consent"),g=s.a.createElement("div",{dangerouslySetInnerHTML:{__html:b('I confirm that I’ve read, understood, and agree to the <a class="bold" target="_blank" rel="noopener noreferrer" href="%s">Contest Rules and Regulations</a> and Wattpad’s Policies.',p)}}),h=s.a.createElement("div",{className:"subtitle",dangerouslySetInnerHTML:{__html:b("Ready to hit submit? Please note that <strong>once you’ve submitted your story, you will be unable to resubmit</strong> - make sure your story is Wattys ready. All information collected on this form will be kept confidential and is for internal purposes only.")}}),v=(a.fieldInvalid||"finalConsent"!==a.fieldName&&""!==a.fieldName&&o)&&!t.finalConsent;return s.a.createElement("div",{className:"final-consent-container"},s.a.createElement("div",{className:"final-consent-title-container"},s.a.createElement("h4",null,y)),s.a.createElement("div",{className:"checkbox-group",id:"final-consent-checkbox"},s.a.createElement(d.n,{disabled:n,name:"finalConsent",onChange:r,checked:t.finalConsent,contentId:"consent-checkbox-message"},g)),s.a.createElement(L,{errorCondition:v,fieldId:"final-consent"}),s.a.createElement("div",{className:"subtitle-small"},h),i&&l?null:s.a.createElement("div",{className:"btn-container"},!l&&c&&s.a.createElement("button",{type:"button",onClick:m,className:"btn btn-primary submit-btn"},b("Enter The %s Wattys!",f.CURRENT_WATTYS_YEAR))))};pe.propTypes={form:o.a.object.isRequired,disableForm:o.a.bool.isRequired,onRadioBtnChange:o.a.func.isRequired,fieldStatus:o.a.shape({fieldInvalid:o.a.bool,fieldName:o.a.string}).isRequired,submitted:o.a.bool.isRequired,isStandalonePage:o.a.bool.isRequired,hasSubmitted:o.a.bool.isRequired,formIsOpen:o.a.bool.isRequired,onSubmit:o.a.func.isRequired,rulesLink:o.a.string.isRequired};var be=pe,ye=function(e){var t=e.form,n=e.disableForm,r=e.onRadioBtnChange,a=e.fieldStatus,o=e.submitted,i=Object(u.o)().trans,l=i("Legal consent"),c=s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"subtitle"},i("I confirm the following: "),s.a.createElement("br",null),i("I am not an employee, representative or agent of Wattpad, its parent companies, subsidiaries, affiliates, associated companies, or advertising agencies and I am not an immediate family member of or domiciled with any of the above;"),s.a.createElement("br",null),s.a.createElement("br",null),i("I am at least 13 years old and, if I am under 18, I have my parent/legal guardian’s permission to enter the Wattys."),s.a.createElement("br",null),s.a.createElement("br",null),i("My story was written by me and all materials and information in the story are original to me and do not violate anyone’s copyright, trademark, intellectual property, or other rights."))),m=(a.fieldInvalid||"legalConsent"!==a.fieldName&&""!==a.fieldName&&o)&&!t.legalConsent;return s.a.createElement("div",{className:"legal-consent-container"},s.a.createElement("div",{className:"legal-consent-title-container"},s.a.createElement("h4",null,l)),s.a.createElement("div",{className:"checkbox-group",id:"legal-consent-checkbox"},s.a.createElement(d.n,{disabled:n,name:"legalConsent",onChange:r,checked:t.legalConsent,contentId:"legal-consent-checkbox-message"},c)),s.a.createElement(L,{errorCondition:m,fieldId:"legal-consent"}))};ye.propTypes={form:o.a.object.isRequired,disableForm:o.a.bool.isRequired,onRadioBtnChange:o.a.func.isRequired,fieldStatus:o.a.shape({fieldInvalid:o.a.bool,fieldName:o.a.string}).isRequired,submitted:o.a.bool.isRequired};var ge=ye;function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){Ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e){return function(e){if(Array.isArray(e))return Ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||Se(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){if(e){if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ce(e,t):void 0}}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var je=!1;function Ne(e){var t=e.submitForm,n=e.closeModal,r=e.isStandalonePage,a=e.storyId,o=e.setContestForm,l=e.formState,c=e.formIsOpen,p=l.data,b=l.hasSubmitted,g=l.isLoading,h=b||g||!c,v=Oe(Object(i.useState)(p),2),w=v[0],S=v[1],C=Oe(Object(i.useState)(""),2),j=C[0],N=C[1],k=Oe(Object(i.useState)(""),2),P=k[0],_=k[1],R=Oe(Object(i.useState)(""),2),I=R[0],A=R[1],x=Oe(Object(i.useState)(""),2),L=x[0],M=x[1],D=Oe(Object(i.useState)(!1),2),U=D[0],q=D[1],F=Oe(Object(i.useState)({fieldName:"",fieldInvalid:!1}),2),B=F[0],W=F[1],H=Oe(Object(i.useState)(!1),2),V=H[0],G=H[1];Object(i.useEffect)((function(){S(p);var e=parseInt(app.get("language"),10),t=f.MAP_WATTYS_ELIGIBILITY_TO_LINKS[e]||f.DEFAULT_ELIGIBILITY_LINK;_(t);var n=f.MAP_WATTYS_GENRE_LINKS[e]||f.DEFAULT_GENRE_LINK;A(n);var r=f.MAP_IDENTITIES_LINK[e]||f.DEFAULT_IDENTITIES_LINK;M(r),2===e&&q(!0)}),[p]);var z=Object(u.o)().trans;var $=Object(i.useCallback)((function(e){var t,n=e.target,r=n.name,a=n.checked;W({fieldName:"matureThemes",fieldInvalid:!1}),a?w.matureThemes.includes("NONE")?(t=w.matureThemes.filter((function(e){return"NONE"!==e})),t=[].concat(we(t),[r])):t="NONE"===r?["NONE"]:[].concat(we(w.matureThemes),[r]):t=w.matureThemes.filter((function(e){return e!==r})),G(0===t.length),S(ve(ve({},w),{},"OTHER"===r||"NONE"===r&&!0===a?{matureThemes:t,matureThemeOther:""}:{matureThemes:t}))}),[w]);var K=function(e){var t=e.target,n=t.name,r=0!==t.value;"finalConsent"!=n&&"legalConsent"!=n||(r=e.target.checked),S(ve(ve({},w),{},Ee({},n,r)))};function Z(e){var t,n=e.target,r=n.name,a=n.value;"genrePrimary"===r?S(ve(ve({},w),{},(Ee(t={},r,a),Ee(t,"genreOthers",[]),t))):(W({fieldName:r,fieldInvalid:!1}),S(ve(ve({},w),{},Ee({},r,a))))}return g&&b?s.a.createElement("div",{className:"loading-spinner"},s.a.createElement(d.h,null)):s.a.createElement("div",{id:"contest-form"},s.a.createElement("form",null,s.a.createElement("div",{className:y()("overflow-container",{disabled:g})},s.a.createElement(m,{subtitle:z("Thank you for your interest in The %s Watty Awards. In order to be considered for this year's awards, complete the following submission form.",f.CURRENT_WATTYS_YEAR),closeModal:n,isStandalonePage:r}),s.a.createElement("div",{className:"form-deadline"},s.a.createElement("div",{className:"deadline-text",dangerouslySetInnerHTML:{__html:z('Submissions close August 6th, 2024 at 11:59:59 PM EDT. For full eligibility criteria, refer to the <a class=\'watty-regulation-link\' href=%s target="_blank" rel="noopener noreferrer">Rules and Regulations</a>.',f.RULES_LINK)}})),s.a.createElement("div",{className:"form-content"},!c&&s.a.createElement("div",{className:"form-message-box",dangerouslySetInnerHTML:{__html:z("The %s Watty Awards are now closed. Thanks for your participation!",f.CURRENT_WATTYS_YEAR)}}),b&&s.a.createElement("div",{className:"form-message-box",dangerouslySetInnerHTML:{__html:z("You are viewing your submission in The %s Watty Awards. Changes cannot be made.",f.CURRENT_WATTYS_YEAR)}}),!b&&c&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"eligbility-requirements-title",id:"eligbility-requirements-title",dangerouslySetInnerHTML:{__html:z('Please confirm that you meet the <a href=%s target="_blank" rel="noopener noreferrer">eligibility requirements</a>. Stories that do not meet the eligibility requirements will be disqualified.',P)}}),s.a.createElement("div",{className:"form-title",id:"form-title",dangerouslySetInnerHTML:{__html:z("We need a few more details about the story you are entering:<br><span class='bold'>“%s”</span>",l.title)}})),s.a.createElement(E,{form:w,storyId:a}),s.a.createElement(O,{form:w,storyId:a}),s.a.createElement(Y,{form:w,disableForm:h,onSeriesIdentificationChange:function(e){var t=e.target,n=t.name,r=t.value;if(W({fieldName:n,fieldInvalid:!1}),"isSeries"===n||"isSeriesStandalone"===n)S(ve(ve({},w),{},Ee({},n,"yes"===r)));else if("numberOfStoriesInSeries"===n||"totalPlannedStoriesInSeries"===n){var a=isNaN(e.target.valueAsNumber)?"":e.target.valueAsNumber;S(ve(ve({},w),{},Ee({},n,a)))}else S(ve(ve({},w),{},Ee({},n,r)))},fieldStatus:B,submitted:je}),s.a.createElement(oe,{form:w,disableForm:h,onFormChange:Z,fieldStatus:B,submitted:je}),s.a.createElement(se,{form:w,disableForm:h,fieldStatus:B,submitted:je,onCharacterRepresentationChange:function(e){var t,n=e.target,r=n.name,a=n.checked;W({fieldName:r,fieldInvalid:!1}),a?w.diversity.includes("NONE")?(t=w.diversity.filter((function(e){return"NONE"!==e})),t=[].concat(we(t),[r])):t="NONE"===r?["NONE"]:[].concat(we(w.diversity),[r]):t=w.diversity.filter((function(e){return e!==r})),S(ve(ve({},w),{},"OTHER"===r||"NONE"===r&&!0===a?{diversity:t,diversityOther:""}:{diversity:t}))},onFormChange:Z,identitiesLink:L}),s.a.createElement(ce,{form:w,disableForm:h,onFormChange:Z,fieldStatus:B,submitted:je}),s.a.createElement(de,{form:w,disableForm:h,onFormChange:Z,fieldStatus:B,submitted:je,genreLink:I,storyLanguage:w.language}),s.a.createElement(fe,{form:w,disableForm:h,onSubsequentGenreChange:function(e){var t,n=e.target,r=n.name,a=n.checked;W({fieldName:r,fieldInvalid:!1}),t=a?[].concat(we(w.genreOthers),[r]):w.genreOthers.filter((function(e){return e!==r})),S(ve(ve({},w),{},{genreOthers:t}))},storyLanguage:w.language}),s.a.createElement(X,{form:w,disableForm:h,isFrenchForm:U,onMatureThemesChange:$,requiredMatureThemesError:V,fieldStatus:B,submitted:je,onOtherMatureFieldTextChange:function(e){var t=e.target,n=t.name,r=t.value;W({fieldName:n,fieldInvalid:!1}),S(ve(ve({},w),{},{matureThemeOther:r}))},onFormChange:Z}),s.a.createElement(Q,{form:w,disableForm:h,onFormChange:Z,fieldStatus:B,submitted:je}),s.a.createElement(te,{form:w,disableForm:h,onFormChange:Z,fieldStatus:B,submitted:je}),s.a.createElement(re,{form:w,disableForm:h,onPreferredEmailChange:Z,fieldStatus:B,submitted:je,hasSubmitted:b,emailConfirmField:j,setEmailConfirmField:N}),s.a.createElement(ge,{form:w,disableForm:h,onRadioBtnChange:K,fieldStatus:B,submitted:je})),s.a.createElement("div",{className:"footer-section-submission"},s.a.createElement("div",{className:"left-padding"}),s.a.createElement(be,{form:w,disableForm:h,onRadioBtnChange:K,fieldStatus:B,submitted:je,isStandalonePage:r,hasSubmitted:b,formIsOpen:c,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),je=!0,function(e){return 0===e.matureThemes.length||e.matureThemes.includes("OTHER")&&""===e.matureThemeOther||e.matureThemes.includes("SEX")&&""===e.storyMaturity||""===e.plotSummary||""===e.logLine||""===e.writerEmail||null===e.writerEmail.match(f.VALID_EMAIL_REGEX)||""===j||null===j.match(f.VALID_EMAIL_REGEX)||j!==e.writerEmail||!e.legalConsent||!e.finalConsent||""===e.storyType||""===e.genrePrimary||e.genreOthers.length>3||e.diversity.includes("OTHER")&&""===e.diversityOther||"English"===e.language&&(""===e.isSeries||e.isSeries&&(""===e.seriesType||""===e.isSeriesStandalone||""===e.numberOfStoriesInSeries||""===e.totalPlannedStoriesInSeries||e.numberOfStoriesInSeries>e.totalPlannedStoriesInSeries))||"ONGOING"===e.storyStatus&&""===e.anticipatedStoryLength}(w)&&W({fieldInvalid:!0});var n=function(e,t){var n={storyId:e,storyType:t.storyType,genrePrimary:t.genrePrimary,genreOthers:t.genreOthers,matureThemes:t.matureThemes,logLine:t.logLine,plotSummary:t.plotSummary,writerEmail:t.writerEmail,finalConsent:t.finalConsent,legalConsent:t.legalConsent};return t.matureThemes.includes("SEX")&&(n.storyMaturity=t.storyMaturity),t.matureThemes.includes("OTHER")&&(n.matureThemeOther=t.matureThemeOther),"ONGOING"===t.storyStatus&&(n.anticipatedStoryLength=t.anticipatedStoryLength),"English"===t.language&&(n.isSeries=t.isSeries,t.isSeries&&(n.seriesType=t.seriesType,n.isSeriesStandalone=t.isSeriesStandalone,n.numberOfStoriesInSeries=t.numberOfStoriesInSeries,n.totalPlannedStoriesInSeries=t.totalPlannedStoriesInSeries)),n.diversity=t.diversity,t.diversity.includes("OTHER")&&(n.diversityOther=t.diversityOther),n}(parseInt(a),w),r=""!==w.numberOfStoriesInSeries&&"number"==typeof w.numberOfStoriesInSeries&&Number.isInteger(w.numberOfStoriesInSeries)&&w.numberOfStoriesInSeries>=f.MIN_STORIES&&w.numberOfStoriesInSeries<=f.MAX_STORIES,i=""!==w.totalPlannedStoriesInSeries&&"number"==typeof w.totalPlannedStoriesInSeries&&Number.isInteger(w.totalPlannedStoriesInSeries)&&w.totalPlannedStoriesInSeries>=f.MIN_STORIES&&w.totalPlannedStoriesInSeries<=f.MAX_STORIES,s=!w.diversity.includes("OTHER")||""!==w.diversityOther,l="English"!==w.language||""!==w.isSeries&&(!w.isSeries||w.isSeries&&""!==w.seriesType&&""!==w.isSeriesStandalone&&r&&i&&w.numberOfStoriesInSeries<=w.totalPlannedStoriesInSeries);!h&&w.logLine&&T(w.logLine)<=f.LOGLINE_CHARACTER_MAX&&T(w.logLine)>=f.LOGLINE_CHARACTER_MIN&&(!w.matureThemes.includes("SEX")||w.storyMaturity)&&w.plotSummary&&T(w.plotSummary)>=f.PLOT_SUMMARY_CHARACTER_MIN&&T(w.plotSummary)<=f.PLOT_SUMMARY_CHARACTER_MAX&&w.writerEmail&&T(w.writerEmail)<=f.EMAIL_CHARACTER_MAX&&null!==w.writerEmail.match(f.VALID_EMAIL_REGEX)&&j&&T(j)<=f.EMAIL_CHARACTER_MAX&&null!==j.match(f.VALID_EMAIL_REGEX)&&w.writerEmail===j&&0!==w.matureThemes.length&&!V&&(!w.matureThemes.includes("OTHER")||""!==w.matureThemeOther)&&T(w.matureThemeOther)<=f.OTHER_MATURE_THEMES_CHARACTER_MAX&&w.finalConsent&&w.legalConsent&&w.storyType&&w.genrePrimary&&w.genreOthers.length<=3&&s&&("COMPLETE"===w.storyStatus||"ONGOING"===w.storyStatus&&""!==w.anticipatedStoryLength)&&l&&o(a,n).then((function(e){t(e)}))},rulesLink:f.RULES_LINK}),s.a.createElement("div",{className:"left-padding"})))))}function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Ne.propTypes={submitForm:o.a.func.isRequired,closeModal:o.a.func.isRequired,isStandalonePage:o.a.bool.isRequired,fetchContestForm:o.a.func,setContestForm:o.a.func,storyId:o.a.string,formIsOpen:o.a.bool,formState:o.a.shape({isLoading:o.a.bool.isRequired,hasSubmitted:o.a.bool.isRequired,cover:o.a.string.isRequired,user:o.a.string.isRequired,title:o.a.string,data:o.a.shape({storyId:o.a.number,contest:o.a.string,language:o.a.string.isRequired,storyStatus:o.a.string,isSeries:o.a.oneOfType([o.a.bool,o.a.string]),seriesType:o.a.string,isSeriesStandalone:o.a.oneOfType([o.a.bool,o.a.string]),numberOfStoriesInSeries:o.a.oneOfType([o.a.number,o.a.string]),totalPlannedStoriesInSeries:o.a.oneOfType([o.a.number,o.a.string]),anticipatedStoryLength:o.a.string,diversity:o.a.arrayOf(o.a.string).isRequired,diversityOther:o.a.string,storyType:o.a.string.isRequired,genrePrimary:o.a.string.isRequired,genreOthers:o.a.arrayOf(o.a.string),matureThemes:o.a.arrayOf(o.a.string).isRequired,matureThemeOther:o.a.string,storyMaturity:o.a.string,logLine:o.a.string.isRequired,plotSummary:o.a.string.isRequired,legalConsent:o.a.bool.isRequired,writerEmail:o.a.string,finalConsent:o.a.bool})})},Ne.defaultProps={formIsOpen:(new Date).getTime()<f.WATTYS_CLOSING_DATETIME};var Ie=function(e){var t=e.success,n=e.isStandalonePage,r=e.closeModal,a=e.storyId,o=e.formState,l=e.fetchContestForm,c=e.setContestForm,u=_e(Object(i.useState)("form"),2),d=u[0],m=u[1];return Object(i.useEffect)((function(){a&&l(a)}),[a,l]),"success"===d||t?s.a.createElement(p,{isStandalonePage:n,formState:o,closeModal:r}):s.a.createElement(Ne,{storyId:a,closeModal:r,formState:o,setContestForm:c,isStandalonePage:n,submitForm:function(e){n?window.location.href="/contests/".concat(window.wattpad.wattysActiveKey,"?storyId=").concat(a,"&success=true&hasAddedWattysTag=").concat(e):m("success")}})};Ie.defaultProps={success:!1,isStandalonePage:!1,closeModal:function(){},storyId:""},Ie.propTypes={formState:o.a.object,fetchContestForm:o.a.func,setContestForm:o.a.func,closeModal:o.a.func,success:o.a.bool,hasAddedWattysTag:o.a.bool,isStandalonePage:o.a.bool,storyId:o.a.string};var Ae=Object(r.b)((function(e){return{formState:Te({},e.contestForm)}}),{fetchContestForm:l.b,setContestForm:l.e})(Ie)},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s);function c(e){return a.a.createElement("div",{className:l()("ds ds-one-col-page",e.variant)},a.a.createElement("div",{className:"column"},e.children))}c.propTypes={children:i.a.node,variant:i.a.string},c.defaultProps={variant:""}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(3);function c(e){var t=e.featureStr;return a.a.createElement("div",{className:"check-and-feature"},a.a.createElement(l.g,{iconName:"fa-check",height:"22",className:"check-icon"}),a.a.createElement("p",null,a.a.createElement("strong",null,t.split(" ")[0])," "+t.substring(t.indexOf(" ")+1)))}c.propTypes={featureStr:i.a.string},t.a=function(){var e=Object(s.o)().trans;return a.a.createElement("div",{className:"checked-features"},a.a.createElement(c,{featureStr:e("Vote on stories that you like")}),a.a.createElement(c,{featureStr:e("Comment on stories and profiles")}),a.a.createElement(c,{featureStr:e("Update your profile")}),a.a.createElement(c,{featureStr:e("Create your stories, and more")}))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(3),i=n(2);t.a=function(){var e=Object(i.o)().trans;return a.a.createElement("div",{className:"promoted-indicator"},a.a.createElement(o.g,{name:"promoted",className:"promoted-icon",size:"25",color:"wp-base-1",boxX:"-5",boxY:"-5"}),a.a.createElement("p",null,e("Promoted")))}},function(e,t,n){"use strict";var r=n(83),a=n(1),o=n.n(a),i=n(0),s=n.n(i),l=n(3),c=n(173),u=n(82),d=n.n(u),m=n(5),f=n(2),p=n(35),b=n(81);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=function(e){var t=e.heading,n=e.index,r=e.isCompleted,a=e.numParts,o=e.offset,i=e.page,c=e.sectionType,u=e.sources,d=e.subheading,p=e.storyId,y=e.fromStoryDetails,g=e.isMature,h=void 0!==g&&g,v=Object(f.o)().trans;return s.a.createElement("div",{className:"story-metadata"},s.a.createElement("div",{className:"meta-header"},s.a.createElement("div",{className:"title-and-badge"},s.a.createElement("div",{className:"story-title"},s.a.createElement("h3",null,t))),s.a.createElement(b.a,{numParts:a,isMature:h,isCompleted:r})),s.a.createElement("div",{className:"story-description","aria-hidden":"true"},s.a.createElement("h4",null,Object(m.x)(d,200,!1))),s.a.createElement("div",{className:"more-details-wrapper"},s.a.createElement("button",{className:"more-details",onClick:function(){y?window.te.push("event","story",null,null,"click",{storyid:p,page:"story_details",type:"similar_stories",source:"story_details"}):window.te.push("event","story",null,null,"click",{storyid:p,page:i,algo_source:u,position:n,offset:o,type:c}),app.router.navigate("/story/".concat(p),{trigger:!0})}},v("More details")),s.a.createElement("div",{className:"arrow-icon"},s.a.createElement(l.g,{name:"chevRight",size:"18"}))))};w.propTypes={heading:o.a.string.isRequired,index:o.a.number,isCompleted:o.a.bool,isMature:o.a.bool,numParts:o.a.number,offset:o.a.number,page:o.a.string,sectionType:o.a.string.isRequired,sources:o.a.array,storyId:o.a.number.isRequired,subheading:o.a.string,fromStoryDetails:o.a.bool};var O=function(e){var t=e.index,n=e.onStoryClick,a=e.page,o=e.sectionType,u=e.stories,m=e.storiesToShow,f=void 0===m?5:m,b=e.storyWidth,v=void 0===b?88:b,E=e.wasSeen,O=e.windowWidth,S=e.callTrackingUrls,C=e.clickTrackingUrls,j=e.userLang,N=e.fromStoryDetails,k=!1,T=O<575,P=O<=360;O<=980&&(f=2.5,k=!0,T&&(f=3.5,Object(p.a)(2.5)?v=Math.floor(35):Object(p.a)(1.5)&&(v=Math.floor(52.5))),P&&(f=3));var _=d()(j),R=h(Object(i.useState)([]),2),I=R[0],A=R[1],x=h(Object(i.useState)(0),2),L=x[0],M=x[1],D=h(Object(i.useState)(0),2),U=D[0],q=D[1];Object(i.useEffect)((function(){if(E){var e=Math.min(Math.round(f),u.length);u.slice(0,e).map((function(e,n){N?window.te.push("event","story",null,null,"view",{storyid:e.id,page:"story_details",type:"similar_stories",source:"story_details"}):F(e.id,e.sources,t,n,o)})),A([].concat(g(I),g(u.slice(0,e).map((function(e,t){return t})))))}}),[E]);var F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;window.te.push("event","story",null,null,"view",{storyid:e,page:a,algo_source:t,position:n,offset:r,type:o})},B=function(e){q(e)};return null!==u&&0!==u.length?s.a.createElement("div",{className:"story-expanded-carousel"},s.a.createElement("div",_?{dir:"ltr",className:"carousel-container rtl-adjust"}:{className:"carousel-container"},s.a.createElement(r.a,{dragging:!1,afterSlide:function(e){if(M(e),E){var n=Math.min(e+Math.round(f),u.length);u.slice(e,n).map((function(n,r){I.includes(e+r)||(N?window.te.push("event","story",null,null,"view",{storyid:n.id,page:"story_details",type:"similar_stories",source:"story_details"}):F(n.id,n.sources,t,e+r,o))})),A([].concat(g(I),g(u.slice(e,n).map((function(t,n){return e+n})))))}},enableKeyboardControls:!0,slideIndex:U,frameOverflow:k?"visible":"hidden",scrollMode:"page",slidesToScroll:T?1:f,heightMode:"max",cellAlign:"left",wrapAround:!!T||_,slidesToShow:f,initialHeight:"1",renderCenterRightControls:5===f&&u.length>5?function(e){return function(e,t,n){return e!==n-f||_?s.a.createElement("button",{className:"next-btn",onClick:t},s.a.createElement(l.g,{name:"arrowCircleRight",size:"40",alt:"next",strokeWidth:"2.25"})):null}(e.currentSlide,e.nextSlide,e.slideCount)}:null,renderCenterLeftControls:5===f&&u.length>5?function(e){return function(e,t){return 0!==e||_?s.a.createElement("button",{className:"prev-btn",onClick:t},s.a.createElement(l.g,{name:"arrowCircleLeft",size:"40",alt:"previous",strokeWidth:"2.25"})):null}(e.currentSlide,e.previousSlide)}:null,renderBottomCenterControls:null},u.map((function(e,r){if(e.id&&e.cover)return r===L?s.a.createElement("div",{key:"".concat(e.id,"-").concat(r),className:"zoom-story-item"},s.a.createElement(c.a,y({},e,{sectionType:o,index:t,offset:r,width:v,shiftCarousel:function(){return B(r)},page:a,onStoryClick:n,storyData:e,clickTrackingUrls:C,callTrackingUrls:S,isActiveStory:!0}))):s.a.createElement(c.a,y({},e,{sectionType:o,index:t,offset:r,width:v,key:"".concat(e.id,"-").concat(r),page:a,shiftCarousel:function(){return B(r)},onStoryClick:n,storyData:e,clickTrackingUrls:C,callTrackingUrls:S}))}))),u.map((function(e,n){if(e.id&&e.cover&&n===L)return s.a.createElement(w,{heading:e.title,subheading:e.description,key:e.id,sectionType:o,page:a,index:t,offset:n,storyId:e.id,isPaid:e.isPaid||e.isPaywalled,numParts:e.numParts,isCompleted:e.completed,isMature:e.mature,sources:e.sources,fromStoryDetails:N})})))):null};O.defaultProps={onStoryClick:null},O.propTypes={index:o.a.number,onStoryClick:o.a.func,page:o.a.string,sectionType:o.a.string.isRequired,stories:o.a.array.isRequired,storiesToShow:o.a.number,storyWidth:o.a.number,wasSeen:o.a.bool,windowWidth:o.a.number,callTrackingUrls:o.a.func,clickTrackingUrls:o.a.array,userLang:o.a.number,fromStoryDetails:o.a.bool},t.a=O},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(5),c=function(e){var t=e.username,n=e.avatar,r=void 0===n?"/img/avatar/empty.png":n,o=e.authorCharLimit,i=void 0===o?0:o,c=e.shouldLinkify,u=void 0!==c&&c,d=Object(s.o)().trans;return a.a.createElement("div",{className:"author-info"},a.a.createElement("img",{src:r||"/img/avatar/empty.png",alt:"",className:"author-info__badge"}),a.a.createElement("div",{className:"author-info__username"},a.a.createElement("a",{href:"/user/"+t,className:"on-navigate","aria-label":d("by %s. Tap to go to the author's profile page.",t)},i?Object(l.x)(t,i,u):t)))};c.propTypes={username:i.a.string.isRequired,avatar:i.a.string,authorCharLimit:i.a.number,shouldLinkify:i.a.bool},t.a=c},function(e,t,n){"use strict";var r=n(139),a="paid_story";e.exports=function(e){return r()||null==e||!e.get?e.paidModel===a:!(null==e||!e.get)&&e.get("paidModel")===a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(6),u=n(97);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,n,r,o=y(i);function i(){var e;f(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(h(e=o.call.apply(o,[this].concat(n))),"tagClickHandler",(function(t,n){e.props.onTagClicked&&e.props.onTagClicked(n,t),window.wattpad.utils.stopEvent(t),window.app.trigger("app:component:TagGridItem:click",t)})),E(h(e),"tagKeyDownHandler",(function(t,n){" "!==t.key&&"Spacebar"!==t.key||(e.props.onTagClicked&&e.props.onTagClicked(n,t),window.wattpad.utils.stopEvent(t))})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props.tagGridTags.tags,n=this.props.tagGridTags.withIcon||!1;return t&&t.length>0?a.a.createElement("div",{className:l()("tag-grid clearfix",this.props.className)},a.a.createElement("ul",{className:"tag-items"},t.map((function(t){return n?a.a.createElement("li",{key:t.id},a.a.createElement(u.a,m({},t,{clickHandler:e.tagClickHandler}))):a.a.createElement("li",{key:t.id},a.a.createElement(c.TagPill,m({},t,{clickHandler:e.tagClickHandler,keyDownHandler:e.tagKeyDownHandler})))})))):null}}])&&p(t.prototype,n),r&&p(t,r),i}(a.a.Component);w.propTypes={tagGridTags:i.a.object.isRequired,onTagClicked:i.a.func,className:i.a.string}},function(e,t,n){"use strict";var r=n(0),a=n(1),o=n.n(a);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.includes(t))throw new Error("Default option is not in options list");var a={};e.forEach((function(e){return a[e]=e===t}));var o={};o=0===Object.keys(n).length?c({},a):c({},n);var s=function(e,n){switch(n.type){case"APPLY":var r;return delete e.error,n.value===t?a:c(c({},e),{},(u(r={},n.value,!0),u(r,t,!1),r));case"REMOVE":if(delete e.error,n.value===t)return e;var o=c(c({},e),{},u({},n.value,!1));return Object.values(o).includes(!0)?o:a;default:return c(c({},e),{},{error:"Error in default reducer"})}},l=Object(r.useReducer)(s,o),d=i(l,2),m=d[0],f=d[1],p=function(e,t){f({type:e,value:t})};return[m,p]};d.propTypes={optionsList:o.a.arrayOf(o.a.string).isRequired,defaultOption:o.a.string.isRequired,initialState:o.a.object},t.a=d},,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(6),l=n(42),c=n(23),u=n(30),d=n(15),m=n(2),f=n(195),p=n(5),b=n(4),y=n.n(b);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=e.resource,n=e.isSticky,o=e.autofocus,i=e.placeholder,c=e.replyToUsername,d=e.onCommentPosted,f=Object(m.o)().trans,p=Object(m.q)().userNeedsVerification,b=g(Object(r.useState)(!1),2),h=b[0],v=b[1],E=g(Object(r.useState)(!1),2),w=E[0],O=E[1],S=g(Object(r.useState)(c&&"@".concat(c," ")),2),C=S[0],j=S[1],N=i||f("Write a comment..."),k=function(e){e.isNewComment=!0,v(!1),O(!1),j(""),d(e)};return a.a.createElement("div",{className:y()("new-comment-field",{sticky:n,replyTo:!!c,reply:Object(u.j)(t.namespace)})},c&&a.a.createElement("div",{className:"reply-to-user"},f("Replying to %s",c)),a.a.createElement(s.TextBox,{text:C,isLoading:w,autoFocus:o,onTextChange:j,placeholder:N,actionSend:function(){p()||(O(!0),v(!1),Object(l.postComment)(t,C).then(k).catch((function(){v(!0),O(!1)})))},ariaLabel:f("Post new comment"),errorMessage:h?f("Comment failed to post"):void 0}))};v.propTypes={resource:i.a.object.isRequired,isSticky:i.a.bool,autofocus:i.a.bool,placeholder:i.a.string,replyToUsername:i.a.string,onCommentPosted:i.a.func.isRequired};var E=v;function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=function(e){var t=e.comment,n=e.mainLocation,o=e.storyAuthor,i=e.onReplyPosted,l=e.onDeleteComment,b=e.sentimentEventData,y=e.onUpdateCount,g=t.user,h=t.isReply,v=t.isOffensive,w=t.commentId,S=t.sentiments,j=Object(m.f)(),N=Object(m.o)(),k=N.trans,T=N.ngettext,P=Object(m.i)(),_=P.handleOpenPopover,R=P.handleClosePopover,I=Object(m.q)().userNeedsVerification,A=Object(r.useRef)(),x=Object(r.useRef)(),L=Object(r.useRef)(),M=C(Object(r.useState)(Object(u.c)(S)),2),D=M[0],U=M[1],F=C(Object(r.useState)(Object(u.d)(S)),2),B=F[0],W=F[1],H=C(Object(r.useState)(t.replyCount),2),V=H[0],Y=H[1],G=C(Object(r.useState)(!!t.replyData),2),z=G[0],$=G[1],K=C(Object(r.useState)(!1),2),Z=K[0],X=K[1],J=w.resourceId,Q=o===g.name,ee=j.username&&j.username!==g.name,te=v&&k("This comment may be offensive."),ne=t.replyData&&{commentData:t.replyData},re={commentId:J,namespace:c.d.REPLIES},ae=function(e){var t=O(O({},b),{},{commentId:J});window.te.push("event","sentiment",null,null,e,t)};Object(r.useEffect)((function(){(t.isNewComment||t.isDeeplink)&&x.current&&x.current.scrollIntoView(c.j)}),[]);var oe=function(e){e?(U(!0),W((function(e){return e+1}))):(U(!1),W((function(e){return e-1})))},ie=function(){R(A),l(J,V)},se={ariaLabel:k(D?"Unlike this comment":"Like this comment"),onClick:function(){I()||(D?(oe(!1),Object(u.l)(w).then((function(){return b&&ae("remove")})).catch((function(){return oe(!0)}))):(oe(!0),Object(u.a)(w).then((function(){return b&&ae("add")})).catch((function(){return oe(!1)}))))},displayText:B>0&&Object(p.b)(B)},le={ariaLabel:k("More options"),outsideRef:A,onClick:function(e){e.preventDefault();_((function(){return a.a.createElement(f.a,{canMute:ee,commentBody:t.text,deeplink:t.deeplink,commentAuthor:g.name,canDeleteData:Object(u.b)(j,g,o),onDeleteComment:ie})}),A,"".concat(c.c.CLASS," ").concat(Object(u.k)(n)?"sp":"pa"),c.c.PROPS)}},ce={onClick:function(){$(!0),X(!0)},ariaLabel:"Reply to comment",displayText:k("Reply")},ue=V>0&&!z&&{onClick:function(){return $(!0)},ariaLabel:"View replies",displayText:Object(d.sprintf)(T("View %s Reply","View %s Replies",V),V)};return a.a.createElement("div",{className:"comment-card-container"},a.a.createElement("div",{ref:x},a.a.createElement(s.CommentCard,{isLiked:D,isReplyComment:h,offensiveText:te,content:Object(p.p)(t.text,{sanitization:"sanitize"}),isDeeplink:t.isDeeplink,commentAuthorName:g.name,commentAuthorAvatar:g.avatar,isNewComment:t.isNewComment,badges:Object(u.g)(g),isStoryAuthor:Q,pills:Object(u.e)(Q,k),readMoreText:k("Read more"),postedDate:Object(u.n)(k,T,t.created),actionLike:se,actionReply:ce,actionDropdown:le,actionViewMoreReplies:ue})),Z&&a.a.createElement(E,{autofocus:!0,resource:re,onCommentPosted:function(e){h&&i?i(e):L.current(e),X(!1)},replyToUsername:h?g.name:void 0,placeholder:k("Write a reply...")}),z&&a.a.createElement(q,{location:c.d.REPLIES,parentLocation:n,commentId:J,storyAuthor:o,sentimentEventData:b,addNewCommentRef:L,onUpdateCount:function(e){null==y||y(e),Y((function(t){return t+e}))},initialComment:ne,initialLimit:Object(u.f)(Z,V)}))};N.propTypes={comment:i.a.object.isRequired,mainLocation:i.a.oneOf(Object.values(c.d)),storyAuthor:i.a.string,sentimentEventData:i.a.object,onReplyPosted:i.a.func,onDeleteComment:i.a.func.isRequired,onUpdateCount:i.a.func};var k=N,T=n(3),P=n(101);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R={ERROR:"error",EMPTY:"empty",NOT_FOUND:"notFound"},I=function(e){var t=e.stageType,n=e.onRetryFetch,o=Object(m.o)().trans,i=Object(r.useRef)(),l=function(e){var t;return _(t={},R.EMPTY,{imageId:"no-comments-graphics",imageName:"comments/no-comments.svg",message:"".concat(e("Be the first to comment")," 💬")}),_(t,R.ERROR,{showRetry:!0,imageId:"failed-comment-fetch",imageName:"comments/failed-fetch.svg",message:e("There was an issue retrieving comments.")}),_(t,R.NOT_FOUND,{autofocus:!0,imageId:"comment-not-found",imageName:"comments/failed-fetch.svg",message:e("The comment cannot be found.")}),t}(o)[t];return Object(r.useEffect)((function(){var e;l.autofocus&&(null===(e=i.current)||void 0===e||e.scrollIntoView(c.j))}),[]),a.a.createElement("div",{className:"comments-empty-stage",ref:i},a.a.createElement(T.c,{name:l.imageName,id:l.imageId}),a.a.createElement("p",{className:"message"},l.message),l.showRetry&&a.a.createElement(s.Button,{onClick:n,label:o("Retry")}))};I.propTypes={stageType:i.a.oneOf(Object.values(R)).isRequired,onRetryFetch:i.a.func};var A=I;function x(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||M(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var U=function(e){var t=e.location,n=e.parentLocation,o=e.partId,i=e.paragraphId,c=e.commentId,d=e.storyAuthor,f=e.initialLimit,p=e.initialComment,b=e.scrollableRef,y=e.addNewCommentRef,g=e.sentimentEventData,h=e.onUpdateCount,v=e.onCommentsChanged,w=e.adData,O=Object(m.o)().trans,S=Object(u.j)(t),C=L(Object(r.useState)([]),2),j=C[0],N=C[1],_=L(Object(r.useState)(!1),2),I=_[0],M=_[1],D=L(Object(r.useState)(!1),2),U=D[0],q=D[1],F=L(Object(r.useState)(!1),2),B=F[0],W=F[1],H=L(Object(r.useState)(0!==f),2),V=H[0],Y=H[1],G=L(Object(r.useState)(void 0),2),z=G[0],$=G[1],K=L(Object(r.useState)(!S&&!!p),2),Z=K[0],X=K[1],J=0===j.length,Q=!S&&!U&&!Z,ee={namespace:t,partId:null==o?void 0:o.toString(),paragraphId:i,commentId:c},te=function(e,t){Y(!0),Object(l.fetchComments)(ee,t,e).then((function(e){N((function(t){return[].concat(x(t),x(e.comments))})),M(e.hasMore),$(e.after),q(!1),Y(!1)})).catch((function(){q(!0),Y(!1),W(!1)}))},ne=function(e,t){Object(l.deleteComment)(e).then((function(){null==h||h(-(t+1)),N(j.filter((function(t){return t.commentId.resourceId!==e})))})).catch((function(){wattpad.utils.showToast(O("Sorry, something went wrong. Please try again."),{type:"dismissable"})}))},re=function(e){null==h||h(1),N((function(t){return[e].concat(x(t))}))},ae=function(e,t){var n=t||e;Object(u.i)(n.resource,o,i)?(t?(n.replyData=e,n.replyData.isDeeplink=!0):n.isDeeplink=!0,N([n]),te(f,n.commentId)):oe()},oe=function(){q(!1),Y(!1),W(!0)},ie=function(){te(void 0,z)};Object(m.h)((function(e){N(j.filter((function(t){return t.user.name!==e})))})),Object(r.useEffect)((function(){null!=p&&p.commentData?(N([p.commentData]),te(2,p.commentData.commentId)):null!=p&&p.resourceId?(Y(!0),Object(l.fetchComment)(p).then((function(e){e.resource.namespace===l.CommentsNamespaces.COMMENTS?Object(l.fetchComment)(e.resource).then((function(t){return ae(e,t)})).catch(oe):ae(e)})).catch(oe)):0!==f&&te(f),y&&(y.current=re)}),[]),Object(r.useEffect)((function(){return null==v?void 0:v()}),[j]),Object(m.g)({hasMore:I,scrollableRef:b,scrollOffset:100,isDisabled:U||V,onLoadMore:Object(r.useCallback)(ie,[j,I,z])});var se=function(e){return V||U&&!J?a.a.createElement("div",{className:"loader-animation-wrapper"},a.a.createElement(T.c,{name:"icons/loader-light.svg",id:"loader-light"})):I&&!b?e:void 0},le=function(){return(S?x(j).reverse():j).map((function(e){return{isAd:!1,comment:e}}))},ce=Object(r.useMemo)((function(){return J?j:w?Object(u.h)(le()):le()}),[j]);return a.a.createElement("div",{className:"comments-list"},Z&&a.a.createElement("div",{className:"go-back"},a.a.createElement("div",{className:"info"},a.a.createElement(T.g,{iconName:"fa-info",height:"13",color:"wp-neutral-1"}),O("You are viewing a single comment thread.")),a.a.createElement(s.Button,{variant:s.ButtonVariant.SECONDARY,onClick:function(){X(!1),N([]),M(!1),$(void 0),te()},leadingIcon:s.IconNames.WpChevronLeft,label:O("Return to all comments")})),Q&&a.a.createElement(E,{resource:ee,isSticky:!Object(u.k)(t),onCommentPosted:re}),S&&se(a.a.createElement("span",{className:"show-more-replies-wrapper"},a.a.createElement("hr",{className:"show-more-replies-hr"}),a.a.createElement("button",{className:"show-more-replies-btn",onClick:ie},O("View more replies")),a.a.createElement("hr",{className:"show-more-replies-hr"}))),ce.map((function(e){return e.isAd?a.a.createElement("div",{className:"",key:"".concat(t,"-comment-ad-").concat(e.id)},a.a.createElement(P.a,{placement:w.placement,adData:w,wrapperClassName:"advertisement-wrapper",className:"comment-ad"})):a.a.createElement(k,{key:"".concat(t,"-").concat(e.comment.commentId.resourceId),comment:e.comment,mainLocation:n||t,storyAuthor:d,onDeleteComment:ne,onReplyPosted:re,sentimentEventData:g,onUpdateCount:h})})),!S&&se(a.a.createElement("div",{className:"show-more-btn"},a.a.createElement(s.Button,{variant:s.ButtonVariant.SECONDARY,onClick:ie,fullWidth:!0,label:O("Show more")}))),function(){if(!S&&!V&&J&&!I){var e=R.EMPTY;return U?e=R.ERROR:B&&(e=R.NOT_FOUND),a.a.createElement("div",null,e===R.EMPTY&&!Object(u.k)(t)&&a.a.createElement(P.a,{placement:w.placement,adData:w,wrapperClassName:"advertisement-wrapper",className:"comment-ad"}),a.a.createElement(A,{stageType:e,onRetryFetch:te}))}}())};U.propTypes={location:i.a.oneOf(Object.values(c.d)).isRequired,partId:i.a.number,commentId:i.a.string,paragraphId:i.a.string,storyAuthor:i.a.string,parentLocation:i.a.oneOf(Object.values(c.d)),sentimentEventData:i.a.object,initialLimit:i.a.number,initialComment:c.i,scrollableRef:i.a.object,addNewCommentRef:i.a.object,onUpdateCount:i.a.func,onCommentsChanged:i.a.func,adData:c.a};var q=t.a=U},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(40),i=n.n(o),s=n(1),l=n.n(s),c=n(4),u=n.n(c),d=n(414),m=n(100),f=n(3),p=n(2),b=n(7),y=n(13),g=n(18);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){var t=e.beforeModalRef,n=e.storyId,o=Object(b.c)(),i=Object(b.d)((function(e){return e.homeSections.readingLists}))||[],s=Object(b.d)((function(e){return e.homeSections.storiesCollections}))[n]||{},l=Object(p.o)().trans,c=h(Object(r.useState)(""),2),u=c[0],d=c[1],m=Object(r.useRef)({}),v=Object(r.useRef)(null),E=h(Object(r.useState)(null),2),w=E[0],O=E[1],S=Object(r.useRef)();Object(p.p)(null==S?void 0:S.current,t);var C=function(e){j(n),o(Object(g.p)(e,n))},j=function(e){window.te.push("event","app","story","library","add",{storyid:e,page:"story_details"})},N=function(e){O(null),s[e]?(!function(e){window.te.push("event","app","story","library","remove",{storyid:e,page:"story_details"})}(n),o(Object(g.m)(e,n))):C(e)};return a.a.createElement("div",{className:"reading-list-modal",ref:S},a.a.createElement("span",{className:"reading-list-header"},a.a.createElement("span",{className:"sr-only"},l("Add to modal open")),a.a.createElement("div",{"aria-hidden":"true",className:"reading-list-title"},l("Add to")),a.a.createElement("button",{className:"reading-list-close-btn",onClick:function(){t&&t.focus(),o(Object(y.a)())}},l("Done"))),a.a.createElement("ul",{className:"reading-list-items"},a.a.createElement("li",{key:"library",className:"reading-list-item"},a.a.createElement("button",{onClick:function(){N("library")},ref:function(e){return m.current.library=e},tabIndex:"0"},a.a.createElement(f.g,{iconName:"fa-library",height:"22",color:"wp-neutral-1"}),a.a.createElement("span",{className:"reading-list-item-name"},"Library"),s.library&&a.a.createElement(f.g,{name:"check",size:"22",color:"wp-base-1",fill:!0,strokeWidth:"1"}))),i&&i.map((function(e){return a.a.createElement("li",{key:e.id,className:"reading-list-item"},a.a.createElement("button",{onClick:function(){N(e.id)},tabIndex:"0",ref:function(t){return m.current[e.id]=t}},a.a.createElement(f.g,{iconName:"fa-reading-list",height:"22",color:"wp-neutral-1"}),a.a.createElement("span",{className:"reading-list-item-name"},e.name),s[e.id]&&a.a.createElement(f.g,{name:"check",size:"22",color:"wp-base-1",fill:!0,strokeWidth:"1"})))})),a.a.createElement("div",{ref:v})),a.a.createElement("form",null,a.a.createElement("div",{className:"reading-list-input-row"},a.a.createElement("input",{type:"text",className:"form-control input-text",placeholder:l("Add new reading list..."),onChange:function(e){return d(e.target.value)},value:u}),a.a.createElement("button",{"aria-label":l("Add new reading list..."),tabIndex:"0",className:"btn-icon",onClick:function(e){e.preventDefault(),e.stopPropagation(),function(){O(null);var e=u;d("");var t=i.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}));if(t&&s[t.id])m.current[t.id].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"});else if(t)C(t.id),m.current[t.id].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"});else{var r={id:null,name:e,numStories:0,cover:0,tags:[],featured:!1,stories:n};j(n),Promise.resolve($.post("/api/v3/lists/",r)).then((function(){o(Object(g.g)()),o(Object(g.e)(n)),v.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})})).catch((function(e){var t=e.responseText?e.responseText:e.statusText;console.log(t||e);var n=new Error(l("We are unable to add this story to your reading list at this time"));O(n)}))}}()}},a.a.createElement(f.g,{name:"add",height:"12",color:"wp-neutral-1",strokeWidth:"2.5"})))),w&&a.a.createElement("div",{className:"reading-list-error"},w.message))}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}E.propTypes={beforeModalRef:l.a.object,storyId:l.a.number.isRequired,readingLists:l.a.array,storiesCollections:l.a.object};var C=function(e){var t=e.className,n=e.draft,o=void 0!==n&&n,s=e.isLoggedInUser,l=e.isPaid,c=e.isPaidPreview,g=e.isPaidStory,h=e.firstPartId,v=e.storyId,S=e.readingLists,C=e.storiesCollections,j=e.sources,N=e.isMobile,k=Object(b.c)(),T=O(Object(r.useState)(!1),2),P=T[0],_=T[1],R=Object(r.useRef)(null),I=Object(r.useRef)(null),A=O(Object(r.useState)(null),2),x=A[0],L=A[1],M=Object(p.o)().trans,D=function(){return a.a.createElement(m.a,{readingLists:S,storiesCollections:C[v],storyId:parseInt(v),className:"story-details-add-to-library",fromStoryDetails:!0,setShowPopover:_})},U=Object(d.a)(R.current,I.current,{modifiers:[{name:"arrow",options:{element:x}},{name:"offset",options:{offset:[0,10]}}]}),q=U.styles,F=U.attributes,B=function(e){var t=e.partId,n=e.children;return a.a.createElement("a",{className:"btn-primary read-btn",href:"/"+t,onClick:function(e){return function(e){e.preventDefault(),window.te.push("event","story",null,null,"click",{storyid:v,page:"story_details",type:"primary",source:"story_details",algo_source:j||""}),app.router.navigate("/"+h,{trigger:!0})}(e)}},n)};return a.a.createElement("div",{className:u()("story-actions",t)},P&&"undefined"!=typeof window&&i.a.createPortal(a.a.createElement("div",w({ref:I,style:q.popper},F.popper),D(),a.a.createElement("div",{ref:L,style:q.arrow})),document.querySelector("#react-popover")),a.a.createElement(B,{partId:h},!l&&!c&&!g&&a.a.createElement(f.g,{name:"bookOpenBeta",size:"16",color:"ds-neutral-00-solid"}),M("Start reading")),a.a.createElement("button",{ref:R,className:"btn-primary add-to-library-btn",onClick:function(){N?k(Object(y.b)({component:function(){return a.a.createElement(E,{beforeModalRef:R.current,storyId:v})},className:"reading-list-modal-container",useGlobalModalContainer:!0})):(_(!P),D())},disabled:!s||o,title:M("Add story to..."),"aria-label":M("Add story to...")},a.a.createElement(f.g,{name:"add",size:"24"})))};C.propTypes={className:l.a.string,draft:l.a.bool,isLoggedInUser:l.a.bool,isPaid:l.a.bool,isPaidPreview:l.a.bool,isPaidStory:l.a.bool,firstPartId:l.a.number,storyId:l.a.number,readingLists:l.a.array,storiesCollections:l.a.object,isMobile:l.a.bool,partId:l.a.number,children:l.a.node,sources:l.a.array};t.a=C},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return Y})),n.d(t,"b",(function(){return b}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(7),c=n(4),u=n.n(c),d=n(3),m=n(146),f=n(34);function p(e){var t=e.title,n=e.subtitle,o=e.loadFeaturedList,i=e.featuredList,l=e.openPopover,c=e.readingList,m=e.isMobile,f=e.catalog,p=Object(r.useRef)(null),b=Object(s.o)().trans;n=n||b("Check out the latest and greatest stories hand-picked by our team"),Object(r.useEffect)((function(){o()}),[o]);return t?a.a.createElement("header",{className:"catalog-header right-icon"},m?a.a.createElement("h1",{className:"catalog-title"},t):a.a.createElement("button",{disabled:0===i.length,className:"btn-no-style list-title",onClick:function(){if(i.length>0){l({component:function(){return a.a.createElement("div",{className:"react-popover-list"},a.a.createElement("a",{className:u()("on-navigate react-popover-item",{selected:"wattpadoriginals"===f}),href:"/catalog/wattpadoriginals"},b("Wattpad Originals")),i.map((function(e){return a.a.createElement("a",{key:e.id,className:u()("react-popover-item",{selected:c&&e.id===c.id}),href:"/featured/".concat(e.id)},e.name)})),a.a.createElement("a",{className:u()("on-navigate react-popover-item"),href:"/catalog/premiumpicks"},b("Premium Picks")))},triggerRef:p})}},"aria-label":b("Show featured list"),ref:p},a.a.createElement("h1",null,t),a.a.createElement(d.g,{name:"chevDown",size:24})),a.a.createElement("h2",{className:"subtitle"},n)):null}p.propTypes={title:i.a.string,subtitle:i.a.string,loadFeaturedList:i.a.func,featuredList:i.a.array,openPopover:i.a.func,readingList:i.a.object,isMobile:i.a.bool,isPremium:i.a.bool,catalog:i.a.string};var b=Object(l.b)((function(e){return{featuredList:e.paidStoriesCatalog.featuredList}}),{loadFeaturedList:m.b,openPopover:f.c})(p),y=n(395),g=n(6),h=n(5),v=n(166),E=n(142),w=n(100),O=n(18),S=n(396),C=n.n(S),j=function(e){var t=e.className,n=e.storyId,o=e.setShowPopover,i=e.onSignupTriggered,s=e.readingLists,l=e.storiesCollections,c=e.openPopover,m=e.getReadingLists,f=e.getCollectionsForStoryIds,p=Object(r.useRef)(null);return Object(r.useEffect)((function(){wattpad.utils.currentUser().authenticated()&&(m(),f(n))}),[wattpad,n,m,f]),a.a.createElement("div",{className:u()("buttons-wrapper",t)},a.a.createElement("button",{className:"btn-story-lists btn btn-sm btn-inline btn-orange btn-left-align btn-right-align",onClick:function(e){if(!wattpad.utils.currentUser().authenticated())return i&&i(e),void C()(e);var t=function(){return a.a.createElement(w.a,{storyId:n,readingLists:s,storiesCollections:null==l?void 0:l[n],setShowPopover:o})};t.displayName="LibraryPopover",c({component:t,triggerRef:p,passthroughProps:{showArrow:"true"},contentClass:"modal-popover"})},ref:p},a.a.createElement(d.g,{iconName:"fa-plus",height:"10",color:"wp-neutral-5"})))};j.defaultProps={},j.propTypes={className:i.a.string,storyId:i.a.number.isRequired,setShowPopover:i.a.func,onSignupTriggered:i.a.func,readingLists:i.a.array,storiesCollections:i.a.object,openPopover:i.a.func,getReadingLists:i.a.func,getCollectionsForStoryIds:i.a.func};var N=Object(l.b)((function(e){return{readingLists:e.homeSections.readingLists,storiesCollections:e.homeSections.storiesCollections}}),{openPopover:f.c,getReadingLists:O.g,getCollectionsForStoryIds:O.e})(j),k=n(172);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=function(e){var t,n,o,i,l=e.showModal,c=e.onClose,u=e.showTagRankings,m=e.isLoading,f=e.readingPosition,p=e.fetchReadingPosition,b=e.clearReadingPosition,y=Object(s.o)().trans,g=Object(h.o)()&&window.innerWidth<575,v=P(Object(r.useState)({}),2),w=v[0],O=v[1],S=P(Object(r.useState)({}),2),C=S[0],j=S[1],k=P(Object(r.useState)(!1),2),_=k[0],R=k[1],I=Object(r.useRef)(null),A={isTracked:!1},x=function(){var e=document.baseURI||document.URL;return e.indexOf("tags/")>-1?"tag page":e.indexOf("premiumpicks")>-1?"premium_picks":e.indexOf("home")>-1?"home":"browse page"},L=function(e){window.location=Object(h.d)(e)},M=Object(r.useCallback)((function(e){if(null!=e&&e.data)return Object.keys(A).forEach((function(t){e.data[t]=e.data[t]||A[t]})),O(e.data),e}),[A,O]),D=function(e){e.preventDefault(),w.isTracked&&window.te.push("event","modal","story_details","details","click",{page:x(),story_id:w.id}),L(w.url)};return Object(r.useEffect)((function(){var e=wattpad.utils.currentUser().authenticated();R(e)}),[]),Object(r.useEffect)((function(){if(_&&w.firstPartId&&!C.id)if(m)p(w.firstPartId);else{if(null==f||!f.part)return;var e=parseInt(null==f?void 0:f.part,10);j({id:e,url:"/".concat(e)})}}),[w,C,m,p,f,j,_]),a.a.createElement(d.l,T({id:d.j.STORY_PREVIEW_MODAL},{showModal:l,onClose:function(){j({}),O({}),b(),c&&c()}},{ref:function(e){I.current=e,M(e)}}),w.id?a.a.createElement("div",{className:"story-preview-content"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"modal-body clearfix"},a.a.createElement("a",{href:w.url,className:"cover cover-lg pull-left",onClick:function(e){w.isTracked&&window.te.push("event","modal","story_details","cover","click",{page:x(),story_id:w.id}),D(e)}},a.a.createElement("img",{src:w.cover,alt:w.title})),a.a.createElement("div",{className:"content"},a.a.createElement("h3",{className:"modal-title"},a.a.createElement("a",{href:w.url,className:"modal-title",onClick:D},w.title)),a.a.createElement("div",{className:"meta"},a.a.createElement("span",null," ",a.a.createElement(d.g,{iconName:"fa-view",height:"10",color:"wp-neutral-2"})," ",Object(h.b)(w.readCount)),a.a.createElement("span",null," ",a.a.createElement(d.g,{iconName:"fa-vote",height:"10",color:"wp-neutral-2"})," ",Object(h.b)(w.voteCount)," "),a.a.createElement("span",null," ",a.a.createElement(d.g,{iconName:"fa-list",height:"10",color:"wp-neutral-2"})," ",Object(h.b)(w.numParts))),a.a.createElement("div",{className:"actions"},a.a.createElement("button",{className:"start-reading btn btn-sm btn-inline btn-orange btn-left-align",onClick:function(){w.isTracked&&(window.te.push("event","modal","story_details",null,"read",{page:x(),story_id:w.id}),window.te.push("event",null,null,null,"reader_open_v0",{page:x(),storyid:w.id,partid:C.id||w.firstPartId})),L(C.url||"/".concat(w.firstPartId))}},_&&m&&a.a.createElement("div",{className:"is-loading"},a.a.createElement(d.h,null)),(!_||!m)&&(C.id&&(null==C?void 0:C.id)!=w.firstPartId?y("Continue"):y("Read"))),a.a.createElement("div",{className:"button-group relative inline-block"},a.a.createElement(N,{storyId:parseInt(w.id),onSignupTriggered:function(){I.current.hide()}}))),w.description&&a.a.createElement("p",{className:"description"},Object(h.x)(w.description,220,!1),a.a.createElement("a",{href:w.url,onClick:D}," ",a.a.createElement("span",{className:"read-more"},y("More")))),u&&w.tagRankings?a.a.createElement("div",{className:"tag-ranking"},a.a.createElement(d.c,{name:"/shared/ranking-medal.png",className:"tag-ranking-medal",height:"27",width:"22"}),a.a.createElement("span",null,a.a.createElement("b",null,y("#%1$s in %2$s",null===(t=w.tagRankings)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.rank,Object(h.u)(null===(o=w.tagRankings)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.name)))),a.a.createElement("a",{href:"".concat(w.url,"/rankings"),onClick:function(e){var t,n;e.preventDefault(),window.te.push("event","story_details","tag_ranking",null,"click",{storyid:w.id,tag:null===(t=w.tagRankings)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.name}),window.location="".concat(w.url,"/rankings")}},y("See all rankings"))):a.a.createElement(E.a,{tagMeta:{tags:w.tags,storyId:w.id,numShown:g?2:3},defaultClickEvents:!0}),a.a.createElement("div",{className:"info"},w.completed?a.a.createElement(a.a.Fragment,null,a.a.createElement(d.g,{iconName:"fa-check",height:"12",color:"wp-base-2"})," ",a.a.createElement("span",{className:"completed text"},y("completed"))):a.a.createElement(a.a.Fragment,null,a.a.createElement(d.g,{iconName:"fa-more",height:"12",color:"wp-base-1"})," ",a.a.createElement("span",{className:"ongoing text"},y("ongoing")),(w.modifyDate||w.lastPublishedPart.createDate)&&a.a.createElement("time",{dateTime:Object(h.e)(w.modifyDate||w.lastPublishedPart.createDate,{fuzzyTime:!0})},y("Updated %s",Object(h.e)(w.modifyDate||w.lastPublishedPart.createDate,{fuzzyTime:!0})))),w.mature&&a.a.createElement("div",{className:"mature"},a.a.createElement(d.g,{iconName:"fa-info",height:"12",color:"wp-neutral-2"})," ",y("Mature"))))))):null)};R.defaultProps={showTagRankings:!1},R.propTypes={showModal:i.a.bool,onClose:i.a.func,showTagRankings:i.a.bool,isLoading:i.a.bool,readingPosition:i.a.oneOfType([i.a.string,i.a.shape({part:i.a.number,position:i.a.string})]),fetchReadingPosition:i.a.func,clearReadingPosition:i.a.func};var I=Object(l.b)((function(e){return{isLoading:e.storyItem.isLoading,readingPosition:e.storyItem.readingPosition}}),{fetchReadingPosition:k.c,clearReadingPosition:k.a})(R);function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var x=function(e){var t=e.showModal,n=e.onClose,o=Object(r.useRef)(),i=Object(s.o)().trans,l=a.a.createElement("div",{className:"check-icon-container"},a.a.createElement(d.g,{name:"check",size:"24",viewBox:"24",color:"ds-neutral-100",className:"check-icon",fill:!0,strokeWidth:"0"}));return a.a.createElement(d.l,A({id:d.j.PREMIUM_PICKS_FAQ_MODAL_ID},{showModal:t,onClose:n},{ref:o}),a.a.createElement("div",{className:"premium-picks-faq-content"},a.a.createElement("div",{className:"premium-picks-faq-header"},a.a.createElement("h2",{className:u()("modal-title",g.Typography.HEADING.XSMALL)},i("Premium Picks")),a.a.createElement(d.c,{className:"premium-picks-image",name:"library/premium-picks-fresh-books.png",title:i("Stack of freshly cooked books")})),a.a.createElement("ul",{className:u()("premium-picks-faq-features",g.Typography.PARAGRAPH.MEDIUM)},a.a.createElement("li",null,l,i("Wattpad Premium and Premium+ subscribers get a free monthly bundle of 5+ Wattpad Originals.")),a.a.createElement("li",null,l,i("Premium Picks refresh on the first day of each month. Read for free all month without paywalls.")),a.a.createElement("li",null,l,i("Explore new genres, writers, and quality reads every month.")))),a.a.createElement("div",{className:"premium-picks-faq-footer"},a.a.createElement(g.Button,{onClick:function(){n(),o.current.hide()},label:i("Got it")}),a.a.createElement(g.Button,{href:"https://support.wattpad.com/hc/en-us/articles/18722782071956-Premium-Picks-",variant:g.ButtonVariant.TERTIARY,label:i("Premium Picks FAQ")})))};x.propTypes={showModal:i.a.bool,onClose:i.a.func};var L=x,M=n(147);function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F="thismonthpicks",B="nextmonthpicks",W=function(e){var t=e.className,n=e.isPremium,o=e.currentPicks,i=e.upcomingPicks,l=e.isLoading,c=e.loadError,m=e.fetchPremiumPicks,f=Object(s.o)().trans,p=U(Object(r.useState)(F),2),b=p[0],y=p[1],E=U(Object(r.useState)(!0),2),w=E[0],O=E[1],S=Object(h.o)()&&window.innerWidth<575,C=function(){window.wattpad.utils.openModal(d.j.PREMIUM_PICKS_FAQ_MODAL_ID)};Object(r.useEffect)((function(){var e;null!==(e=wattpad)&&void 0!==e&&e.utils.getCookie("seen-premium-picks-faq")||(O(!1),C()),window.te.push("event",null,null,null,"app_page_view_v1",{page:{premium_picks:{}}}),m()}),[m]);var j=Object(r.useCallback)((function(){switch(b){case F:return(null==o?void 0:o.stories)||[];case B:return(null==i?void 0:i.stories)||[];default:return[]}}),[b,o,i]);return Object(s.m)(f("Catalog")+" - "+f("Premium Picks")),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:u()(t,"premium-picks-catalog")},a.a.createElement("div",{className:"catalog-header"},a.a.createElement("div",{className:"container"},a.a.createElement("button",{className:"help-action-icon",onClick:C},a.a.createElement(d.g,{name:"helpCircle",size:"24",className:"help-icon",color:"wp-neutral-5"})),a.a.createElement("h1",{className:u()("heading",g.Typography.HEADING.SMALL)},a.a.createElement(d.g,{name:"zap",size:"20",className:"zap-icon",color:"ds-neutral-00-solid",fill:!0}),f("Premium Picks")),a.a.createElement("div",{className:u()("description",g.Typography.PARAGRAPH.MEDIUM)},f("Get a free monthly bundle of 5+ Wattpad Originals with any Premium or Premium+ plan.")," ",a.a.createElement("button",{className:"learn-more-button",onClick:C},f("Learn more"))),a.a.createElement(g.Pill,{className:"access-expires-pill",variant:g.PillVariant.LIGHT,accent:g.Accent.DEFAULT,shape:g.PillShape.ROUND,leadingIcon:g.IconNames.WpHistory,label:a.a.createElement(a.a.Fragment,null,f(b===F?"Expiring in":"Available in")," ",a.a.createElement(d.d,{date:new Date((new Date).getFullYear(),(new Date).getMonth()+1,1,0,0,0,0),showDays:!0,showHours:!0,updateInterval:60}))}),!n&&a.a.createElement(g.Button,{className:"subscribe-cta",href:"/premium",isExternalLink:!0,onClick:function(){window.te.push("event","subscriptions","cta",null,"view",{cta_type:"premium_picks_subscribe_button"})},variant:g.ButtonVariant.SECONDARY,leadingIcon:g.IconNames.WpPremium,label:f("Subscribe now")}))),a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"catalog-navigation"},a.a.createElement("button",{className:u()({active:b===F}),onClick:function(){return y(F)}},f("This month")),a.a.createElement("button",{className:u()({active:b===B}),onClick:function(){return y(B)}},f("Next month"))),a.a.createElement("div",{className:"catalog-stories"},l?a.a.createElement("div",{className:"loading-spinner"},a.a.createElement(d.h,null)):null,l?null:j().map((function(e){var t;return a.a.createElement("div",{className:"browse-story-item",key:"story-".concat(e.id)},a.a.createElement(v.b,D({},e,{trans:f,app:null===(t=window)||void 0===t?void 0:t.app,useReactModal:!S})))})),c?f("Failed to load Premium Picks"):null))),a.a.createElement(L,{onClose:function(){var e,t;w||(O(!0),null===(e=window)||void 0===e||null===(t=e.wattpad)||void 0===t||t.utils.setCookie("seen-premium-picks-faq",1))}}),a.a.createElement(I,null))},H={id:i.a.number,name:i.a.string,stories:i.a.arrayOf(i.a.shape(v.a)),total:i.a.number};W.propTypes={className:i.a.string,isPremium:i.a.bool,currentPicks:i.a.shape(H),upcomingPicks:i.a.shape(H),isLoading:i.a.bool,loadError:i.a.string,fetchPremiumPicks:i.a.func};var V=Object(l.b)((function(e){return{currentPicks:e.premiumPicksCatalog.currentPicks,upcomingPicks:e.premiumPicksCatalog.upcomingPicks,isLoading:e.premiumPicksCatalog.isLoading,loadError:e.premiumPicksCatalog.loadError}}),{fetchPremiumPicks:M.b})(W);function Y(e){var t=e.catalog,n=e.isMobile,r=e.isPremium,o=Object(s.o)().trans;switch(t){case"paidstories":case"wattpadoriginals":return a.a.createElement("div",{className:"catalog-container"},a.a.createElement(b,{title:o("Wattpad Originals"),catalog:t,isMobile:n,isPremium:r}),a.a.createElement(y.a,{catalog:t}));case"premiumpicks":return a.a.createElement(V,{isPremium:r})}return null}Y.propTypes={catalog:i.a.string.isRequired,isMobile:i.a.bool.isRequired,isPremium:i.a.bool}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(103),a=n(380),o=n(415);function i(e){return Object(r.e)(o.a,e,Object(r.d)(Object(r.a)(a.a),s.__REDUX_DEVTOOLS_EXTENSION__?s.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}))}var s=s||e}).call(this,n(33))},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(7),l=n(5),c=n(41),u=n(6);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(e,t){var n,o;return o=n=function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(y,n);var r,o,i,d=b(y);function y(){return m(this,y),d.apply(this,arguments)}return r=y,(o=[{key:"render",value:function(){var n,r,o,i;if(Object(l.o)()){var d=wattpad.utils.currentUser();n=wattpad.utils.trans,r=wattpad.utils.ngettext,o=d?d.attributes:{},i=wattpad.testGroups}else n=this.props.resLocals.trans,r=this.props.resLocals.ngettext,o=this.props.resLocals.currentUser||{},i=this.props.resLocals.testGroups;return a.a.createElement(s.a,{store:t},a.a.createElement(u.AppProvider,{i18n:{translate:n,ngettext:r}},a.a.createElement(c.c.Provider,{value:o},a.a.createElement(c.b.Provider,{value:{trans:n,ngettext:r}},a.a.createElement(c.a.Provider,{value:i},a.a.createElement(e,this.props))))))}}])&&f(r.prototype,o),i&&f(r,i),y}(r.Component),h(n,"displayName","".concat(function(e){return e.displayName||e.name||"Component"}(e),"WithRedux")),h(n,"propTypes",{resLocals:i.a.shape({trans:i.a.func,ngettext:i.a.func,currentUser:i.a.object,testGroups:i.a.object})}),o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n.n(r),o=n(3);function i(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(o.o,null),a.a.createElement(o.v,{isGlobalModalContainer:!0}))}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(29),l=n(5);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var a=b(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y,g,h,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(i,e);var t,n,r,o=f(i);function i(){return u(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.trans;return a.a.createElement("div",{className:"announcement-modal"},a.a.createElement(s.a,{name:"shared/megaphone_teal.png"}),a.a.createElement("header",null,e("Announce an Important Post")),a.a.createElement("div",null,e("By using this feature, this message will be sent to all your followers’ notification feeds. Please note that you can only post up to %s announcements per day - save these for special occasions!",3)),a.a.createElement("div",{className:"buttons"},a.a.createElement("a",{href:"https://support.wattpad.com/hc/en-us/articles/201463980-Making-an-announcement",target:"_blank",rel:"noopener noreferrer",className:"btn btn-orange"},e("Learn more")),a.a.createElement("button",{className:"btn btn-orange","data-dismiss":"modal"},e("Got it"))))}}])&&d(t.prototype,n),r&&d(t,r),i}(a.a.Component);y=v,g="propTypes",h={trans:i.a.func.isRequired},g in y?Object.defineProperty(y,g,{value:h,enumerable:!0,configurable:!0,writable:!0}):y[g]=h,t.a=Object(l.n)(v)},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(10);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var a=p(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,n,r,o=m(i);function i(){return c(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.headerName,t=this.props.options;return a.a.createElement("div",{className:"menu-modal"},a.a.createElement("div",{className:"header"},e,a.a.createElement("span",{"data-dismiss":"modal"},a.a.createElement(s.a,{iconName:"fa-remove",height:"14",color:"wp-neutral-2"}))),a.a.createElement("ul",{className:"menu-items"},t.map((function(t){var n=t.browseURL||wattpad.utils.categoryNameToUrl(t.key);return a.a.createElement("li",{key:t.key},t.url?"Browse"===e?a.a.createElement("a",{href:n,className:"on-navigate on-topic"},t.name):a.a.createElement("a",{href:n,className:"on-navigate"},t.name):a.a.createElement("span",{className:"selected"},t.name))}))))}}])&&u(t.prototype,n),r&&u(t,r),i}(a.a.Component);b.propTypes={headerName:i.a.string.isRequired,options:i.a.array.isRequired}},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(48),l=n(3),c=n(2),u=function(e){var t,n,r=e.facebook,a=Object(c.o)().trans;return i.a.createElement("div",null,i.a.createElement("div",{className:"row form-group facebook"},i.a.createElement("label",{htmlFor:"update-facebook",className:"control-label col-sm-3"},"Facebook ",i.a.createElement("img",{className:"label-icon",src:"/image/icon22_fb.png?",alt:"icon22_fb.png",border:"0",align:"absmiddle"})),i.a.createElement("div",{className:"col-sm-6"},(r?(t="https://www.facebook.com/"+r,n=i.a.createElement("div",{className:"unlink-facebook-wrapper"},i.a.createElement("a",{className:"facebook-url",href:t,target:"_new"},t),i.a.createElement("form",{className:"unlink-facebook-form",method:"POST",action:"/apiv2/linksocialmedia"},i.a.createElement("input",{type:"hidden",name:"action",value:"unlinkfb"}),i.a.createElement("button",{type:"submit",className:"btn-no-background"},i.a.createElement("img",{src:"/image/v2/unlink.png",width:"16",height:"16",alt:"unlink.png"}))))):n=i.a.createElement("div",{className:"connect-facebook-wrapper"},i.a.createElement("button",{className:"btn-no-style"},i.a.createElement("img",{className:"btn-facebook-link",alt:"Facebook",border:"0",width:"89",height:"21",src:"/image/connect_light_medium_short.gif"})),i.a.createElement("div",{className:"facebook-tooltip",role:"tooltip","aria-label":"Facebook","data-tip":a("Connecting with Facebook makes it really easy to share everything you do on Wattpad with your Facebook friends. It also allows you to login to Wattpad with one click!")},i.a.createElement(l.g,{iconName:"fa-info",height:"16",color:"wp-neutral-2",className:"tooltip-icon"})),i.a.createElement(s.a,{className:"tool-tip",effect:"solid"})),n))))};u.propTypes={facebook:a.a.string.isRequired},t.a=u},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(152),l=function(e){var t=e.trans;return a.a.createElement("div",{id:"content-preferences"},a.a.createElement("div",{className:"content-settings-heading"},a.a.createElement("h2",null,t("Content Preferences")),a.a.createElement("hr",null)),a.a.createElement(s.a,{isSettingsPage:!0}))};l.propTypes={trans:i.a.func.isRequired},t.a=l},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(3);function i(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(){var e=s(Object(r.useState)([]),2),t=e[0],n=e[1],l=s(Object(r.useState)(""),2),c=l[0],u=l[1],d=s(Object(r.useState)(""),2),m=d[0],f=d[1];Object(r.useEffect)((function(){var e=document.cookie.split("; ");e.sort((function(e,t){return(e=e.toLowerCase())==(t=t.toLowerCase())?0:e<t?-1:1})),e=e.map((function(e){var t=e.split("=");return{name:t[0],value:t[1]}})),n(e)}),[n]);var p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:365,r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),document.cookie="".concat(e,"=").concat(encodeURIComponent(t),"; expires=").concat(r.toUTCString(),"; path=/; SameSite=Lax; Secure;")};return a.a.createElement("div",{id:"cookie-manager"},a.a.createElement("div",{className:"col-12 col-md-2"}),a.a.createElement("div",{className:"col-12 col-md-8"},a.a.createElement("h4",null,"Manage your Wattpad Cookies"),a.a.createElement("div",{className:"new-cookie-row"},a.a.createElement("input",{type:"text",name:"cookie-name",placeholder:"NAME",value:c,onChange:function(e){return u(e.target.value)}}),a.a.createElement("input",{type:"text",name:"cookie-value",placeholder:"VALUE",value:m,onChange:function(e){return f(e.target.value)}}),a.a.createElement("button",{onClick:function(){if(c){p(c,m);var e=i(t),r=e.findIndex((function(e){return e.name==c}));r>-1&&e.splice(r,1),e.push({name:c,value:m}),e.sort((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:0})),n(e),u(""),f("")}}},"Add Cookie")),a.a.createElement("ul",{className:"cookie-list"},a.a.createElement("li",{className:"cookie-header-row"},a.a.createElement("div",null,"Name"),a.a.createElement("div",null,"Value")),t.map((function(e,r){return a.a.createElement("li",{className:"cookie-row",key:"cookie-".concat(r)},a.a.createElement("div",null,e.name),a.a.createElement("div",null,e.value),a.a.createElement("button",{onClick:function(){!function(e){if(confirm("Permanently delete cookie '".concat(e,"'?"))){p(e,"",-365);var r=t.findIndex((function(t){return t.name==e}));t.splice(r,1),n(i(t))}}(e.name)}},a.a.createElement(o.g,{name:"trash"})))})))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(1),a=n.n(r),o=n(0),i=n.n(o);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(o,e);var t,n,r,a=d(o);function o(){return l(this,o),a.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props.promoName,t=this.props.promoOptions,n=t.flavourText,r=t.button;return i.a.createElement("div",{className:"banner-background",id:"".concat(e,"-banner")},i.a.createElement("div",{className:"banner-info"},n?i.a.createElement("div",{className:"flavour-text"},n):null,r?i.a.createElement("a",{href:r.link,className:"btn btn-orange banner-btn"},r.text):null))}}])&&c(t.prototype,n),r&&c(t,r),o}(i.a.Component);p.propTypes={promoName:a.a.string.isRequired,promoOptions:a.a.object.isRequired}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(0),a=n.n(r),o=n(2),i=n(1),s=n.n(i),l=n(5);function c(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,s,"next",e)}function s(e){c(o,r,a,i,s,"throw",e)}i(void 0)}))}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=f||e;function p(e){var t=e.createCanvaCover,n=e.canvaApiKey,i=e.story,s=Object(o.o)().trans,c=d(Object(r.useState)(null),2),m=c[0],p=c[1];Object(o.d)("myworks:cover:saved",(function(e){p(e.detail)}),f),Object(r.useEffect)((function(){var e,t,n="canva-script";document.getElementById(n)||((t=document.createElement("script")).id=n,e=document.getElementsByTagName("script")[0],t.src="https://sdk.canva.com/v2/beta/api.js",e.parentNode.insertBefore(t,e))}),[]);var b=function(){var e=null;return i.id&&(m?"canva"===m.cover_partner&&m.cover_source_id&&(e=m.cover_source_id):e="canva"===i.cover_partner&&i.cover_source_id?i.cover_source_id:Object(l.m)({key:"canva-cover-".concat(i.id)})),e};function y(e){t(e)}function g(){return(g=u(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.CanvaButton){e.next=2;break}return e.abrupt("return");case 2:if(f.canvaApi){e.next=6;break}return e.next=5,f.CanvaButton.initialize({apiKey:n});case 5:f.canvaApi=e.sent;case 6:f.canvaApi.createDesign({type:"WattpadBookCover",publishLabel:s("Use Cover"),onDesignPublish:y}),(t=b())&&f.canvaApi.editDesign({designId:t,publishLabel:s("Update Cover"),onDesignPublish:y});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a.a.createElement("button",{className:"canva-btn canva-btn-size-s",onClick:function(){return g.apply(this,arguments)}},a.a.createElement("span",{className:"canva-btn-i"}),b()?s("Edit Cover"):s("Create Cover"))}p.propTypes={createCanvaCover:s.a.func,canvaApiKey:s.a.string.isRequired,story:s.a.object}}).call(this,n(33))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return w}));var r=n(0),a=n.n(r),o=n(14),i=n.n(o),s=n(1),l=n.n(s),c=n(4),u=n.n(c),d=n(3),m=n(11);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(s,e);var t,n,r,o=y(s);function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),E(h(t=o.call(this,e)),"getSelectedPremiumTheme",(function(){var e=j?j.getCookie(m.k):t.props.reqCookies[m.k];return parseInt(e||m.e)})),E(h(t),"selectTheme",(function(e){if(e!==t.state.selectedTheme){var n=t.isPremium();n?(j.setPremiumTheme(e),t.setState({selectedTheme:e})):e!==m.f&&t.props.showSubscriptionModal();var r=m.m[e];C.te.push("event","profile","theme",null,"change",{premium:+n,theme:r})}}));var n=t.isPremium()?t.getSelectedPremiumTheme():m.f;return t.state={selectedTheme:n},t}return t=s,(n=[{key:"isPremium",value:function(){return this.props.isPremium}},{key:"render",value:function(){var e=this,t=i.a.range(1,m.i+1);return a.a.createElement("div",{role:"listbox","aria-labelledby":"panel-body-title"},t.map((function(t){return a.a.createElement("div",{key:t,className:"theme-option-wrapper"},a.a.createElement(O,{themeId:t,selected:t===e.state.selectedTheme,premium:e.isPremium(),selectTheme:e.selectTheme}))})))}}])&&p(t.prototype,n),r&&p(t,r),s}(a.a.Component);E(w,"propTypes",{isPremium:l.a.bool.isRequired,reqCookies:l.a.object,showSubscriptionModal:l.a.func});var O=function(e){var t=e.themeId,n=e.selected,r=e.premium,o=e.selectTheme,i=r||t===m.f?"":"unavailable";return a.a.createElement("div",{className:u()("theme-option","theme-".concat(t),{selected:n})},a.a.createElement("div",{className:u()("theme-option-inner","theme-".concat(t),i),onClick:function(){return o(t)},onKeyDown:function(){return o(t)},role:"option",tabIndex:"0","aria-selected":n,"aria-label":"theme-".concat(t)},a.a.createElement(S,{selected:n})))};O.propTypes={themeId:l.a.number.isRequired,selected:l.a.bool.isRequired,premium:l.a.bool.isRequired,selectTheme:l.a.func.isRequired};var S=function(e){var t=e.selected,n=a.a.createElement("div",null);return t&&(n=a.a.createElement(d.g,{iconName:"fa-check",height:"24",color:"wp-neutral-5"})),n};S.propTypes={selected:l.a.bool.isRequired};var C=C||e,j=i.a.get(C,"wattpad.utils")}).call(this,n(33))},function(e,t,n){"use strict";var r=n(7),a=n(1),o=n.n(a),i=n(0),s=n.n(i),l=n(13),c=n(2),u=n(3),d=n(143),m={1:"https://support.wattpad.com/hc/en-us/articles/360029365812",2:"https://support.wattpad.com/hc/fr/articles/360029365812",3:"https://support.wattpad.com/hc/it/articles/360029365812",4:"https://support.wattpad.com/hc/de/articles/360029365812",5:"https://support.wattpad.com/hc/es/articles/360029365812",6:"https://support.wattpad.com/hc/pt/articles/360029365812",20:"https://support.wattpad.com/hc/id/articles/360029365812",23:"https://support.wattpad.com/hc/tr/articles/360029365812",18:"https://support.wattpad.com/hc/fil/articles/360029365812"};function f(e){var t=e.toggleModal;return Object(i.useEffect)((function(){return t({className:"user404",disableClose:!0,component:function(){return s.a.createElement(p,null)}}),function(){t()}}),[t]),s.a.createElement("div",{id:"userError-404"},s.a.createElement(d.a,null),s.a.createElement(u.v,null))}function p(){var e=Object(c.o)().trans;var t=m[parseInt(app.get("language"),10)]?m[parseInt(app.get("language"),10)]:"https://support.wattpad.com/hc/articles/360029365812";return s.a.createElement("div",{className:"user-not-found"},s.a.createElement("h3",null,e("User not found")),s.a.createElement("p",null,e("This user no longer exists, or is only visible to a selected audience.")),s.a.createElement("div",{className:"modal-btns"},s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-block learn-more",href:t},e("Learn more")),s.a.createElement("button",{className:"btn btn-sm btn-block go-back",onClick:function(){window.history.back()}},s.a.createElement("span",null," ",e("Go back")," "))))}f.propTypes={toggleModal:o.a.func.isRequired};var b=Object(r.b)(null,{toggleModal:l.b})(f);t.a=b},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),i=n(3);t.a=function(){var e=Object(o.o)().trans;return a.a.createElement("div",{id:"story-404-wrapper"},a.a.createElement(i.c,{name:"errors/story-404.svg",className:"error-404-image"}),a.a.createElement("h3",null,e("This page got lost in a good story and never came back.")),a.a.createElement("p",null,e("We couldn’t find what you’re looking for. This page might have moved, no longer exists, or is only visible to a selected audience.")),a.a.createElement("div",{className:"buttons-404"},a.a.createElement("a",{className:"btn-primary",href:"./home"},e("Go home"))))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),i=n(3);t.a=function(){var e=Object(o.o)().trans;return a.a.createElement("div",{className:"merch-message-wrapper"},a.a.createElement(i.c,{name:"merch/merch_message.svg",className:"merch-message-image"}),a.a.createElement("h3",null,e("Sorry this product is in beta and only available on iOS at the moment.")),a.a.createElement("p",null,e("We hope to bring you exciting new merch experiences down the road.")))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(5),c=n(17),u=function(e){var t=e.group,n=e.authorMessage,r=e.onBuyCoins,o=e.trans,i=t.user,l=i.username,u=i.name,d=i.avatar,m=parseInt(app.get("language"),10);return a.a.createElement("div",{className:"story-paywall"},a.a.createElement("span",{"data-dismiss":"modal"},a.a.createElement(s.g,{iconName:"fa-remove",height:"20",color:"wp-neutral-2"})),a.a.createElement("h2",null,o("If you are enjoying this story, please consider helping fund my writing")),a.a.createElement("div",{className:"avatar"},a.a.createElement(s.a,{avatar:d,username:l})),a.a.createElement("a",{className:"on-navigate profile-link",href:"/user/".concat(l)},"@",l),a.a.createElement("div",{className:"blocked-message"},a.a.createElement("span",{className:"italic"},n),a.a.createElement("div",{className:"author-name"},u)),a.a.createElement("button",{onClick:r,className:"btn btn-orange unlock unlock-part"},o("Get Coins to support me")),a.a.createElement("div",{className:"more-details"},o("When you unlock stories with Coins you are directly supporting writers, so they can keep writing stories you love.")," ",a.a.createElement("a",{href:c.j[m]||c.g,target:"_blank",rel:"noopener noreferrer"},o("Learn how your support is empowering writers"))))};u.propTypes={group:i.a.shape({user:i.a.shape({username:i.a.string.isRequired,avatar:i.a.string.isRequired,name:i.a.string.isRequired}).isRequired}).isRequired,authorMessage:i.a.string.isRequired,onBuyCoins:i.a.func.isRequired,trans:i.a.func.isRequired},t.a=Object(l.n)(u)},function(e,t,n){"use strict";var r=n(7),a=n(4),o=n.n(a),i=n(1),s=n.n(i),l=n(0),c=n.n(l),u=n(5),d=n(2),m=n(129);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=f(Object(l.useState)(Object(u.o)()&&!parseInt(window.wattpad.utils.getCookie("seen-wallet-onboard"))),2),n=t[0],r=t[1];if(!n)return c.a.createElement(m.a,e);var a=e.isDesktop;return c.a.createElement("div",{className:o()("wallet-onboarding",{desktop:a})},c.a.createElement("div",{className:"wallet-overlay"}),c.a.createElement("div",{className:"wallet-bubble"},c.a.createElement(y,{onOnboardingFinish:function(){window.wattpad.utils.setCookie("seen-wallet-onboard",1),r(!1)}}),c.a.createElement(m.a,e)))}function y(e){var t=e.onOnboardingFinish,n=Object(d.o)().trans;return c.a.createElement("div",{className:"tooltip-content"},c.a.createElement("h6",null,n("Keep track of your Coin balance")),c.a.createElement("p",null,n("Visit the Coin Shop on the Wattpad mobile app to purchase Coins for Wattpad Originals")),c.a.createElement("button",{onClick:t,className:"btn ack-tooltip"},n("Got it")),c.a.createElement("div",{className:"arrow"}))}b.propTypes={isDesktop:s.a.bool.isRequired},y.propTypes={onOnboardingFinish:s.a.func.isRequired};var g=Object(r.b)((function(e){return{isDesktop:e.deviceData.isDesktop}}))(b);t.a=g},function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(7),a=n(83),o=n(4),i=n.n(o),s=n(1),l=n.n(s),c=n(0),u=n.n(c),d=n(3),m=n(5),f=n(17),p=n(13),b=n(2);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){var t=e.onOnboardingFinish,n=void 0===t?function(){}:t,r=e.toggleModal,o=Object(b.o)().trans,s=f.o,l=Object(c.useRef)(null);function p(){l.current.onResize()}var g=y(Object(c.useState)(!1),2),h=g[0],w=g[1],O=function(){!function(){if(!Object(m.o)())throw new Error("Can only be run on client");window.wattpad.utils.setCookie("seen-wo-onboard",1)}(),r(),n()},S=s(o);return u.a.createElement("div",{className:"onboarding-modal"},h&&u.a.createElement("button",{className:"btn-no-style",onClick:O},u.a.createElement(d.g,{iconName:"fa-remove",color:"wp-neutral-1",height:"22",className:"close-btn"})),u.a.createElement(a.a,{dragging:!0,slidesToShow:1,ref:l,afterSlide:function(e){e===S.length-1&&w(!0)},renderCenterLeftControls:null,renderCenterRightControls:null,renderBottomCenterControls:function(e){var t=e.nextSlide,n=e.goToSlide,r=e.currentSlide,a=e.previousSlide,s=r===e.slideCount-1,l=0===r,c=s?O:t,d=o(s?"Got it":"Next");return u.a.createElement("div",{className:"carousel-controls"},u.a.createElement(v,{slides:S,goToSlide:n,currentSlide:r}),u.a.createElement("button",{className:i()("btn onboarding-nav nav-next btn-primary"),onClick:c},d),u.a.createElement("button",{className:i()("btn btn-no-background onboarding-nav nav-back",{invisible:l}),onClick:a},o("Back")))}},S.map((function(e){var t=e.title,n=e.content,r=e.imageUrl,a=e.learnMoreLink;return u.a.createElement(E,{key:t,onImageLoad:p,title:t,content:n,imageUrl:r,learnMoreLink:a})}))))}function v(e){var t=e.slides,n=e.goToSlide,r=e.currentSlide;return u.a.createElement("div",{className:"paging-buttons"},t.map((function(e,t){var a=t===r?"ds-neutral-100":"ds-neutral-60-solid";return u.a.createElement("button",{className:"btn btn-no-background",key:t,onClick:function(){return n(t)}},u.a.createElement(d.g,{iconName:"fa-circle-filled",height:"10",color:a}))})))}h.propTypes={onOnboardingFinish:l.a.func,toggleModal:l.a.func.isRequired,premium:l.a.bool},v.propTypes={slides:l.a.array.isRequired,goToSlide:l.a.func.isRequired,currentSlide:l.a.number.isRequired};var E=function(e){var t=e.title,n=e.content,r=e.imageUrl,a=e.onImageLoad,o=e.learnMoreLink,s=Object(b.o)().trans;return u.a.createElement("div",{className:"slide"},u.a.createElement("div",{className:"slide-pane slide-image"},u.a.createElement(d.c,{width:"256",onLoad:a,name:r})),u.a.createElement("div",{className:"slide-pane slide-copy"},u.a.createElement("h4",{className:"title-lg"},t),u.a.createElement("span",{className:i()("slide-copy text-body")},n),o&&u.a.createElement(u.a.Fragment,null,". ",u.a.createElement("a",{className:"learn-more",href:o,target:"_blank",rel:"noopener noreferrer"},s("Learn more")))))};E.propTypes={title:l.a.string.isRequired,content:l.a.string.isRequired,imageUrl:l.a.string.isRequired,learnMoreLink:l.a.string,onImageLoad:l.a.func};var w={toggleModal:p.b},O=Object(r.b)(null,w)(h),S=function(e){window.store.dispatch(Object(p.b)({component:function(){return u.a.createElement(O,e)},disableClose:!0,useGlobalModalContainer:!0}))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(3),i=n(2),s=n(17);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(){var e,t,n,c,u,d,m=l(Object(r.useState)({}),2),f=m[0],p=m[1],b={thankForInterest:!1,device:"desktop",appUrl:""},y=Object(r.useCallback)((function(e){null!=e&&e.data&&(Object.keys(b).forEach((function(t){e.data[t]=e.data[t]||b[t]})),p(e.data))}),[p,b]),g=Object(i.o)().trans,h=s.f,v=[g("Open the Wattpad app on your mobile device and tap the Coin wallet on your profile."),g("Buy Coins: Select and purchase a Coin pack of your choice or subscribe to Premium+ for monthly Bonus Coins."),g("Earn Coins: Redeem offers or watch ads to earn Bonus Coins.")];return a.a.createElement(o.l,{id:o.j.BUY_COINS_MODAL,onClose:function(){var e=window.store.getState().wallet.amount;window.te.push("event","coins","packages",null,"dismiss",{page:null==f?void 0:f.page,storyid:null==f?void 0:f.storyId,partid:null==f?void 0:f.blockedPartId,starting_balance:e})},onOpen:function(){var e=window.store.getState().wallet.amount;window.te.push("event","coins","packages",null,"view",{page:null==f?void 0:f.page,storyid:null==f?void 0:f.storyId,partid:null==f?void 0:f.blockedPartId,starting_balance:e})},ref:y},a.a.createElement("div",{className:"coins-cta background"},a.a.createElement("h3",null,f.thankForInterest?g("Thank you for your interest! You can purchase Coins on the app."):g("Buy or earn Coins on the Wattpad app")),a.a.createElement("p",null,g("You can use Coins to unlock Wattpad Originals anywhere you use Wattpad, whether you’re on the app or web."))),a.a.createElement("div",{className:"how-to-buy"},v.map((function(e,t){var n,r;return a.a.createElement("div",{key:t,className:"step"},a.a.createElement("div",{className:"step-circle"},a.a.createElement("div",null,t+1)),a.a.createElement("div",{className:"instruction"},a.a.createElement("p",{className:"step-instruction"},e),(null===(n=f.device)||void 0===n||null===(r=n.is)||void 0===r?void 0:r.desktop)&&a.a.createElement(o.c,{className:"instruction-image",name:"paid-content/buy-coins-step-".concat(t+1,".png")})))}))),a.a.createElement("div",{className:"links"},(null===(e=f.device)||void 0===e||null===(t=e.is)||void 0===t?void 0:t.mobile)&&a.a.createElement("a",{className:"store-link",href:f.appUrl},(null===(n=f.device)||void 0===n||null===(c=n.is)||void 0===c?void 0:c.ios)&&a.a.createElement(o.c,{name:"homepages/appstore_dark_borderless.png"}),(null===(u=f.device)||void 0===u||null===(d=u.is)||void 0===d?void 0:d.android)&&a.a.createElement(o.c,{name:"homepages/googleplay_dark_borderless.png"})),a.a.createElement("a",{className:"faq-link",href:h,target:"_blank",rel:"noopener noreferrer"},g("Earning Coins FAQ"))))};u.propTypes={},t.a=u},function(e,t,n){"use strict";var r=n(202);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(1),a=n.n(r),o=n(7),i=n(0),s=n.n(i),l=n(99),c=n(209);function u(e){return s.a.createElement(c.a,{tagGridTags:e.storyTags,onTagClicked:function(t){return e.removeStoryTag(t)}})}u.propTypes={storyTags:a.a.object,removeStoryTag:a.a.func.isRequired};var d=Object(o.b)((function(e){return{storyTags:e.storyTags}}),{removeStoryTag:l.c})(u)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),i=n(1),s=n.n(i),l=n(3),c=n(6),u=n(48),d=n(163),m=n(89);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=Object(l.w)(l.f),y=function(e){var t=e.errorMsg,n=e.model,i=e.preservedVal,s=void 0===i?{}:i,p=Object(o.o)().trans,y=s.token,g=s.type,h=f(Object(r.useState)(),2),v=(h[0],h[1]),E=f(Object(r.useState)(!1),2),w=(E[0],E[1]),O=f(Object(r.useState)(!1),2),S=O[0],C=O[1],j=f(Object(r.useState)(!1),2),N=j[0],k=j[1],T=f(Object(r.useState)(!1),2),P=T[0],_=T[1],R=f(Object(r.useState)(!1),2),I=R[0],A=R[1],x=f(Object(r.useState)(!1),2),L=x[0],M=x[1],D=f(Object(r.useState)(""),2),U=D[0],q=D[1],F=Object(r.useRef)(),B=Object(r.useRef)(),W=Object(r.useRef)(),H=p("Yes, I have read and agree to Wattpad's <a href='/terms'>Terms of Service</a> and <a href='/privacy'>Privacy Policy</a>."),V=p("Yes, I'd like to receive marketing emails from Wattpad. (optional)"),Y=p("Get story recommendations, announcements, offers, and more via email. Unsubscribe anytime."),G=function(e,t){t.toLowerCase().includes("username")?C(e):t.toLowerCase().includes("email")?w(e):t.toLowerCase().includes("birthday")&&k(e)},z=t===p("Please fix any errors to continue."),$=function(e,t,n){return a.a.createElement("div",{className:"field-label"},a.a.createElement("span",{className:"field-label-text"},e),a.a.createElement("div",{"aria-label":t,"data-tip":n},a.a.createElement(d.Icon,{height:"16",iconName:"fa-info",color:"wp-neutral-1",className:"tooltip-icon"})))};return a.a.createElement("div",{className:"container-new"},a.a.createElement("div",{className:"form-wrapper"},a.a.createElement("div",{className:"form-new"},a.a.createElement("form",{id:"signupForm",action:"",method:"POST",onSubmit:function(){if(!P)return!1}},a.a.createElement(u.a,{className:"tool-tip",effect:"solid"}),$(p("Username"),"username hint",p("You do not have to use your real name. You can choose to use another name to protect your privacy.")),a.a.createElement(b,{name:"username",form:"signup",inputType:"text",title:p("Enter username"),inputRef:F,validationModel:n,showLabel:!0,onValid:function(e){return G(!0,e)},onInvalid:function(e){return G(!1,e)},onBlur:function(){var e;return v(null===(e=F.current)||void 0===e?void 0:e.value)}}),$(p("Birthday"),"why we ask for your birthday",p("You need to enter the date you were born. This information will only be visible to you and Wattpad’s Support teams.")),a.a.createElement(m.a,{inputRef:B,validationModel:n,onValid:function(){return G(!0,"birthday")},onInvalid:function(){return G(!1,"birthday")},errorMessageOnSubmit:z?p("Birthday is required."):""}),$(p("Pronouns (optional)"),p("Why we ask for your pronouns"),p("Your pronouns are only visible to you and Wattpad's support team. Update them anytime in your profile.")),a.a.createElement(l.f,{inputType:"pronouns",id:"pronouns",name:"pronouns",defaultValue:"","aria-label":"Select Pronoun",ref:W}),a.a.createElement("div",{className:"marketing-policy-agreement-container"},a.a.createElement(l.n,{contentId:"marketing-agreement",checked:I,onChange:function(){return A(!I)},color:"ds-base-2-60",name:"marketing",value:I}),a.a.createElement("div",null,a.a.createElement("span",{className:"marketing-agreement",dangerouslySetInnerHTML:{__html:V}}),a.a.createElement("br",null),a.a.createElement("span",{className:"marketing-agreement-subtext",dangerouslySetInnerHTML:{__html:Y}}))),a.a.createElement("div",{className:"email-policy-agreement-container"},a.a.createElement(l.n,{contentId:"policy-consent",required:!0,checked:P,onChange:function(){_(!P),q(!P)},onBlur:function(e){var t=e.target.checkValidity();q(t)},color:"ds-base-2-60",classname:!1===U||z?"invalid":"",name:"policy",value:P}),a.a.createElement("div",null,a.a.createElement("span",{className:"policy-agreement",dangerouslySetInnerHTML:{__html:H}}),a.a.createElement("br",null),(!1===U||z)&&a.a.createElement("span",{"aria-live":"assertive",className:"error-msg-new",role:"alert"},p("Checking this box is required.")))),y&&a.a.createElement("input",{className:"token hidden",readOnly:!0,value:y,name:"token"}),g&&a.a.createElement("input",{className:"account-type hidden",readOnly:!0,value:g,name:"type"}),t&&!z&&a.a.createElement("div",{className:"alert alert-danger",role:"alert"},t),a.a.createElement(c.Button,{fullWidth:!0,label:p("Sign up"),ariaLabel:p("Sign up"),className:"signup-button",onClick:function(){B.current.focus(),B.current.blur(),F.current.focus(),F.current.blur(),q(P),M(!(N&&P&&S))}}),t&&z&&a.a.createElement("span",{className:"error-msg-new text-align-center",role:"alert"},t),L&&a.a.createElement("span",{className:"error-msg-new text-align-center",role:"alert"},p("Please fix any errors to continue."))))))};y.propTypes={errorMsg:s.a.string,model:s.a.object,preservedVal:s.a.shape({email:s.a.string,token:s.a.string,type:s.a.string,username:s.a.string})},t.a=y},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(3),u=n(2),d=n(10);function m(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t,n,o=e.username,i=e.genres,s=Object(u.o)().trans,p=Object(u.e)(),b=f(Object(r.useState)([]),2),y=b[0],g=b[1],h=f(Object(r.useState)(!1),2),v=h[0],E=h[1],w=(t=v,n=Object(r.useRef)(),Object(r.useEffect)((function(){n.current=t})),n.current);Object(r.useEffect)((function(){o&&i&&0!==i.length||app.router.navigate("/start/success",{trigger:!0})}),[p,o,i]),Object(r.useEffect)((function(){var e=setTimeout((function(){E(!1)}),5e3);return function(){clearTimeout(e)}}),[w,v]);var O=function(e,t){if("click"===t.type||13===t.keyCode){var n=e.name;if(y.includes(n)){var r=y.filter((function(e){return e!==n}));g(r),E(!1)}else y.length>=3?E(!0):g([].concat(m(y),[n]))}};return i&&0!==i.length?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"full-screen background-1 onboarding-bg"}),a.a.createElement("div",{className:"onboardingModal modal fade in genres"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"onboarding-genres"},a.a.createElement("div",{className:"logo-wrapper"},a.a.createElement(c.c,{name:"logos/wp-logo-orange.png",alt:"wattpad logo",className:"wp-logo",width:"174"})),a.a.createElement("div",{className:"greeting"},s("Hi, %s",o)),a.a.createElement("div",{className:"prompt",dangerouslySetInnerHTML:{__html:s("Choose <strong>up to three</strong> genres that you enjoy reading. This will help us better recommend stories you'll love.")}}),a.a.createElement(a.a.Fragment,null),a.a.createElement("div",{className:"genres"},i.map((function(e){var t=y.includes(e.name);return a.a.createElement("div",{key:e.name,className:"genre-tile",tabIndex:0,role:"button",onClick:function(t){O(e,t)},onKeyDown:function(t){O(e,t)}},a.a.createElement("div",{className:"genre-info",style:e.image?{backgroundImage:"url(".concat(e.image,")")}:{}},a.a.createElement("div",{className:"genre-name"},e.topic)),a.a.createElement("div",{className:"selected-wrapper"},a.a.createElement("div",{className:l()("overlay",{active:t,hidden:!t})}),a.a.createElement("div",{className:l()("selected-icon",{active:t,hidden:!t})},a.a.createElement(d.a,{iconName:"fa-check",color:"wp-neutral-5"}))))})),a.a.createElement("ul",{className:"overflow-padding","aria-hidden":!0})),v&&a.a.createElement("div",{className:"genre-error-toast-wrapper"},a.a.createElement("div",{className:"genre-error-toast"},a.a.createElement("p",null,s("Oops, you can only select three genres. Try removing one before adding another"))))),a.a.createElement("div",{className:"finish-button-wrapper"},a.a.createElement("button",{className:l()("finish-button","btn-primary",{enabled:y.length>0,disabled:y.length<=0}),onClick:function(){var e="/v5/users/".concat(o,"/content-settings");Promise.resolve($.ajax({url:e,type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({preferredTags:y})})).finally((function(){window.te.push("event","onboarding",null,null,"complete"),app.router.navigate("/start/success",{trigger:!0})}))}},s("Finish"))),a.a.createElement("div",{className:"transparency"})))):null}y.propTypes={username:i.a.string.isRequired,genres:i.a.arrayOf(i.a.object).isRequired}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),a=n.n(r),o=n(3),i=n(2);function s(){var e=Object(i.o)().trans;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"full-screen background-1 onboarding-bg"}),a.a.createElement("div",{className:"onboardingModal modal fade in success"},a.a.createElement("div",{className:"onboarding-success"},a.a.createElement("div",{className:"logo-wrapper"},a.a.createElement(o.c,{name:"logos/wp-logo-orange.png",alt:"wattpad logo",className:"wp-logo",width:"174"})),a.a.createElement("div",{className:"title"},e("All done")),a.a.createElement("div",{className:"message"},e("Thanks for setting up your profile! A world of stories awaits you...")),a.a.createElement("div",{className:"image"},a.a.createElement("img",{src:"/img/onboarding-success/book_lover.svg",alt:""})),a.a.createElement("button",{className:"start-reading-button btn-primary",onClick:function(){app.router.navigate("/home",{trigger:!0})}},e("Start reading")))))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),i=n(1),s=n.n(i),l=n(3),c=n(6),u=n(48),d=n(163),m=n(89),f=n(392),p=n.n(f);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=Object(l.w)(l.f),h=function(e){var t=e.error,n=e.model,i=e.preservedVal,s=Object(o.o)().trans,f=i.email,y=i.isEmailAvailable,h=i.isBirthdayAvailable,v=b(Object(r.useState)(!1),2),E=v[0],w=v[1],O=b(Object(r.useState)(!1),2),S=O[0],C=O[1],j=b(Object(r.useState)(!1),2),N=j[0],k=j[1],T=b(Object(r.useState)(!1),2),P=T[0],_=T[1],R=b(Object(r.useState)(""),2),I=R[0],A=R[1],x=b(Object(r.useState)([""]),2),L=x[0],M=x[1],D=b(Object(r.useState)(!1),2),U=D[0],q=D[1],F=b(Object(r.useState)(""),2),B=F[0],W=F[1],H=Object(r.useRef)(),V=Object(r.useRef)(),Y=Object(r.useRef)(),G=s("Yes, I have read and agree to Wattpad's <a href='/terms'>Terms of Service</a> and <a href='/privacy'>Privacy Policy</a>."),z=s("Yes, I'd like to receive marketing emails from Wattpad. (optional)"),$=s("Get story recommendations, announcements, offers, and more via email. Unsubscribe anytime."),K=B===s("Please fix any errors to continue."),Z=function(e,t){t.toLowerCase().includes("email")?w(e):t.toLowerCase().includes("birthday")&&C(e)};Object(r.useEffect)((function(){""!==f&&y&&w(!0)}),[f]),Object(r.useEffect)((function(){M(y&&h?["isEmailAvailable","isBirthdayAvailable"]:y?["isEmailAvailable"]:h?["isBirthdayAvailable"]:["none"]),setTimeout((function(){t&&W(p()(t,s))}),500)}),[]);var X=function(e){"marketing"===e&&_(!P),"policy"===e&&(k(!N),A(!N))},J=function(e,t,n){return a.a.createElement("div",{className:"field-label"},a.a.createElement("span",{className:"field-label-text"},e),a.a.createElement("div",{"aria-label":t,"data-tip":n},a.a.createElement(d.Icon,{height:"16",iconName:"fa-info",color:"wp-neutral-1",className:"tooltip-icon"})))};return a.a.createElement("div",{className:"container-new"},a.a.createElement("div",{className:"form-wrapper"},a.a.createElement("div",{className:"form-new"},a.a.createElement("form",{id:"signupForm",method:"POST"},a.a.createElement(u.a,{className:"tool-tip",effect:"solid"}),y&&""!==f&&a.a.createElement("input",{className:"hidden",readOnly:!0,value:f,name:"email"}),(!y||""===f)&&a.a.createElement(g,{name:"email",label:s("Email"),form:"signup",inputType:"text",title:s("Enter email"),inputRef:H,validationModel:n,showLabel:!0,onValid:function(e){return Z(!0,e)},onInvalid:function(e){return Z(!1,e)}}),!h&&a.a.createElement(a.a.Fragment,null,J(s("Birthday"),s("why we ask for your birthday"),s("You need to enter the date you were born. This information will only be visible to you and Wattpad’s Support teams.")),a.a.createElement(m.a,{inputRef:V,validationModel:n,onValid:function(){return Z(!0,"birthday")},onInvalid:function(){return Z(!1,"birthday")},errorMessageOnSubmit:K?s("Birthday is required."):""})),J(s("Pronouns (optional)"),s("Why we ask for your pronouns"),s("Your pronouns are only visible to you and Wattpad's support team. Update them anytime in your profile.")),a.a.createElement(l.f,{inputType:"pronouns",id:"pronouns",name:"pronouns",defaultValue:"","aria-label":"Select Pronoun",ref:Y}),a.a.createElement("div",{className:"marketing-policy-agreement-container"},a.a.createElement(l.n,{contentId:"marketing-agreement",checked:P,onChange:function(){return X("marketing")},color:"ds-base-2-60",name:"marketing",value:P}),a.a.createElement("div",null,a.a.createElement("span",{className:"marketing-agreement"},z),a.a.createElement("span",{className:"marketing-agreement-subtext"},$))),a.a.createElement("div",{className:"email-policy-agreement-container"},a.a.createElement(l.n,{contentId:"policy-consent",required:!0,checked:N,onChange:function(){return X("policy")},onBlur:function(e){var t=e.target.checkValidity();A(t)},color:"ds-base-2-60",classname:!1===I||K?"invalid":"",name:"policy",value:N}),a.a.createElement("div",null,a.a.createElement("span",{className:"policy-agreement",dangerouslySetInnerHTML:{__html:G}}),(!1===I||K)&&a.a.createElement("span",{"aria-live":"assertive",className:"error-msg-new",role:"alert"},s("Checking this box is required.")))),a.a.createElement("input",{className:"hidden",readOnly:!0,value:"1",name:"newOnboarding"}),a.a.createElement("input",{className:"hidden",readOnly:!0,value:L,name:"formTypeValidation"}),B&&!K&&a.a.createElement("div",{className:"alert alert-danger",role:"alert"},B),a.a.createElement(c.Button,{fullWidth:!0,label:s("Sign up"),ariaLabel:s("Sign up"),className:"signup-button",onClick:function(){h||(V.current.focus(),V.current.blur()),y&&""!==f||(H.current.focus(),H.current.blur()),A(N),q(!N||!h&&!S||!(y&&""!==f||E))}}),B&&K&&a.a.createElement("span",{className:"error-msg-new text-align-center",role:"alert"},B),U&&a.a.createElement("span",{className:"error-msg-new text-align-center",role:"alert"},s("Please fix any errors to continue."))))))};h.propTypes={error:s.a.string,model:s.a.object,preservedVal:s.a.shape({email:s.a.string,isEmailAvailable:s.a.boolean,isBirthdayAvailable:s.a.boolean})},t.a=h},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(3),l=n(5),c=n(40),u=n.n(c);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(i,e);var t,n,r,o=b(i);function i(){var e;m(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(g(e=o.call.apply(o,[this].concat(n))),"removeMessaging",(function(){var t=e.props,n=t.id,r=t.groupId,a=t.partId;u.a.unmountComponentAtNode(document.getElementById("component-bannedimagemessaging-".concat(n,"-/myworks/").concat(r,"/write/").concat(a)))})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.src,n=e.trans;return a.a.createElement("div",{className:"banned-image-wrapper",contentEditable:"false",suppressContentEditableWarning:!0},a.a.createElement("div",{className:"banned-image-messaging","data-url":t},a.a.createElement(s.g,{name:"warning-triangle",size:"68",color:"wp-warning-01",viewBox:"24",className:"warning-icon"}),a.a.createElement("span",{className:"message"},n("This image has been deemed unsafe and will only be visible to you."),a.a.createElement("button",{role:"link",className:"on-learn-more btn-no-background",onClick:function(){window.open("https://support.wattpad.com/hc/en-us/articles/360020840731-Image-Moderation-on-Wattpad","_blank","noopener")}},n("Learn more")))))}},{key:"componentDidMount",value:function(){window.app.currentView.listenTo(window.app,"works:editor:remove-banned-indicator",this.removeMessaging)}},{key:"componentWillUnmount",value:function(){window.app.currentView.stopListening(window.app,"works:editor:remove-banned-indicator")}}])&&f(t.prototype,n),r&&f(t,r),i}(a.a.Component);v(E,"propTypes",{trans:i.a.func.isRequired,id:i.a.any.isRequired,src:i.a.string.isRequired,groupId:i.a.string,partId:i.a.number,cleanupBannedMessaging:i.a.func}),t.a=Object(l.n)(E)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(12),u=n.n(c),d=n(2),m=n(3),f=n(6),p=n(132),b=n.n(p);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g=function(e){var t=e.storyId,n=e.partId,o=e.title,i=e.scheduledPublishDatetime,s=e.showModal,c=e.onClose,p=Object(r.useRef)(),g=Object(d.o)().trans,h=Object(d.e)(),v=u()().isSame(u()(i),"day");return a.a.createElement(m.l,y({id:m.j.SCHEDULE_SUCCESS_MODAL_ID},{showModal:s,onClose:c},{ref:p}),a.a.createElement("header",{className:l()("schedule-success-modal-header",{"publishing-scheduler-update":h.PUBLISHING_SCHEDULER_UPDATE})},a.a.createElement(m.c,{name:"writer/schedule-part-confirmation-success@3x.png"}),a.a.createElement("h2",{className:"modal-title"},g("Your part is scheduled!")),h.PUBLISHING_SCHEDULER_UPDATE?a.a.createElement("p",{className:"text-body"},g("Your part will be published to readers automatically.")):""),a.a.createElement("div",{className:"schedule-success-modal-content"},a.a.createElement("ul",{className:"schedule-success-steps"},a.a.createElement("li",{className:"active-step"},a.a.createElement("div",{className:"active-check-icon"},a.a.createElement(m.g,{name:"check",color:"wp-neutral-5",size:18})),a.a.createElement("span",{dangerouslySetInnerHTML:{__html:g("You’ve scheduled %s to publish later",'<span class="story-title">'.concat(o,"</span>"))}})),a.a.createElement("li",{className:l()({bold:h.PUBLISHING_SCHEDULER_UPDATE})},g("Let your readers know your next part is coming")),h.PUBLISHING_SCHEDULER_UPDATE?a.a.createElement(a.a.Fragment,null,!v&&a.a.createElement("li",null,a.a.createElement("span",{dangerouslySetInnerHTML:{__html:g("We'll send you a <strong>reminder 24 hours before</strong> we publish your part.")}})),a.a.createElement("li",{className:"publish-date-step"},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:g("<strong>We'll notify you</strong> when it is visible to your readers: %s",'<span class="scheduled-date">'.concat(b()(i),"</span>"))}}))):a.a.createElement("li",{className:"publish-date-step"},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:g("We’ll publish your part automatically on %s",'<span class="scheduled-date">'.concat(b()(i),"</span>"))}}))),a.a.createElement("div",{className:"schedule-success-footer"},a.a.createElement(f.Button,{onClick:function(){var e,r;p.current.hide(),null===(e=window)||void 0===e||null===(r=e.wattpad)||void 0===r||r.utils.redirectWithParams("/myworks/".concat(t,"/write/").concat(n),{triggerPublishingScheduler:!0})},variant:f.ButtonVariant.SECONDARY,leadingIcon:f.IconNames.WpCalendar,label:g("Change schedule")}),a.a.createElement(f.Button,{onClick:function(){p.current.hide()},label:g("Continue")}))))};g.propTypes={storyId:i.a.string,partId:i.a.number,title:i.a.string,scheduledPublishDatetime:i.a.string,showModal:i.a.bool,onClose:i.a.func},t.a=g},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(3),l=n(2),c=n(4),u=n.n(c);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(){var e=Object(l.o)().trans;return i.a.createElement("div",{className:"col-xs-12"},i.a.createElement(s.c,{name:"/icons/spin/fa-loading.gif",className:"fa-spin spinner",alt:e("Spinner"),height:"48",width:"48"}))},p=function(e){var t=e.isIOS,n=e.isAndroid,r=Object(l.o)().trans,a=i.a.createElement("p",null,r("Thank you, we've received your appeal")),o=r("We ask that you leave your image in your story until we’ve processed your request."),c=n,d=c?"wattpad://home":t?"/inbox/Wattpad?success=true":"/inbox/Wattpad",m=u()("btn btn-md btn-orange",{"on-navigate":c});return i.a.createElement("div",{className:"col-xs-12 submission-success"},i.a.createElement(s.c,{name:"image-moderation/appeal-success.svg",className:"success-image"}),i.a.createElement("span",{className:"success-header"},a),i.a.createElement("span",{className:"success-info"},o),i.a.createElement("a",{href:d,className:m},r("OK, got it")))},b=function(e){var t=e.imageUrl,n=e.onSubmissionError,r=e.isIOS,a=e.isAndroid,s=Object(l.o)().trans,c=d(Object(o.useState)(!1),2),u=c[0],m=c[1],b=d(Object(o.useState)(!1),2),g=b[0],h=b[1];return i.a.createElement("div",{className:"image-appeal-flow"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},!u&&!g&&i.a.createElement("div",null,i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("h1",null,s("Appeal form")),i.a.createElement("span",{className:"form-info",dangerouslySetInnerHTML:{__html:s('This image has been flagged because it appears to violate our <a href="https://policies.wattpad.com/content" target=_blank class="on-click">%s</a>. Your readers will not be able to see this image, and there will not be an image in its place.',"Content Guidelines")}}),i.a.createElement("span",{className:"form-info"},s("If you think your image was mistakenly flagged, please describe why in the space below."))),i.a.createElement(y,{handleSubmit:function(){return m(!0),Promise.resolve($.ajax({type:"POST",url:"/v5/image_moderation/appeal",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({image_url:t})})).then((function(){m(!1),h(!0)})).catch((function(e){m(!1),h(!1),function(e){var t;switch(e){case"submitted":t=s("This image has already been appealed. Once a decision has been made, we will notify you.");break;case"resolved":t=s("Sorry, this image has already been reviewed by our team and cannot be appealed again.");break;default:t=s("Sorry, an error has occurred and we’re unable to submit your appeal. Please try again later.")}n(t)}(e.responseJSON.status)}))},imageUrl:t})),!u&&g&&i.a.createElement(p,{isIOS:r,isAndroid:a}),u&&i.a.createElement(f,null))))},y=function(e){var t=e.handleSubmit,n=e.imageUrl,r=Object(l.o)().trans,a=d(Object(o.useState)(0),2),s=a[0],c=a[1];return i.a.createElement("form",{id:"image-appeal",name:"image-appeal",className:"col-xs-12",onSubmit:function(e){e.preventDefault(),t()}},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"form-reason"},i.a.createElement("textarea",{name:"reason",id:"reason",rows:"7",placeholder:"Tell us why",maxLength:"435",onKeyUp:function(e){c(e.target.value.length)}}),i.a.createElement("span",{className:"image-info col-xs-12"},i.a.createElement("div",{className:"image-container"},i.a.createElement("img",{src:n,alt:n})),i.a.createElement("a",{href:n,className:"image-url"},n))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("span",{className:"next-steps"},r("Once we’ve reviewed your appeal, we will notify you via your inbox. If your appeal is approved your image will be restored and made visible to your readers.")))),i.a.createElement("div",{className:"row submit"},i.a.createElement("button",{className:"btn btn-md btn-orange pull-right on-send",disabled:0===s},r("Send"))))};b.propTypes={imageUrl:a.a.string.isRequired,onSubmissionError:a.a.func.isRequired,isIOS:a.a.bool,isAndroid:a.a.bool},p.propTypes={isIOS:a.a.bool,isAndroid:a.a.bool},y.propTypes={imageUrl:a.a.string.isRequired,handleSubmit:a.a.func.isRequired},t.a=b},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(68),c=n(203),u=n(3);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(){return wattpad.utils.currentUser().authenticated()},p=function(e){return"/v5/users/".concat(e,"/privacy-settings/ccpa/")},b=function(){return f()?(e=wattpad.utils.getCurrentUserAttr("username"),Promise.resolve($.get(p(e)).then((function(e){return e.optout})))):Promise.resolve(!!window.wattpad.utils.getCookie("ccpa-oo"));var e},y=function(e){return f()?function(e){var t=wattpad.utils.getCurrentUserAttr("username");return Promise.resolve($.ajax({url:p(t),type:"PUT",dataType:"json",contentType:"application/json",data:JSON.stringify({optout:e})}))}(e):Promise.resolve(window.wattpad.utils.setCookie("ccpa-oo",e,3650))},g=function(){return-1!==window.location.search.indexOf("mode=app")},h=function(){var e="/home";g()&&(e="".concat(window.location.pathname,"?").concat("mode=app","&").concat("closeWebForm=true")),wattpad.utils.redirectToServer(e)};function v(e){var t=Object(s.o)().trans,n=d(Object(r.useState)(!0),2),o=n[0],i=n[1],m=d(Object(r.useState)(!1),2),p=m[0],v=m[1],E=d(Object(r.useState)(!1),2),w=E[0],O=E[1],S=d(Object(r.useState)(e.startWithError?"startWithError enabled":null),2),C=S[0],j=S[1];a.a.useEffect((function(){b().then((function(e){v(e),O(!0)})).catch((function(){v(!1),O(!0)}))}),[]);return w?a.a.createElement(c.a,{variant:"privacy-settings text-center max-width-and-wp-bg"},a.a.createElement(l.d,{variant:"large mb",text:t("Do not sell my personal information")}),p?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"icon-holder"},a.a.createElement(u.g,{iconName:"fa-check",color:"wp-neutral-5",size:20})),a.a.createElement("p",{className:"fs-14 mb-4 neutral-100",id:"opted-out-text"},t("You have successfully opted out. Wattpad will not sell your personal information to third parties.")),!f()&&a.a.createElement("p",{className:"fs-14 mb-3 b neutral-100",dangerouslySetInnerHTML:{__html:t('To save this preference permanently, you must <a class="base-2-60" href="%s">log in</a> or <a class="base-2-60" href="%s">create an account</a>.',"/login","/signup")}}),a.a.createElement(l.b,{variant:"base-2-60 full-width",text:t("Back to Wattpad"),onClick:h})):a.a.createElement(a.a.Fragment,null,a.a.createElement(l.c,{variant:"base-2"},a.a.createElement("p",{className:"fs-14"},t("If you choose to continue sharing your information, Wattpad will be able to provide you with a better reading experience by serving you ads that are more tailored to your interests.")),a.a.createElement(l.b,{variant:"base-2-60 full-width",id:"continue-sharing-button",text:t("Continue sharing information"),onClick:h})),a.a.createElement(l.c,null,a.a.createElement("p",{className:"fs-14 mb-3"},t("If you are a California resident, you have the right to opt out of the sharing of your personal information with third parties (subject to certain exceptions) under the California Consumer Privacy Act (“CCPA”). This is known as the right to opt out of the sale of your personal information.")),a.a.createElement("div",{className:"checkbox-holder"},a.a.createElement("input",{type:"checkbox",name:"californian",id:"californian",value:"yes",onChange:function(e){i(!e.target.checked)}}),a.a.createElement("label",{htmlFor:"californian",className:"fs-12 b"},t("I am a resident of California"))),a.a.createElement(l.b,{variant:"full-width mb-1 neutral-100",disabled:o,id:"optout-button",onClick:function(e){var t;t=!0,e.preventDefault(),o||y(t).then((function(){v(t),j(null),window.wattpad.utils.setCookie("usprivacy","",-1,!0)})).then((function(){g()&&app.router.navigate("".concat(window.location.pathname,"?").concat("mode=app","&").concat("optOut","=").concat(t),{trigger:!0})})).catch((function(e){j(e)}))},text:t("Do not sell my personal information")}),C&&a.a.createElement(l.a,{variant:"fs-12 text-left mb-1",messageNode:a.a.createElement("div",{dangerouslySetInnerHTML:{__html:t('There was an error submitting your opt-out request. Please try again or <a class="base-2-60" href="%s">report the issue</a>.',"https://support.wattpad.com/hc/en-us/requests/new")}})}),a.a.createElement("p",{className:"fs-12"},a.a.createElement("em",{dangerouslySetInnerHTML:{__html:t('You can also opt out of the sale of your personal information by sending us an email at <a class="base-2-60" href="%s">%s</a>.',"mailto:privacy@wattpad.com","privacy@wattpad.com")}}))))):a.a.createElement("div",{className:"loading-spinner"},a.a.createElement(u.h,null))}v.propTypes={startWithError:i.a.bool},v.defaultProps={startWithError:!1}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(6),c=n(168),u=function(e){var t=e.draft,n=e.onPreview,r=e.onPreviewUnpublished,o=e.onSave,i=e.onCancel,u=e.onShowSettings,d=e.publishButtonSettings,m=Object(s.o)().trans;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"button-container"},t?a.a.createElement(c.b,d):a.a.createElement(l.Button,{onClick:n,size:l.ButtonSize.SMALL,label:m("Publish Changes")}),t?a.a.createElement(a.a.Fragment,null,a.a.createElement(l.Button,{onClick:o,variant:l.ButtonVariant.SECONDARY,size:l.ButtonSize.SMALL,label:m("Save")}),a.a.createElement(l.Button,{onClick:r,variant:l.ButtonVariant.SECONDARY,size:l.ButtonSize.SMALL,label:m("Preview")})):a.a.createElement(l.Button,{onClick:i,variant:l.ButtonVariant.SECONDARY,size:l.ButtonSize.SMALL,label:m("Cancel")}),a.a.createElement(l.Button,{className:"on-show-settings",onClick:u,variant:l.ButtonVariant.TERTIARY,size:l.ButtonSize.SMALL,leadingIcon:l.IconNames.WpMore})))};u.propTypes={draft:i.a.bool.isRequired,onSave:i.a.func,onPreview:i.a.func,onPreviewUnpublished:i.a.func,onCancel:i.a.func,onShowSettings:i.a.func,publishButtonSettings:i.a.shape(c.a)},t.a=u},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(7),i=n(1),s=n.n(i),l=n(4),c=n.n(l),u=n(154),d=n(150),m=n(3),f=n(5),p=n(2);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){var t=e.isNew,n=e.isPublish,o=e.onSwitchTabs,i=e.updateActiveTab,s=e.activeTab,l=Object(p.o)().trans;function u(e){var t=e.currentTarget.getAttribute("data-section");i(t),o(t)}return Object(r.useEffect)((function(){i("toc")}),[i]),a.a.createElement("div",{className:"works-edit-select"},a.a.createElement("button",{className:c()("on-switch-type",{active:"story-detail"===s||t}),"data-section":"story-detail",onClick:u},l("Story Details")),!t&&!n&&a.a.createElement("button",{className:c()("on-switch-type",{active:"toc"===s}),"data-section":"toc",onClick:u},l("Table of Contents")),!t&&a.a.createElement(S,{onTabChange:u,activeTab:s,label:l("Story Notes")}))}O.defaultProps={onSwitchTabs:function(){}},O.propTypes={isNew:s.a.bool.isRequired,isPublish:s.a.bool.isRequired,onSwitchTabs:s.a.func.isRequired,updateActiveTab:s.a.func.isRequired,activeTab:s.a.string.isRequired};t.a=Object(o.b)((function(e){return{activeTab:e.worksItemDetails.worksItemDetailsActiveTab}}),{updateActiveTab:d.b})(O);var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(i,e);var t,n,r,o=h(i);function i(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,e),n=E(t),a=function(e){localStorage.setItem("seen-planner","true"),t.setState({isNew:!1}),t.props.onTabChange(e)},(r="onClickedPlannerTab")in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.state={isNew:Object(f.o)()&&!localStorage.getItem("seen-planner")},t}return t=i,(n=[{key:"render",value:function(){return a.a.createElement("button",{className:c()("on-switch-type",{active:this.props.activeTab===u.a.NOTES}),"data-section":u.a.NOTES,onClick:this.onClickedPlannerTab},a.a.createElement("div",{id:"story-planner-tab"},this.state.isNew&&a.a.createElement("div",{id:"story-planner-new-tag-container"},a.a.createElement(m.c,{name:"shared/new-tag-2x.png",id:"storyplanner-new-tag",height:"19px",width:"40px"})),a.a.createElement("div",null,this.props.label)))}}])&&y(t.prototype,n),r&&y(t,r),i}(a.a.Component);S.propTypes={onTabChange:s.a.func.isRequired,activeTab:s.a.string.isRequired,label:s.a.string}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(3),i=n(2);t.a=function(){var e=Object(i.o)().trans;return a.a.createElement("div",{className:"acknowledge"},a.a.createElement(o.b,{defaultValue:!1,id:"acknowledge-checkbox"}),a.a.createElement("label",{htmlFor:"acknowledge-checkbox"},e("I acknowledge this is my own original work, or I have the permission from the original author to post this work. Copyright infringement may result in story deletion or account closure.")))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(5);function u(e){var t=e.story,n=e.section,r=e.trans;return a.a.createElement("nav",{className:"pull-right",id:"writer-analytics-nav-bar"},a.a.createElement("ul",null,a.a.createElement("li",{"data-section":"activities",className:l()({active:"activities"===n,"not-active":"activities"!==n})},a.a.createElement("a",{className:"on-nav-item",href:"/myworks/".concat(t.id,"/analytics/")},r("Overview"))),a.a.createElement("li",{"data-section":"interactions",className:l()({active:"interactions"===n,"not-active":"interactions"!==n})},a.a.createElement("a",{className:"on-nav-item",href:"/myworks/".concat(t.id,"/analytics/interactions")},r("Engagement"))),a.a.createElement("li",{"data-section":"demographics",className:l()({active:"demographics"===n,"not-active":"demographics"!==n})},a.a.createElement("a",{className:"on-nav-item",href:"/myworks/".concat(t.id,"/analytics/demographics")},r("Demographics")))))}u.propTypes={story:i.a.object.isRequired,section:i.a.string.isRequired,trans:i.a.func},t.a=Object(c.n)(u)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(15),l=n(2),c=n(153),u=function(e){var t=e.story,n=t.readCount,r=void 0===n?null:n,o=t.voteCount,i=void 0===o?null:o,u=t.numParts,d=void 0===u?null:u,m=Object(l.o)(),f=m.ngettext,p=m.trans;return a.a.createElement("ul",{className:"stats-list"},null!==r&&a.a.createElement("li",{className:"h5 readcount stats-list__item"},Object(s.sprintf)(f("%s Total Read","%s Total Reads",r),r),a.a.createElement(c.a,{popoverContent:{title:p("What is Total Reads?"),content:p("The total number of times your story parts have been viewed or read to any extent since they were published (all-time).")},color:"wp-neutral-5",className:"stats-list-read__info"})),null!==i&&a.a.createElement("li",{className:"h5 votecount stats-list__item"},Object(s.sprintf)(f("%s Vote","%s Votes",i),i)),null!==d&&a.a.createElement("li",{className:"h5 numparts stats-list__item"},Object(s.sprintf)(f("%s Story Part","%s Story Parts",d),d)))};u.propTypes={story:i.a.shape({readCount:i.a.number,voteCount:i.a.number,numParts:i.a.number}).isRequired},t.a=u},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(15),l=n(2),c=n(3),u=n(153),d=function(e){var t=e.story.qualifiedUniqueReaders,n=Object(l.o)(),r=n.ngettext,o=n.trans;return a.a.createElement("div",{className:"qur-label"},a.a.createElement(c.g,{className:"qur-label__book",name:"bookOpenBeta",size:"16",strokeWidth:"3",color:"ds-neutral-00-solid"}),a.a.createElement("span",{className:"h5 qur-label__text"},Object(s.sprintf)(r("%s Engaged Reader","%s Engaged Readers",t),t)),a.a.createElement(u.a,{color:"wp-neutral-5",popoverContent:{title:o("What is Engaged Readers?"),content:o("Unique readers with 5+ minutes of time spent reading your story in the last 365 days. Of your total story viewers during the same period, these readers were most interested in exploring your content.")}}))};d.propTypes={story:i.a.shape({qualifiedUniqueReaders:i.a.number.isRequired}).isRequired,handleOpenPopover:i.a.func,handleClosePopover:i.a.func},t.a=d},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(153),l=n(2),c=function(e){var t=e.title,n=e.metric,r=e.section,o=Object(l.o)().trans;return a.a.createElement("div",{className:"line-chart-header"},a.a.createElement("h2",{className:"line-chart-header__title"},t),"activities"===r&&"readers"===n&&a.a.createElement(s.a,{popoverContent:{title:o("What is Daily Unique Readers?"),content:o("The number of unique daily viewers or readers of your story over the last 30 days.")},color:"wp-neutral-1",className:"line-chart-header__info"}))};c.propTypes={title:i.a.string.isRequired,metric:i.a.string,section:i.a.string},t.a=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(10),l=n(2);function c(e){var t=e.msg,n=e.notice,r=e.nextUrl,o=Object(l.o)().trans,i="/forgot?nextUrl=".concat(r);return a.a.createElement("div",{id:"forgot-password"},a.a.createElement("header",{className:"forgot-password-header"},a.a.createElement("h2",null,o("Lost your password?")),a.a.createElement("span",{className:"instruction"},o("Type your username or email below and we'll send you instructions on how to reset it."))),a.a.createElement("div",{className:"forgot-password-body panel-body"},a.a.createElement("div",{className:"more-info",dangerouslySetInnerHTML:{__html:o('Visit <a href="https://support.wattpad.com/hc/en-us/articles/211235843-Resetting-or-changing-your-password">Wattpad Support</a> for more information')}}),a.a.createElement("hr",null),a.a.createElement("form",{action:i,method:"post"},a.a.createElement("div",{className:"form-group has-feedback","data-attr":"forgotEmail"},a.a.createElement("input",{id:"forgot-email",className:"form-control input-lg enable",name:"email",type:"text",placeholder:o("Username or Email")})),t&&a.a.createElement("div",{className:"alert alert-danger",role:"alert"},a.a.createElement(s.a,{iconName:"fa-info",height:"16",color:"wp-lighterror"})," ",t),n&&a.a.createElement("div",{className:"alert alert-info",role:"alert"},a.a.createElement(s.a,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}),n),a.a.createElement("div",{className:"row"},a.a.createElement("input",{type:"submit",className:"btn btn-primary enable submit",value:o("Send instructions")}),a.a.createElement("a",{className:"btn btn-secondary cancel",rel:"nofollow",href:"/login?nextUrl=".concat(r),"data-form":"login"},o("Cancel"))))))}c.propTypes={nextUrl:i.a.string,notice:i.a.string,msg:i.a.string}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(10),c=n(90),u=n(6);function d(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){return{error_weak_password:e("Please choose a different password. For increased security, a strong password should have lowercase, uppercase, and special characters."),error_invalid_password_length:e("Choose a password with %s to %s characters.",10,50)}},b=function(e){var t=e.authToken,n=e.isFromPushNotification,o=e.username,i=e.name,f=Object(s.o)().trans,b=m(Object(r.useState)(""),2),y=b[0],g=b[1],h=m(Object(r.useState)(!1),2),v=h[0],E=h[1],w=m(Object(r.useState)(!1),2),O=w[0],S=w[1],C=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),g(""),e.next=4,$.ajax({type:"POST",url:"apiv2/updateuserpassword",data:$(".reset-password").serialize()}).done((function(){n?S(!0):window.location.replace("/login?nexturl=home").reload()})).fail((function(e){var t;if(467===(null===(t=e.responseJSON)||void 0===t?void 0:t.code)){var n,r=null===(n=e.responseJSON)||void 0===n?void 0:n.error_code;if(Object.keys(p(f)).includes(r))g(p(f)[r]);else{var a="/forgot?nextUrl=settings&msg="+encodeURIComponent(r);window.location.replace(a).reload()}}else{var o=f("Something went wrong, your changes were not saved. ")+(e.responseJSON.message||"");wattpad.utils.showToast(o,{type:"dismissable"})}}));case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,s,"next",e)}function s(e){d(o,r,a,i,s,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:"panel-body"},O?a.a.createElement("div",{className:"form-group"},a.a.createElement("h3",null,f("Password successfully reset")),a.a.createElement("p",null,f("To continue, you need to log out of the Wattpad app on your mobile device and log in with your new password."))):a.a.createElement(a.a.Fragment,null,a.a.createElement("small",{dangerouslySetInnerHTML:{__html:f('Visit <a href="https://support.wattpad.com/hc/en-us/articles/211235843-Resetting-or-changing-your-password">Wattpad Support</a> for more information')}}),a.a.createElement("hr",null),a.a.createElement("form",{className:"reset-password"},a.a.createElement("input",{name:"at",value:t,type:"hidden"}),n&&a.a.createElement("input",{name:"isFromPushNotification",value:"true",type:"hidden"}),a.a.createElement(c.a,{validatePassword:function(e){E(e)},username:o,name:i}),y&&a.a.createElement("div",{className:"alert alert-danger",role:"alert"},a.a.createElement(l.a,{iconName:"fa-info",height:"16",color:"wp-lighterror"})," ",y),a.a.createElement("div",{className:"buttons"},a.a.createElement(u.Button,{onClick:C,fullWidth:!0,disabled:!v,label:f("Reset password"),ariaLabel:f("Reset password")}),a.a.createElement(u.Button,{className:"cancel-btn",onClick:function(e){e.preventDefault(),window.location.assign("/login")},variant:u.ButtonVariant.SECONDARY,fullWidth:!0,label:f("Cancel"),ariaLabel:f("Cancel")})))))};b.propTypes={authToken:i.a.string,isFromPushNotification:i.a.bool,username:i.a.string,name:i.a.string}},function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(0),a=n.n(r),o=n(7),i=n(149),s=n(4),l=n.n(s),c=n(1),u=n.n(c),d=n(15),m=n(156),f=n(2),p=n(3);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(){var e=Object(f.o)().trans;return a.a.createElement("div",{className:"quest-progress"},a.a.createElement("div",{className:"placeholder-container"},a.a.createElement(p.c,{name:"quests/incoming-quests.svg"}),a.a.createElement("div",{className:"title"},e("You're on your way")),a.a.createElement("div",null,e("Keep an eye out for more Quests. The more you do, the more eligible you become to have your story featured!"))))}function v(e){var t=e.title,n=e.description,r=e.is_complete,o=e.body.click_url,i=e.type;return a.a.createElement("div",{className:"quest-task"},a.a.createElement(p.b,{disabled:!0,defaultValue:r}),a.a.createElement("div",{className:"quest-task-right-content"},a.a.createElement(m.b,{type:i,link:o,isLinkable:!r},a.a.createElement("h6",{className:l()("quest-task-title",{complete:r})},t),a.a.createElement("div",{className:l()("quest-task-description",{complete:r})},n))))}function E(e){var t=e.style,n=e.description,o=e.tasks_total,i=e.tasks_completed,s=e.title,c=e.tasks,u=e.badges,p=y(Object(r.useState)(!1),2),g=p[0],h=p[1],E=Object(f.o)().ngettext,w=function(){return h(!g)},O=o-i||0;return a.a.createElement("div",{className:l()("quest-card",{expanded:g})},a.a.createElement("div",{className:"left-content",style:{background:t.banner_color}},a.a.createElement("img",{src:t.avatar_url,alt:"Quest avatar"})),a.a.createElement(m.a,{isExpandable:!g,onClick:w,className:"right-content"},a.a.createElement(m.a,{isExpandable:g,onClick:w},a.a.createElement("h3",null,s),g&&n&&a.a.createElement("div",null,n)),g&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement("hr",null)),c&&c.map((function(e){return a.a.createElement(v,b({key:e.id},e))}))),a.a.createElement("div",{className:"tasks-container"}),a.a.createElement("div",{className:"tasks-count"},Object(d.sprintf)(E("%s task left to complete","%s tasks left to complete",O),O)),u.length>0&&a.a.createElement("div",{className:"quest-badges-container"},u.map((function(e){return a.a.createElement("div",{key:e.title,className:"quest-badge"},e.title)})))))}function w(e){var t=e.loadQuests,n=e.questMapById,o=Object(f.o)().trans;Object(r.useEffect)((function(){t()}),[t]);var i=Object.values(n);return a.a.createElement("div",{id:"quests"},a.a.createElement("h3",null,o("Do these quests to become a better Wattpader!")),a.a.createElement("div",{className:"split-view"},a.a.createElement("div",{className:"quest-cards"},i.map((function(e){return a.a.createElement(E,b({key:e.id},e))}))),i.length>0&&a.a.createElement(h,null)))}v.propTypes={title:u.a.string,description:u.a.string,is_complete:u.a.bool,body:u.a.object,type:u.a.string},v.defaultProps={body:{click_url:"",tracking_url:""},type:""},E.propTypes={id:u.a.number,description:u.a.string,tasks_total:u.a.number,tasks_completed:u.a.number,title:u.a.string,style:u.a.object,tasks:u.a.array,badges:u.a.array},E.defaultProps={tasks_total:0,style:{},badges:[]},w.propTypes={loadQuests:u.a.func,questMapById:u.a.object};var O=Object(o.b)((function(e){return{questMapById:e.quests.mapById}}),{loadQuests:i.c})(w)},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),a=n.n(r),o=n(7),i=n(149),s=n(1),l=n.n(s),c=n(2),u=n(3),d=n(156);function m(e){var t=e.loadEmbeddedQuests,n=e.embeddedType,o=e.embeddedQuests,i=e.username,s=Object(c.o)().trans;Object(r.useEffect)((function(){t(n)}),[t,n]);var l=o&&o[0];if(!l)return null;var m,f=l.tasks&&l.tasks.find((function(e){return!e.is_complete}));return m=f?a.a.createElement(d.b,{type:f.type,link:f.body&&f.body.click_url,isLinkable:!0},a.a.createElement("div",{className:"panel panel-default2 panel-embedded-quest"},a.a.createElement("img",{src:l.style&&l.style.avatar_url,alt:"".concat(n," avatar")}),a.a.createElement("div",{className:"right-content"},a.a.createElement("div",{className:"banner-title"},f.title),a.a.createElement("div",null,f.description)))):a.a.createElement("div",{className:"panel panel-default2 panel-embedded-quest completed-banner"},a.a.createElement("img",{src:l.style&&l.style.avatar_url,alt:"".concat(n," avatar")}),a.a.createElement("div",{className:"right-content"},a.a.createElement("div",{className:"banner-title"},s("Congrats, you’ve completed all recommended tasks.")),a.a.createElement("div",null,s("You’re well on your way to becoming a superstar writer. Keep the momentum up by completing more tasks. The more you do the closer you are to getting featured on a special Featured List.")))),a.a.createElement("div",{id:"embedded-quests"},a.a.createElement("div",{className:"header"},a.a.createElement("span",{className:"title"},l.title,": "),a.a.createElement("span",{dangerouslySetInnerHTML:{__html:s("<strong>%s</strong> of %s completed",l.tasks_completed,l.tasks_total)}})),m,a.a.createElement("a",{className:"link-quests right-icon",href:"/user/".concat(i,"/quests")},a.a.createElement(u.g,{name:"arrowRight",size:20}),s("Complete more tasks and get featured")," "))}m.propTypes={loadEmbeddedQuests:l.a.func,embeddedType:l.a.string.isRequired,embeddedQuests:l.a.array,username:l.a.string};var f=Object(o.b)((function(e,t){return{embeddedQuests:e.quests.mapByEmbeddedType[t.embeddedType]}}),{loadEmbeddedQuests:i.b})(m);f.defaultProps={embeddedType:"profile-about",embeddedQuests:[]}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(4),i=n.n(o),s=n(1),l=n.n(s),c=n(2),u=n(3),d=function(e){var t=e.className,n=Object(c.o)().trans;return a.a.createElement("div",{className:"container"},a.a.createElement("a",{href:"/catalog/premiumpicks",className:i()(t,"premium-picks-banner","on-navigate")},a.a.createElement("div",{className:"premium-picks-image-container"},a.a.createElement(u.c,{className:"premium-picks-image",name:"library/premium-picks-banner-books.png",title:n("Stack of books")})),a.a.createElement("div",{className:"content"},a.a.createElement("h2",{className:"heading"},n("Explore this month's Premium Picks")," ",a.a.createElement("div",{className:"access-expires-pill"},a.a.createElement(u.g,{name:"timeout",size:"12",className:"timeout",color:"ds-neutral-100",strokeWidth:"1",fill:!0}),n("Expiring in")," ",a.a.createElement(u.d,{date:new Date((new Date).getFullYear(),(new Date).getMonth()+1,1,0,0,0,0),showDays:!0,showHours:!0,updateInterval:60}))),a.a.createElement("div",{className:"description"},n("Access 5 Wattpad Originals every month with any Premium or Premium+ plan."))),a.a.createElement(u.g,{name:"roundArrowRight",size:"16",className:"right-arrow",color:"ds-neutral-100",viewBox:"16",strokeWidth:"0",fill:!0})))};d.propTypes={className:l.a.string},t.a=d},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(6),l=n(2),c=n(5),u=function(e){var t=e.group,n=e.modifyDate,r=e.nextPart,o=Object(l.o)().trans,i=t.completed,u=t.title,d=o("Last updated: %s",Object(c.e)(n,{fuzzyTime:!0})),m=o("You've finished reading %s",'<span class="title">'.concat(u,"</span>"));return a.a.createElement("div",{id:"story-part-navigation"},!r&&(i?a.a.createElement("div",{className:"message"},a.a.createElement("div",{className:"top-message",dangerouslySetInnerHTML:{__html:"🎉 ".concat(m," 🎉")}})):a.a.createElement("div",{className:"message"},a.a.createElement("div",{className:"top-message"},o("You've reached the end of published parts.")),a.a.createElement("p",{className:"last-updated-text"},"⏰ ".concat(d," ⏰")),a.a.createElement("p",{className:"bottom-message"},o("Add this story to your Library to get notified about new parts!")))),(r||!i)&&a.a.createElement(s.Button,{href:null==r?void 0:r.url,fullWidth:!0,disabled:!r,label:o("Continue to next part")}))};u.propTypes={group:i.a.object,modifyDate:i.a.string,nextPart:i.a.object},t.a=u},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(213),l=n(23),c=n(30);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e){var t,n=e.id,o=e.group,i=e.deeplinkData,d=e.adData,m=u(Object(r.useState)(!1),2),f=m[0],p=m[1],b=u(Object(r.useState)(void 0),2),y=b[0],g=b[1],h={page:"comment",storyid:parseInt(null==o?void 0:o.id),partid:parseInt(n),entity_type:"comment",sentiment_type:"like"},v=function(){g(Object(c.m)(i.commentId)),p(!0)};return Object(r.useEffect)((function(){null!=i&&i.paragraphId?(window.app.on(l.f,v),window.app.on(l.e,(function(){return p(!0)}))):null!=i&&i.commentId?v():p(!0)}),[i]),a.a.createElement("div",{id:"story-part-comments"},f&&a.a.createElement(s.a,{partId:n,storyAuthor:null==o||null===(t=o.user)||void 0===t?void 0:t.username,location:l.d.STORY_PART,initialLimit:l.h,sentimentEventData:h,initialComment:y,adData:"mobile"===(null==d?void 0:d.deviceType)?d:void 0}))};m.propTypes={id:i.a.number.isRequired,group:i.a.object,deeplinkData:i.a.shape({commentId:i.a.string.isRequired,paragraphId:i.a.string}),adData:l.a},t.a=m},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(3),i=n(2);t.a=function(){var e=Object(i.o)().trans;return a.a.createElement("div",{className:"validation-success"},a.a.createElement("div",{className:"message-wrapper"},a.a.createElement("div",{className:"animation-wrapper"},a.a.createElement(o.i,{animationId:"validation-success-animation",animationOptions:{animType:"svg",loop:!1,path:"/img/lottie-animations/success.json"}})),a.a.createElement("h1",null,"Success!"),a.a.createElement("p",null,e("Your email is verified and sign-up is complete. Enjoy!")),a.a.createElement("a",{className:"btn-primary",href:"/home"},e("Continue"))))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(2),u=function(e){var t=e.searchTerm,n=void 0===t?"":t,r=e.resultType,o=Object(c.o)().trans;return a.a.createElement("div",{className:"container"},a.a.createElement("nav",{id:"tabs",className:"search-tabs"},a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("a",{href:"/search/".concat(encodeURIComponent(n),"/stories"),"data-target":"stories",className:l()("on-tab-navigate",{active:"stories"===r})},o("Stories"))),a.a.createElement("li",null,a.a.createElement("a",{href:"/search/".concat(encodeURIComponent(n),"/people"),"data-target":"people",className:l()("on-tab-navigate",{active:"people"===r})},o("Profiles"))))))};u.propTypes={searchTerm:i.a.string,resultType:i.a.string},t.a=u},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(3),c=function(e){var t=e.resultType,n=Object(s.o)().trans,r=n("stories"===t?"Try a different search to see if we can find you some stories to read":"Try a different search to see if we can find you the user you’re looking for");return a.a.createElement("div",{className:"empty-search-results"},a.a.createElement(l.c,{name:"search/no-results.svg",title:""}),a.a.createElement("div",{className:"message"},a.a.createElement("h4",null,n("Hmmm...there are no results")),a.a.createElement("p",{className:"message"},r)))};c.propTypes={resultType:i.a.string.isRequired},t.a=c},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(199),l=n(196),c=function(e){var t=e.bannerMessages,n=e.isMobile,r=e.searchTerm,o=e.handleSearchSubmit,i=e.handleSaveSearchTerm;return a.a.createElement(a.a.Fragment,null,n&&a.a.createElement(l.a,{searchTerm:r,handleSaveSearchTerm:i,handleSearchSubmit:o}),(null==t?void 0:t.length)>0&&a.a.createElement(s.a,{bannerMessages:t}))};c.defaultProps={isMobile:!1,bannerMessages:[],handleSearchSubmit:function(){},handleSaveSearchTerm:function(){}},c.propTypes={bannerMessages:i.a.arrayOf(i.a.string),isMobile:i.a.bool,searchTerm:i.a.string.isRequired,handleSearchSubmit:i.a.func,handleSaveSearchTerm:i.a.func},t.a=c},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(198),l=n(201),c=function(e){var t=e.recentSearches,n=e.browseTopics;return!e.searchTerm&&a.a.createElement("div",{className:"blank-search"},a.a.createElement("div",{className:"recent-searches"},a.a.createElement(s.a,{suggestedSearchTerms:t})),a.a.createElement("div",{id:"browse-topics"},a.a.createElement(l.a,{browseTopics:n})))};c.propTypes={recentSearches:i.a.array,browseTopics:i.a.array,searchTerm:i.a.string},t.a=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=function(e){var t=e.siteRoot,n=e.googleClientId,r=e.testGroups.GOOGLE_FEDCM_MIGRATION;return a.a.createElement(a.a.Fragment,null,r?a.a.createElement("div",{id:"g_id_onload","data-client_id":n,"data-login_uri":"".concat(t,"/oauth-auth"),"data-is_one_tap":"true","data-cancel_on_tap_outside":"false","data-use_fedcm_for_prompt":"true"}):a.a.createElement("div",{id:"g_id_onload","data-client_id":n,"data-login_uri":"/oauth-auth","data-is_one_tap":"true","data-prompt_parent_id":"g_id_onload","data-cancel_on_tap_outside":"false",style:{position:"fixed",top:"7%",right:"25px",zIndex:1021}}))};s.propTypes={siteRoot:i.a.string.isRequired,googleClientId:i.a.string.isRequired,testGroups:i.a.objectOf(i.a.bool)}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(7),l=n(3),c=n(5),u=n(4),d=n.n(u),m=n(2);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e){var t=f(Object(r.useState)(!1),2),n=t[0],o=t[1],i=f(Object(r.useState)(null),2),s=i[0],l=i[1];return Object(m.a)(s,(function(){return o(!1)})),a.a.createElement("div",{id:e.id,ref:function(e){return l(e)},className:d()("dropdown",{visible:n})},a.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),o(!n)}},e.label,a.a.createElement("span",{className:"caret"})),n?e.children:null)};b.propTypes={id:i.a.string,label:i.a.string,children:i.a.object};var y=b;function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var a=S(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C,j,N,k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(i,e);var t,n,r,o=w(i);function i(){return h(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.trans;return a.a.createElement("div",{className:"dropdown-menu large","aria-labelledby":"community-dropdown"},a.a.createElement("ul",{"aria-label":"Community"},a.a.createElement("li",null,a.a.createElement("a",{href:"https://www.wattpad.com/awards",target:"_blank",rel:"noopener noreferrer"},e("The Wattys"))),a.a.createElement("li",null,a.a.createElement("a",{href:"https://www.wattpad.com/story/25279524",target:"_blank",rel:"noopener noreferrer"},e("Community Happenings"))),a.a.createElement("li",null,a.a.createElement("a",{href:"https://www.wattpad.com/823619",target:"_blank",rel:"noopener noreferrer"},e("Wattpad Ambassadors")))))}}])&&v(t.prototype,n),r&&v(t,r),i}(r.Component);C=k,j="propTypes",N={trans:i.a.func.isRequired},j in C?Object.defineProperty(C,j,{value:N,enumerable:!0,configurable:!0,writable:!0}):C[j]=N;var T=k,P=function(){return a.a.createElement("div",{className:"dropdown-menu large","aria-labelledby":"writer-opportunities-dropdown"},a.a.createElement("ul",{"aria-label":"Writer-Opportunities",className:"writer-opportunities-dropdown-list"},a.a.createElement("li",null,a.a.createElement("a",{href:"https://creators.wattpad.com/",target:"_blank",rel:"noopener noreferrer"},"Writer Resources")),a.a.createElement("li",null,a.a.createElement("a",{href:"https://creators.wattpad.com/programs-and-opportunities/",target:"_blank",rel:"noopener noreferrer"},"Writer Programs")),a.a.createElement("li",null,a.a.createElement("a",{href:"https://www.wattpad.com/go/writing-contests/",target:"_blank",rel:"noopener noreferrer"},"Writer Contests"))))};function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e){var t=e.browseTopics,n=e.curatedLists,r=Object(m.o)().trans,o=1===parseInt(app.get("language"),10);return a.a.createElement("div",{className:"dropdown-menu large","aria-labelledby":"browse-dropdown"},a.a.createElement("div",{className:"col-xs-9 discover-categories"},a.a.createElement("ul",{className:"row"},a.a.createElement("li",{className:"title col-xs-12","aria-label":"Browse Topics"},r("Browse")),t.map((function(e){var t=e.name,n=e.topic,o=e.browseURL||wattpad.utils.categoryNameToUrl(t);return a.a.createElement("li",{className:"col-xs-4",key:t},a.a.createElement("a",{className:"on-navigate",href:o},r(n)))})))),o&&a.a.createElement("div",{className:"col-xs-3 wattpad-picks"},a.a.createElement("ul",{className:"row"},a.a.createElement("li",{className:"title col-xs-12","aria-label":"Wattpad Picks"},r("Wattpad Picks")),n.map((function(e){var t=e.name,n=e.id;return a.a.createElement("li",{className:"col-xs-12",key:t},a.a.createElement("a",{href:"/featured/".concat(n)},r(t)))})))))}I.propTypes={browseTopics:i.a.array.isRequired,curatedLists:i.a.array.isRequired};var A=function(){var e=Object(m.o)().trans,t=_(Object(r.useState)([]),2),n=t[0],o=t[1],i=_(Object(r.useState)([]),2),s=i[0],l=i[1];return Object(r.useEffect)((function(){var e=new app.collections.ReadingLists([],{username:"WattpadExplorer"}),t=new app.collections.BrowseTopics;Promise.all([e.fetchNextSet(),t.fetch()]).then((function(){o(wattpad.utils.sortByColumns(t.toJSON(),3)),l(e.toJSON())}))}),[]),a.a.createElement(y,{id:"discover-dropdown",label:e("Browse")},a.a.createElement(I,{browseTopics:n,curatedLists:s}))};function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var a=F(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return q(this,n)}}function q(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(i,e);var t,n,r,o=U(i);function i(){return L(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.trans;return a.a.createElement("form",{id:"header-item-search",name:"search",role:"search",action:"/search/",method:"GET",autoComplete:"off"},a.a.createElement("button",{type:"submit"},a.a.createElement(l.g,{iconName:"fa-search",color:"wp-neutral-1",height:"16"})),a.a.createElement("input",{id:"search-query",name:"q",type:"text",spellCheck:"false",placeholder:e("Search"),"aria-label":"Search"}),a.a.createElement("input",{type:"hidden",name:"ref",value:"1"}))}}])&&M(t.prototype,n),r&&M(t,r),i}(r.Component);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K(e);if(t){var a=K(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return z(this,n)}}function z(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?$(e):t}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(B,"propTypes",{trans:i.a.func.isRequired});var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(i,e);var t,n,r,o=G(i);function i(){var e;H(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Z($(e=o.call.apply(o,[this].concat(n))),"changeLanguage",(function(e){wattpad.utils.setCookie("locale",e,3650,!0),window.location.reload()})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props.translatedLangs;return a.a.createElement("ul",{id:"language-options",className:"dropdown-menu align-right columns"},t.map((function(t){return a.a.createElement("li",{key:t.id,className:"col-xs-4 col-sm-3"},a.a.createElement("a",{href:"#",onClick:function(n){n.preventDefault(),e.changeLanguage(t.locale)}},t.name))})))}}])&&V(t.prototype,n),r&&V(t,r),i}(r.Component);Z(X,"propTypes",{translatedLangs:i.a.array.isRequired});var J=X;function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe(e);if(t){var a=oe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ae(this,n)}}function ae(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(i,e);var t,n,r,o=re(i);function i(){return ee(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.trans,r=t.translatedLangs,o=t.locale,i=r.find((function(e){return e.locale===o}));return a.a.createElement("nav",{id:"WPNavbar",className:"container"},a.a.createElement("div",{id:"header-item-logo"},a.a.createElement("a",{href:"/",className:"on-navigate",title:"Wattpad Home","aria-label":"Home"},a.a.createElement(l.c,{name:"/logos/wp-logo-orange.png",title:"Wattpad",width:"123",className:"wp-logo hidden-xs"}))),a.a.createElement(A,null),function(e){return"en"===e.code}(i)&&a.a.createElement(y,{id:"writer-opportunities-dropdown",label:n("Writer Opportunities")},a.a.createElement(P,null)),a.a.createElement(y,{id:"community-dropdown",label:n("Community")},a.a.createElement(T,{trans:n})),a.a.createElement(B,{trans:n}),a.a.createElement("div",{id:"authentication"},a.a.createElement("div",null,a.a.createElement("button",{className:"btn btn-sm",onClick:function(){e.props.toggleModal({type:"login"})}},n("Log in"))),a.a.createElement(y,{id:"language-dropdown",label:i.name},a.a.createElement(J,{translatedLangs:r}))))}}])&&te(t.prototype,n),r&&te(t,r),i}(r.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ie,"propTypes",{toggleModal:i.a.func,trans:i.a.func.isRequired,translatedLangs:i.a.array.isRequired,locale:i.a.string.isRequired});var se=Object(s.b)((function(e){return{translatedLangs:e.appData.translatedLangs,locale:e.userData.locale}}))(Object(c.n)(ie)),le=function(e){return[{name:e("Writing Contests"),description:e("Enter writing contests to get published, win awards, and partner with global brands."),img:"/landing/writing-contests.png",url:"https://www.wattpad.com/go/writing-contests/",id:"contests"},{name:e("The Wattys"),description:e("Wattpad’s annual awards program committed to celebrating the best stories around the world."),img:"/landing/wattys_avatar.png",url:"https://wattys.wattpad.com",id:"wattys"},{name:e("Wattpad Picks"),description:e("Get featured on our hand-picked reading list."),img:"/landing/wp-picks.png",url:"https://www.wattpad.com/featured/551324301",id:"picks"}]},ce=[{quoteText:"Working with Wattpad Studios is like a dream. Not only do they care about your success, but also staying true to your vision.",author:"KARA BARBIERI (@PANDEAN)",about:"Kara Barbieri is a twenty-two year old author with a love for the weird and mystic. Her debut novel, WHITE STAG, will be published by Wednesday Books/Macmillan in January 2019.",cover:"/landing/white-stag.png",url:"/story/51067091-white-stag-permafrost-1",id:"white_stag"},{quoteText:"When I joined Wattpad, I gained a second family who were as passionate about reading and writing as I am.",author:"ALI NOVAK (@FALLZSWIMMER)",about:"Ali Novak is a Wisconsin native and a graduate of the University of Wisconsin-Madison's creative writing program. She started writing her debut novel My Life with the Walter Boys when she was only fifteen. Since then, her work has received more than 150 million hits online and My Life with the Walter Boys has been optioned for television by Komixx Entertainment and Sony Pictures Television.",cover:"/landing/walter-boys.png",url:"/story/80479-my-life-with-the-walter-boys-wattpad-version",id:"walter_boys"},{quoteText:"Being a Wattpad Star is the foundation for everything I do as a writer, from the behind the scenes wrangling to the big, game-changing projects.",author:"BEN SOBIECK (@BENSOBIECK)",about:"Benjamin Sobieck is a Wattpad Star and editor of “The Writer’s Guide to Wattpad,” published in August 2018 by Writer’s Digest Books and featuring contributions by 23 Wattpad Stars, ambassadors, and staff. His stories on Wattpad, such as “When the Black-Eyed Children Knock,” have drawn more than 1.5 million reads.",cover:"/landing/black-eye.png",url:"/story/59324321-black-eye-confessions-of-a-fake-psychic-detective",id:"black_eye"},{quoteText:"Having been active on Wattpad for several  years, I knew it would be the perfect platform for a thriller with lots of cliffhangers for readers to discuss. Teen horror is my passion, so I can’t wait to be able to share Light as a Feather with other horror aficionados on Hulu.",author:"ZOE AARSEN (@ZAARSENIST)",about:"Zoe Aarsen is a graphic designer and copywriter. Her first paranormal YA novel, Light as a Feather, Stiff as a Board, is being published by Simon & Schuster and turned into a television series on Hulu.",cover:"/landing/feather.png",url:"/story/5949534-light-as-a-feather-stiff-as-a-board",id:"light_as_a_feather"},{quoteText:"The Wattpad Stars Program gave me opportunities I never thought possible. It connected me to a world that I had only imagined. I don’t know how else to say it. It changed my life!",author:"ISABELLE RONIN (@ISABELLERONIN)",about:"Chasing Red was one of 2016’s most-read stories on Wattpad -- and that was just the beginning for this Winnipeg-Manitoba-based writer. In a single year, her explosive hit has racked up over 127 million reads on Wattpad. Newly edited and expanded, the book was split into two and hit bookstore shelves in 2017.",cover:"/landing/chasing-red.png",url:"/story/18024139-chasing-red",id:"chasing_red"}];function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ye(e);if(t){var a=ye(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return be(this,n)}}function be(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(i,e);var t,n,r,o=pe(i);function i(){return de(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props.trans;return a.a.createElement("div",{id:"Hero"},a.a.createElement("div",{className:"container content"},a.a.createElement("div",null,a.a.createElement("h2",null,t("Hi, we're Wattpad.")),a.a.createElement("h3",null,t("The world's most-loved social storytelling platform")),a.a.createElement("h4",null,t("Wattpad connects a global community of %s million readers and writers through the power of story.",85)),a.a.createElement("div",{className:"buttons"},a.a.createElement("button",{className:"btn btn-md btn-orange",onClick:function(){e.props.toggleModal({type:"signup",source:"reader_top"})}},t("Start Reading")),a.a.createElement("button",{className:"btn btn-md btn-orange",onClick:function(){e.props.toggleModal({type:"signup",source:"writer_top"})}},t("Start Writing")))),a.a.createElement("div",{className:"imageContainer"},a.a.createElement(l.c,{name:"landing/hero-devices.png",title:"hero-devices"}))))}}])&&me(t.prototype,n),r&&me(t,r),i}(r.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ge,"propTypes",{toggleModal:i.a.func,trans:i.a.func.isRequired});var he=Object(c.n)(ge);function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e){return function(e){if(Array.isArray(e))return we(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Te(e);if(t){var a=Te(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ke(this,n)}}function ke(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(i,e);var t,n,r,o=Ne(i);function i(){return Se(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.trans;return a.a.createElement("div",{id:"HowWattpadWorks"},a.a.createElement("div",{className:"container content"},a.a.createElement("h2",null,e("How Wattpad Works")),a.a.createElement("p",null,e("Get your story discovered through the power of community and technology on Wattpad.")),a.a.createElement("div",{id:"steps"},function(e){return[{number:1,title:e("Create"),description:e("Share your unique voice and original story on Wattpad. Find the writing resources you need to craft a story only you can tell."),stat:{count:e("50+"),title:e("Writing Resources")}},{number:2,title:e("Build"),description:e("Establish a global fan base as your story gains readership and momentum. Connect with other like-minded writers through storytelling."),stat:{count:e("%s <span>MILLION</span>",85),title:e("Readers")}},{number:3,title:e("Amplify"),description:e("Gain Wattpad Star status and get your story published or adapted into film or television with Wattpad Books and Wattpad Studios!"),stat:{count:e("1000+"),title:e("Story deals")}}]}(e).map((function(e){return a.a.createElement(Re,Oe({},e,{key:e.number}))})))))}}])&&Ce(t.prototype,n),r&&Ce(t,r),i}(r.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Pe,"propTypes",{mobile:i.a.bool,trans:i.a.func.isRequired});var _e=Object(c.n)(Pe),Re=function(e){var t=e.number,n=e.title,r=e.description,o=e.stat;return a.a.createElement("div",{className:"stepContainer"},a.a.createElement("div",{className:"step"},a.a.createElement("h2",{className:"number"},t),a.a.createElement("div",null,a.a.createElement("h3",{className:"title"},n),a.a.createElement("p",{className:"description"},r))),a.a.createElement("div",{className:"dots"},Ee(Array(6)).map((function(e,t){return a.a.createElement("span",{className:"dot",key:t})}))),a.a.createElement("div",{className:"statBubble"},a.a.createElement("div",null,a.a.createElement("div",{className:"count",dangerouslySetInnerHTML:{__html:o.count}}),a.a.createElement("div",{className:"title"},o.title))))};Re.propTypes={number:i.a.number,title:i.a.string,description:i.a.string,stat:i.a.object};var Ie=n(83),Ae=function(e,t){wattpad.utils.pushEvent({category:"new_landing",action:"click:".concat(e)}),t&&window.open(t,"_blank")};function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Me(e){return function(e){if(Array.isArray(e))return De(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=He(e);if(t){var a=He(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return We(this,n)}}function We(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(i,e);var t,n,r,o=Be(i);function i(){return Ue(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return a.a.createElement("div",{id:"Carousel"},a.a.createElement("div",{className:"container"},a.a.createElement(Ie.a,{autoplay:!0,wrapAround:!0,heightMode:"max",renderCenterLeftControls:null,renderBottomCenterControls:null,renderCenterRightControls:function(e){var t=e.nextSlide;return a.a.createElement("div",{onClick:t,onKeyDown:t,role:"button",tabIndex:"0"},a.a.createElement(l.c,{name:"/landing/next-btn.svg"}))},renderBottomRightControls:function(e){var t=e.currentSlide,n=e.slideCount,r=e.goToSlide;return a.a.createElement("div",{className:"controls"},Me(Array(n)).map((function(e,n){var o=d()("control",{active:n===t});return a.a.createElement("div",{className:o,key:n,onClick:function(){r(n)},onKeyDown:function(){r(n)},role:"tab",tabIndex:"0"})})))}},ce.map((function(e){return a.a.createElement(Ye,Le({},e,{key:e.id}))})))))}}])&&qe(t.prototype,n),r&&qe(t,r),i}(r.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ve,"propTypes",{mobile:i.a.bool});var Ye=function(e){var t=e.quoteText,n=e.author,r=e.about,o=e.cover,i=e.url,s=e.id;return a.a.createElement("div",{className:"slide"},a.a.createElement("div",{className:"cover-container",onClick:function(){Ae(s,i)},onKeyDown:function(){Ae(s,i)},role:"link","aria-roledescription":"slide",tabIndex:"0"},a.a.createElement(l.c,{name:o,title:o})),a.a.createElement("div",{className:"details"},a.a.createElement("div",{className:"quote"},a.a.createElement("p",{className:"text"},t),a.a.createElement("p",{className:"author"},n)),a.a.createElement("p",{className:"about"},r),a.a.createElement("button",{id:"startReading",className:"btn btn-md btn-teal",onClick:function(){Ae(s,i)}},"Start Reading")))};function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qe(e);if(t){var a=Qe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Je(this,n)}}function Je(e,t){return!t||"object"!==Ge(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Ye.propTypes={quoteText:i.a.string,author:i.a.string,about:i.a.string,cover:i.a.string,url:i.a.string,id:i.a.string,mobile:i.a.bool};var et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(i,e);var t,n,r,o=Xe(i);function i(){return $e(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.trans;return a.a.createElement("div",{id:"Links"},function(e){return[{title:e("Get Discovered"),id:"GetDiscovered",links:le(e)}]}(e).map((function(e){return a.a.createElement("div",{id:e.id,key:e.id},a.a.createElement("div",{className:"container"},a.a.createElement("h3",null,e.title),a.a.createElement("div",{className:"links"},e.links.map((function(e){return a.a.createElement(nt,ze({},e,{key:e.id}))})))))})))}}])&&Ke(t.prototype,n),r&&Ke(t,r),i}(r.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(et,"propTypes",{mobile:i.a.bool,trans:i.a.func.isRequired});var tt=Object(c.n)(et),nt=function(e){var t=e.name,n=e.description,r=e.img,o=e.url,i=e.id,s=e.className;return a.a.createElement("div",{className:d()("link",s),onClick:function(){Ae(i,o)},onKeyDown:function(){Ae(i,o)},role:"link",tabIndex:"0"},a.a.createElement("div",{className:"image"},a.a.createElement(l.c,{name:r,title:t})),a.a.createElement("div",{className:"info"},a.a.createElement("h4",null,t),a.a.createElement("p",null,n)))};function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function st(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ct(e);if(t){var a=ct(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return lt(this,n)}}function lt(e,t){return!t||"object"!==rt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}nt.propTypes={name:i.a.string,description:i.a.string,img:i.a.string,url:i.a.string,id:i.a.string,className:i.a.string};var ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&it(e,t)}(i,e);var t,n,r,o=st(i);function i(){return at(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props.trans;return a.a.createElement("div",{id:"TakeWPWithYou"},a.a.createElement("div",{className:"container content"},a.a.createElement("h3",null,t("Take Wattpad With You")),a.a.createElement("p",null,t("Read and write anywhere, even offline.")),a.a.createElement("div",{className:"buttons"},a.a.createElement("button",{className:"btn btn-md btn-orange",onClick:function(){e.props.toggleModal({type:"signup",source:"reader_bot"})}},t("Start Reading")),a.a.createElement("button",{className:"btn btn-md btn-orange",onClick:function(){e.props.toggleModal({type:"login"})}},t("Start Writing"))),a.a.createElement(l.c,{className:"devices",name:"landing/footer-devices.png",title:"devices"})))}}])&&ot(t.prototype,n),r&&ot(t,r),i}(r.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ut,"propTypes",{toggleModal:i.a.func,trans:i.a.func.isRequired});var dt=Object(c.n)(ut);function mt(e){var t=e.leftPart,n=e.rightPart,r=e.className;return a.a.createElement("div",{className:d()("container content",r)},t,n)}function ft(){var e=Object(m.o)().trans;return a.a.createElement(mt,{className:"studiosContainer",rightPart:a.a.createElement("div",{className:"imageContainer"},a.a.createElement(l.c,{width:"348",name:"/landing/wattpadBooksPoster.png",title:"wattpad books poster"})),leftPart:a.a.createElement("div",{className:"textContainer"},a.a.createElement(l.c,{width:"190",name:"/landing/wattpadBooksLogo.svg",title:"Wattpad Studios logo"}),a.a.createElement("h3",null,e("Your voice belongs on bookshelves")),a.a.createElement("p",{className:"constrainedText"},e("Wattpad Books aspires to recognize and reflect diverse voices by taking Wattpad stories to published book and onto bookshelves around the world.")),a.a.createElement("p",null,e("Wattpad Books works with partners such as:")),a.a.createElement(l.c,{className:"partner",width:"110",name:"/landing/macmillan.png",title:"macmillan Publishers logo"}),a.a.createElement(l.c,{className:"partner",width:"87",name:"/landing/anvil.png",title:"Anvil Publishing logo"}),a.a.createElement(l.c,{className:"partner",width:"97",name:"/landing/penguin.png",title:"Penguin Random House UK logo"}))})}function pt(){var e=Object(m.o)().trans;return a.a.createElement(mt,{rightPart:a.a.createElement("div",{className:"textContainer"},a.a.createElement(l.c,{width:"203",name:"/landing/wattpadStudiosLogo.svg",title:"Wattpad Studios logo"}),a.a.createElement("h3",null,e("Your original story could be the next big hit")),a.a.createElement("p",{className:"constrainedText"},e("Wattpad Studios discovers untapped, unsigned, and talented writers on Wattpad and connects them to global multi-media entertainment companies.")),a.a.createElement("p",null,e("Wattpad Studios works with partners such as:")),a.a.createElement(l.c,{className:"partner",width:"31",name:"/landing/sony.svg",title:"Sony logo"}),a.a.createElement(l.c,{className:"partner",width:"61",name:"/landing/hulu.svg",title:"Hulu logo"}),a.a.createElement(l.c,{className:"partner",width:"81",name:"/landing/syfy.svg",title:"SYFY logo"})),leftPart:a.a.createElement("div",{className:"imageContainer"},a.a.createElement(l.c,{width:"414",name:"/landing/wattpadStudiosPoster.png",title:e("Wattpad Studios TV and film projects collage"),alt:e("Wattpad Studios TV and film projects collage")}))})}mt.propTypes={leftPart:i.a.object.isRequired,rightPart:i.a.object.isRequired,className:i.a.string};var bt=function(){var e=Object(m.o)().trans;return a.a.createElement("div",{id:"BrandPartnershipsBanner"},a.a.createElement("img",{className:"company-logo",alt:"",src:"/img/landing/company-logo.svg"}),a.a.createElement("div",{className:"content"},a.a.createElement("img",{className:"brand-partnerships-logo",alt:"",src:"/img/landing/brand-partnerships-logo.svg"}),a.a.createElement("h2",{className:"title"},e("The world’s most positive platform for brands to engage Gen Z.")),a.a.createElement("p",{className:"subtitle"},e("If you’re a business, click below to learn more.")),a.a.createElement("a",{className:"button",href:"https://brands.wattpad.com",target:"_blank",rel:"noopener noreferrer"},e("Learn more"))))};function yt(){var e=Object(m.o)().trans;return a.a.createElement("div",{className:"seeYourStoryContainer"},a.a.createElement("h3",null,e("See Your Story...")),a.a.createElement("div",{className:"itemContainer"},a.a.createElement("div",{className:"item"},a.a.createElement(l.c,{name:"/landing/tv-icon.svg",title:"tv"}),e("Get produced to movie or film")),a.a.createElement("div",{className:"item"},a.a.createElement(l.c,{name:"/landing/reel-icon.svg",title:"reel"}),e("Get adapted to a TV series")),a.a.createElement("div",{className:"item"},a.a.createElement(l.c,{name:"/landing/book-icon.svg",title:"book"}),e("Get published"))))}var gt=n(13),ht=n(67);function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(){return(Et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function St(e,t){return(St=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kt(e);if(t){var a=kt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return jt(this,n)}}function jt(e,t){return!t||"object"!==vt(t)&&"function"!=typeof t?Nt(e):t}function Nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&St(e,t)}(i,e);var t,n,r,o=Ct(i);function i(){var e;wt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Tt(Nt(e=o.call.apply(o,[this].concat(n))),"toggleModal",(function(t){var n=t.type,r=void 0===n?"login":n,o=t.source,i=void 0===o?"":o,s={model:e.props.model,nextUrl:e.props.nextURL};switch(r){case"signup":e.props.toggleModal({className:"signup-modal",component:function(){return a.a.createElement(ht.a,Et({},s,{source:i}))}});break;case"login":e.props.toggleModal({className:"login-modal",component:function(){return a.a.createElement(ht.a,Et({},s,{login:!0}))}})}})),e}return t=i,(n=[{key:"render",value:function(){return a.a.createElement("div",{id:"landing"},a.a.createElement(se,{toggleModal:this.toggleModal}),a.a.createElement(he,{toggleModal:this.toggleModal}),a.a.createElement("div",{id:"Intro"},a.a.createElement(yt,null),a.a.createElement(pt,null),a.a.createElement(ft,null)),a.a.createElement("div",{id:"FindOutMore"},a.a.createElement("a",{href:"https://creators.wattpad.com/",target:"_blank",rel:"noopener noreferrer"},a.a.createElement("h4",null,this.props.trans("Find out more about what we do for writers")," →"))),a.a.createElement(_e,null),a.a.createElement(Ve,null),a.a.createElement(tt,null),a.a.createElement(bt,null),a.a.createElement(dt,{toggleModal:this.toggleModal}),a.a.createElement(l.v,null))}}])&&Ot(t.prototype,n),r&&Ot(t,r),i}(r.Component);Tt(Pt,"propTypes",{model:i.a.object,root:i.a.string,nextURL:i.a.string,toggleModal:i.a.func,hybridLayout:i.a.bool,trans:i.a.func.isRequired});var _t=Object(s.b)(null,{toggleModal:gt.b})(Pt);t.a=Object(c.n)(_t)},function(e,t,n){"use strict";n.d(t,"a",(function(){return ye}));var r=n(0),a=n.n(r),o=n(98),i=n(39),s=n(5),l=n(1),c=n.n(l),u=n(7),d=n(148),m=n(2);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=e.toggleModal,n=Object(m.o)().trans,o=f(Object(r.useState)(""),2),i=o[0],s=o[1],l=f(Object(r.useState)([]),2),c=l[0],u=l[1],d=f(Object(r.useState)([]),2),p=d[0],b=d[1];return a.a.createElement("div",{className:"new-msg-modal"},a.a.createElement("div",{className:"new-msg-header"},a.a.createElement("h3",null,n("New Message")),a.a.createElement("p",null,n("Send message to")+":"),a.a.createElement("input",{type:"text",value:i,onChange:function(e){var t=e.target.value;s(t);var r="api/v3/autocomplete/following_user?term=".concat(t);Promise.resolve($.get(r)).then((function(e){u(e.filter((function(e){return"Other People"===e.category}))),b(e.filter((function(e){return"Your Friends"===e.category})))})).catch((function(){new window.app.views.ErrorToast({message:n("Sorry, something went wrong. Please try again.")},{type:"dismissable"}).render()}))}})),""!==i&&a.a.createElement("div",{className:"search-results"},p.length>0&&a.a.createElement("p",null,n("People You Follow")),p.map((function(e){return a.a.createElement(y,{toggleModal:t,key:e.label,user:e})})),c.length>0&&a.a.createElement("p",null,n("People on Wattpad")),c.map((function(e){return a.a.createElement(y,{key:e.label,user:e,toggleModal:t})}))))}function y(e){var t=e.user,n=e.toggleModal;return a.a.createElement("button",{className:"search-result btn-no-background",onClick:function(){n(),window.app.router.navigate("/inbox/".concat(t.label),{trigger:!0})}},a.a.createElement("img",{src:t.image,alt:"".concat(t.label,"'s avatar"),className:"avatar avatar-sm3"}),a.a.createElement("p",null,t.label))}b.propTypes={toggleModal:c.a.func},y.propTypes={user:c.a.object,toggleModal:c.a.func};var g=n(13),h=n(3);function v(e){var t=e.direction,n=e.threshold,r=e.total,o=e.offset,i=e.isLoading,s=e.isDisabled,l=e.onLoad,c=Object(m.o)().trans;return Object(m.l)({direction:t,threshold:n,onThreshold:function(){s||o===r||l(o)}}),i?a.a.createElement("div",{className:"load-more-container"},a.a.createElement(h.c,{name:"/icons/spinner.svg",className:"fa-spin load-more",title:c("Spinner"),height:"24",width:"24"})):null}v.defaultProps={direction:"down",threshold:200},v.propTypes={direction:c.a.string.isRequired,threshold:c.a.number.isRequired,total:c.a.number.isRequired,offset:c.a.number.isRequired,isLoading:c.a.bool.isRequired,isDisabled:c.a.bool.isRequired,onLoad:c.a.func.isRequired};var E=v,w=n(4),O=n.n(w),S=n(12),C=n.n(S),j=n(151),N=n(92),k=n(46),T=n(53);function P(e){var t=e.isLoading,n=e.activeThread,r=e.isMutedByCurrentUser,o=e.isBlockedByCurrentUser,i=e.deleteConversation,s=e.toggleModal,l=e.toggleToast,c=e.privateMessagePermissions,u=Object(m.o)().trans;return a.a.createElement("div",null,!t&&a.a.createElement(h.u,{username:n,isMutedByCurrentUser:r,isBlockedByCurrentUser:o,onDeleteConversation:function(){confirm(u("Delete all messages between you and %s?",n))&&i(n).then((function(){"/inbox"===window.location.pathname?window.location.reload():window.app.router.navigate("/inbox",{trigger:!0})}))},onReportUser:"boolean"!=typeof(null==c?void 0:c.canSendPrivateMessage)||null!=c&&c.canSendPrivateMessage?function(){var e=function(e){l({className:"report-private-message-toast",body:e})},t=function(){return a.a.createElement(T.c,{title:u("Report a Private Message"),reportType:"private-message",requesterUsername:wattpad.utils.currentUser().get("username"),requesterEmail:wattpad.utils.currentUser().get("email"),reportId:{name:n},hideModal:s,showErrorToast:e})};t.displayName="ReportModal",s({className:"report-modal",hideClose:!0,component:t})}:null,showModerationOptions:"boolean"!=typeof(null==c?void 0:c.canSendPrivateMessage)||(null==c?void 0:c.canSendPrivateMessage)}))}P.propTypes={activeThread:c.a.string.isRequired,isLoading:c.a.bool.isRequired,deleteConversation:c.a.func.isRequired,isMutedByCurrentUser:c.a.bool.isRequired,isBlockedByCurrentUser:c.a.bool,toggleModal:c.a.func,toggleToast:c.a.func,privateMessagePermissions:c.a.object};var _=Object(u.b)(null,{deleteConversation:N.b,toggleModal:g.b,toggleToast:k.c})(P);function R(e){var t,n=e.thread,o=e.username,i=e.privateMessagePermissions,s=n.user.name,l=n.user.isActive;t=function(){window.te.push("event","private_messages",null,null,"view",{sender_username:s,recipient_username:o})},Object(r.useEffect)(t,[]);var c=n.user.badges.length?n.user.badges[0]:"";return a.a.createElement("div",{className:"thread-row"},a.a.createElement("div",{className:O()("unread-dot",{show:n.unread})},1===n.unread&&a.a.createElement(h.g,{iconName:"fa-circle-filled",height:"6",color:"wp-base-1"})),a.a.createElement("a",{style:{marginRight:0},className:"thread-column on-navigate",href:"/user/".concat(s)},l?a.a.createElement("img",{src:n.user.avatar,alt:"".concat(s,"'s avatar"),className:"thread-column avatar avatar-sm3"}):a.a.createElement(h.c,{name:"avatar/empty.png",className:"thread-column avatar avatar-sm3"})),a.a.createElement("a",{className:"thread-column on-navigate thread-meta",href:"/inbox/".concat(s)},a.a.createElement("div",{className:"thread-user right-icon"},s,a.a.createElement(j.a,{name:c,allowedBadges:["staff","verified"]})),a.a.createElement("div",{className:O()("thread-message",{unread:n.unread})},n.recentMessage.body)),a.a.createElement("div",{className:"thread-column thread-date"},C()(n.recentMessage.createDate).format("MMM DD, YYYY [at] LT")),a.a.createElement("div",{className:"button-group inline-block relative "},a.a.createElement("button",{className:"btn btn-white dropdown-toggle inbox-more-options","data-toggle":"dropdown","aria-controls":"inbox-more-options","aria-expanded":"false","aria-label":"more options"},a.a.createElement(h.g,{name:"more",size:"24"})),a.a.createElement("div",{className:"triangle"}),a.a.createElement("div",{className:"dropdown-menu align-right"},a.a.createElement(_,{activeThread:s,isLoading:!1,isMutedByCurrentUser:n.user.isMutedByCurrentUser,isBlockedByCurrentUser:n.user.isBlockedByCurrentUser,privateMessagePermissions:i}))))}R.propTypes={privateMessagePermissions:c.a.object,thread:c.a.object,username:c.a.string},R.defaultProps={thread:{}};var I=R;function A(e){var t=e.filter,n=e.loadThreads,r=Object(m.o)().trans;return a.a.createElement("div",{className:"threads-filter"},a.a.createElement("select",{value:t,onChange:function(e){var t=e.target.value;n({filter:t})}},a.a.createElement("option",{value:""},r("All")),a.a.createElement("option",{value:"followers"},r("My Followers")),a.a.createElement("option",{value:"following"},r("People I'm Following")),a.a.createElement("option",{value:"unread"},r("Unread Messages"))))}A.propTypes={filter:c.a.string.isRequired,loadThreads:c.a.func.isRequired};var x=A,L=n(58),M=n(190),D=function(){return a.a.createElement(h.g,{name:"info",size:"24",color:"wp-neutral-1",className:"leading-icon"})},U=function(e){var t=e.children;return a.a.createElement("div",{className:"info-bar"},a.a.createElement(D,null),t)};U.propTypes={children:c.a.oneOfType([c.a.arrayOf(c.a.node),c.a.node]).isRequired};var q=function(){var e=Object(m.o)().trans;return a.a.createElement("p",{className:"text typography-paragraph-medium"},e("Direct messages are no longer available. You can still receive messages from Wattpad-affiliated accounts.")," ",a.a.createElement("a",{className:"learn-more-link typography-label-medium",target:"_blank",rel:"noopener noreferrer",href:"https://support.wattpad.com/hc/articles/204412040-Private-messages"},e("Learn more")))},F=n(29),B=function(){var e=Object(m.o)().trans;return a.a.createElement("div",{className:"inbox-empty"},a.a.createElement(F.a,{name:"inbox/general-writing-cyclers-light.svg"}),a.a.createElement("p",{className:"typography-heading-x-small"},e("Get news and updates from the Wattpad team")),a.a.createElement("p",{className:"typography-paragraph-medium"},e("You have no messages.")))};function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(){var e=Object(m.o)().trans;return a.a.createElement("p",{className:"typography-paragraph-medium text "},e("On May 6, 2024 0:00:00 UTC, user-to-user private messaging will no longer be a feature on Wattpad and existing conversations will be deleted. You will still be able to receive messages from Wattpad-affiliated accounts.")," ",a.a.createElement("a",{className:"typography-label-medium learn-more-link",target:"_blank",rel:"noopener noreferrer",href:"https://support.wattpad.com/hc/articles/204412040-Private-messages"},e("Learn more")))},Y=function(e){var t=e.privateMessagePermissions,n=[];return(null==t?void 0:t.displayWarningNotice)&&n.push(a.a.createElement(U,{key:n.length},a.a.createElement(V,null))),(null==t?void 0:t.displayDeprecationNotice)&&n.push(a.a.createElement(U,{key:n.length},a.a.createElement(q,null))),n.length>0?a.a.createElement("div",{className:"threads-message"},n):null},G=function(e){var t,n=e.loadThreads,o=e.isLoading,i=e.isLoadingMore,s=e.isEmailVerified,l=e.threads,c=e.username,u=e.total,d=e.offset,f=e.filter,p=e.toggleModal,y=e.privateMessagePermissions,g=Object(m.o)().trans;Object(m.m)("".concat(g("Inbox")," - Wattpad")),t=function(){void 0!==window.__atha&&window.__atha.sendPageView("inbox"),n({})},Object(r.useEffect)(t,[]);var v=function(){if(s){var e=function(){return a.a.createElement(b,{toggleModal:p})};e.displayName="NewMessage",p({className:"new-message-modal",component:e})}else{var t=function(){return a.a.createElement(M.a,{email:wattpad.utils.currentUser().get("email"),userId:wattpad.utils.currentUser().get("id"),hideModal:p})};t.displayName="PleaseVerify",p({className:"please-verify-modal",hideClose:!0,component:t})}};return a.a.createElement("div",{id:"inbox"},a.a.createElement("div",{className:"threads-container"},a.a.createElement("div",{className:"threads-header"},a.a.createElement("div",{className:"flex-part"},a.a.createElement("h2",null,g("My Messages"))),a.a.createElement(x,{filter:f,loadThreads:n}),y&&(null==y?void 0:y.canSendPrivateMessage)&&a.a.createElement("button",{className:"new-msg-btn",onClick:v},a.a.createElement("span",null," ",g("+ New Message")," ")),!y&&a.a.createElement("button",{className:"new-msg-btn",onClick:v},a.a.createElement("span",null," ",g("+ New Message")," ")),a.a.createElement(h.v,null)),y&&a.a.createElement(Y,{privateMessagePermissions:y}),a.a.createElement("div",{className:"threads-list"},0!==l.length||o?l.map((function(e){return a.a.createElement(I,{key:e.user.name,thread:e,username:c,privateMessagePermissions:y})})):a.a.createElement(B,null)),a.a.createElement(E,{direction:"down",threshold:0,isLoading:i,isDisabled:i,total:u,offset:d,onLoad:function(e){n({offset:e,filter:f})}})),a.a.createElement(L.a,null))};G.propTypes={privateMessagePermissions:c.a.object,isLoading:c.a.bool.isRequired,isLoadingMore:c.a.bool.isRequired,isEmailVerified:c.a.bool.isRequired,threads:c.a.array.isRequired,username:c.a.string.isRequired,loadThreads:c.a.func.isRequired,total:c.a.number.isRequired,offset:c.a.number.isRequired,filter:c.a.string.isRequired,toggleModal:c.a.func},Y.propTypes={privateMessagePermissions:c.a.object};var z=Object(u.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.threads)}),{loadThreads:d.b,toggleModal:g.b})(G),K=C()(),Z=K.clone().startOf("day"),X=K.clone().subtract(1,"days").startOf("day"),J=K.clone().subtract(7,"days").startOf("day");function Q(e){var t,n=e.dateDisplay,r=Object(m.o)().trans;return t=n.isSame(Z,"d")?r("Today at %s",n.format("h:mm a")):function(e){return e.isSame(X,"d")}(n)?r("Yesterday at %s",n.format("h:mm a")):function(e){return e.isAfter(J)}(n)?n.format("ddd [at] h:mm a"):n.format("MMM D, YYYY, [at] h:mm a"),a.a.createElement("div",{className:"date-separator"},a.a.createElement("div",null,a.a.createElement("span",{className:"date"},t)))}Q.propTypes={dateDisplay:c.a.object.isRequired};var ee=function(e){var t=e.message,n=e.username,r=e.isActive,o=e.differentSender,i=e.scrollToMessageId,l=e.setRef,c=t.from.name===n,u=Object(s.p)(t.body,{sanitization:"sanitize"});return a.a.createElement("div",{ref:i===t.id?l:null,className:O()("conversation-row",c?"from-me":"from-other",{"different-sender":o})},a.a.createElement("a",{className:"on-navigate avatar-link",href:"/user/".concat(t.from.name)},r||c?a.a.createElement("img",{src:t.from.avatar,alt:"".concat(n,"'s avatar"),className:"avatar avatar-sm3"}):a.a.createElement(h.c,{name:"avatar/empty.png",className:"avatar avatar-sm3"})),a.a.createElement("div",{className:"conversation-message"},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:u}})))};ee.propTypes={message:c.a.shape({body:c.a.string,createDate:c.a.string,from:c.a.object,id:c.a.number,latestReplies:c.a.array,numReplies:c.a.number,unread:c.a.bool}).isRequired,isActive:c.a.bool.isRequired,username:c.a.string.isRequired,differentSender:c.a.bool.isRequired,scrollToMessageId:c.a.number.isRequired,setRef:c.a.object.isRequired};var te=ee;function ne(e){var t,n,r=e.messages,o=e.username,i=e.isActive,s=e.scrollToMessageId,l=e.setRef,c=e.isLastBatch;return a.a.createElement("div",{className:"conversations"},r.map((function(e,r){var u=!1,d=null;t!==e.from.name&&(u=!0,t=e.from.name);var m=C()(e.createDate);if(0===r&&c)d=m;else if(n){C.a.duration(m.diff(n)).asHours()>=6&&(d=m)}return n=m,a.a.createElement(a.a.Fragment,{key:e.id},d&&a.a.createElement(Q,{dateDisplay:d}),a.a.createElement(te,{setRef:l,scrollToMessageId:s,message:e,username:o,isActive:i,differentSender:u}))})))}function re(e){var t,n,r,o=e.isMutedByCurrentUser,i=e.isBlockedByCurrentUser,s=e.activeThreadUsername,l=Object(m.o)().trans;return i?(t=l("You have blocked %s and cannot reply to this conversation.",s),n=l("View Profile"),r={href:"/user/".concat(s),className:"on-navigate"}):o?(t=l("You have muted %s and cannot reply to this conversation.",s),n=l("View Profile"),r={href:"/user/".concat(s),className:"on-navigate"}):(t=l("You can’t reply to this conversation."),n=l("Learn more"),r={target:"_blank",rel:"noopener noreferrer",href:"https://support.wattpad.com/hc/en-us/articles/205956030-I-Can-t-Message-Another-User-"}),a.a.createElement("div",{className:"bottom-sticky"},a.a.createElement("div",{className:"disabled-reply"},a.a.createElement("p",null,t+" ",a.a.createElement("a",r,n))))}ne.propTypes={messages:c.a.array.isRequired,username:c.a.string.isRequired,isActive:c.a.bool.isRequired,scrollToMessageId:c.a.number.isRequired,setRef:c.a.object.isRequired,isLastBatch:c.a.bool.isRequired},re.propTypes={isMutedByCurrentUser:c.a.bool.isRequired,isBlockedByCurrentUser:c.a.bool,activeThreadUsername:c.a.string.isRequired};var ae=re;function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e){var t=e.activeThread,n=e.postMessage,o=e.username,i=e.isReply,s=e.isFirstTimeMessaging,l=e.isFollowing,c=Object(m.o)().trans,u=oe(Object(r.useState)(""),2),d=u[0],f=u[1];return a.a.createElement("form",{className:"conversation-form bottom-sticky",onSubmit:function(e){e&&(e.preventDefault(),e.stopPropagation()),""!==d&&(window.te.push("event","private_messages","message",null,"send",{sender_username:o,recipient_username:t,is_reply:i,page:"message"}),n(t,{body:d}),f(""))}},s&&a.a.createElement("div",{className:"first-time-msgs"},!l&&a.a.createElement("strong",null,c("You are about to send a message to someone you don’t follow.")),c(" Wattpad is an inclusive space where everyone can belong. Hate speech and cyberbullying are never tolerated.")),a.a.createElement(h.r,{characterLimit:2e3,value:d,onChange:function(e){var t=e.target.value;f(t.substr(0,2e3))},autoFocus:!0,placeholder:c("Write a message...")}),a.a.createElement("div",{className:"btn-container"},a.a.createElement("button",{type:"submit",disabled:""===d,className:"btn btn-large btn-orange"},c("Send"))))}se.propTypes={activeThread:c.a.string.isRequired,postMessage:c.a.func.isRequired,username:c.a.string.isRequired,isReply:c.a.bool.isRequired,isFirstTimeMessaging:c.a.bool.isRequired,isFollowing:c.a.bool.isRequired};var le=se;function ce(e){var t,n=e.privateMessagePermissions,o=e.username,s=e.messages,l=e.badges,c=e.isActive,u=e.isLoading,d=e.isLoadingMore,f=e.isDeleting,p=e.isPosting,b=e.total,y=e.offset,g=e.isEmailVerified,v=e.isMutingCurrentUser,w=e.isMutedByCurrentUser,O=e.isBlockedByCurrentUser,S=e.isFollowing,C=e.scrollToMessageId,N=e.postMessage,k=e.loadConversation,T=Object(m.o)().trans,P=Object(r.useRef)(),R=Object(r.useRef)(),I=Object(i.i)().activeThread;Object(m.m)("".concat(T("Messages between you and %s",I)," - Wattpad")),t=function(){window.te.push("event","private_messages","conversation",null,"view",{sender_username:I,recipient_username:o}),void 0!==window.__atha&&window.__atha.sendPageView("inbox-conversation"),k(I)},Object(r.useEffect)(t,[]),function(e,t){Object(r.useEffect)(e,t)}((function(){if(P.current&&R.current){window.scrollTo(0,P.current.offsetTop-R.current.getBoundingClientRect().bottom-10)}}),[C]);var A=s.find((function(e){return e.from.name===I})),x=y===b,M=l.length?l[0]:"",D=0===s.length&&!u,F=!v&&!w&&!O&&c&&g;return a.a.createElement("div",{id:"inbox"},a.a.createElement("div",{className:"conversation-container"},a.a.createElement("div",{className:"column"}),a.a.createElement("div",{className:"column main"},a.a.createElement("div",{className:"conversation-header",ref:R},a.a.createElement("h2",null,I),a.a.createElement(j.a,{name:M,size:"20",allowedBadges:["staff","verified"]})),a.a.createElement(E,{direction:"up",threshold:0,isLoading:d,isDisabled:d||f||p,total:b,offset:y,onLoad:function(e){k(I,e)}}),a.a.createElement(ne,{scrollToMessageId:C,setRef:P,messages:s,username:o,isActive:c,isLastBatch:x}),(!n||(null==n?void 0:n.canSendPrivateMessage))&&!u&&(F?a.a.createElement(le,{activeThread:I,isReply:Boolean(A),postMessage:N,isActive:c,username:o,isFirstTimeMessaging:D,isFollowing:S}):a.a.createElement(ae,{isMutedByCurrentUser:w,isBlockedByCurrentUser:O,activeThreadUsername:I})),n&&!(null!=n&&n.canSendPrivateMessage)&&a.a.createElement(U,null,a.a.createElement(q,null))),a.a.createElement("div",{className:"column"},a.a.createElement("div",{className:"column-content"},a.a.createElement(_,{activeThread:I,isLoading:u,isMutedByCurrentUser:w,isBlockedByCurrentUser:O,privateMessagePermissions:n}),a.a.createElement("div",{className:"extra-content-container"},a.a.createElement("a",{href:"https://creators.wattpad.com/programs-and-opportunities/wattpad-creators-program/",rel:"noopener noreferrer",target:"_blank"},a.a.createElement("img",{src:"/img/desktop-web/2019_Wattpad-Stars_300x250.jpg",alt:"Wattpad Stars"})))))),a.a.createElement(h.v,null),a.a.createElement(L.a,null))}ce.propTypes={privateMessagePermissions:c.a.shape({canSendPrivateMessage:c.a.bool}).isRequired,username:c.a.string.isRequired,badges:c.a.array.isRequired,messages:c.a.array.isRequired,isActive:c.a.bool.isRequired,isLoading:c.a.bool.isRequired,isLoadingMore:c.a.bool.isRequired,isDeleting:c.a.bool.isRequired,isPosting:c.a.bool.isRequired,total:c.a.number.isRequired,offset:c.a.number.isRequired,postMessage:c.a.func.isRequired,loadConversation:c.a.func.isRequired,scrollToMessageId:c.a.number.isRequired,isEmailVerified:c.a.bool.isRequired,isMutingCurrentUser:c.a.bool.isRequired,isMutedByCurrentUser:c.a.bool.isRequired,isBlockedByCurrentUser:c.a.bool,isFollowing:c.a.bool.isRequired};var ue=Object(u.b)((function(e){return{messages:e.conversation.messages,badges:e.conversation.badges,isActive:e.conversation.isActive,isLoading:e.conversation.isLoading,isLoadingMore:e.conversation.isLoadingMore,isDeleting:e.conversation.isDeleting,isPosting:e.conversation.isPosting,total:e.conversation.total,offset:e.conversation.offset,isEmailVerified:e.conversation.isEmailVerified,isMutingCurrentUser:e.conversation.isMutingCurrentUser,isMutedByCurrentUser:e.conversation.isMutedByCurrentUser,isBlockedByCurrentUser:e.conversation.isBlockedByCurrentUser,scrollToMessageId:e.conversation.scrollToMessageId,isFollowing:e.conversation.isFollowing}}),{loadConversation:N.c,postMessage:N.d})(ce),de=n(384),me=n.n(de),fe=n(385);function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ye=function(e){var t=e.username,n=e.url,l=e.privateMessageFeatureFlags,c=pe(Object(r.useState)(l),2),u=c[0],d=c[1];Object(r.useEffect)((function(){null!=l?d(l):me()().then((function(e){Object(s.w)({key:"wattpad-backend-feature-flags",value:e,type:"sessionStorage"});var t=Object(fe.getPrivateMessageFeatureFlags)(e);d(t)}))}),[l]);var m=Object(s.o)()?o.a:i.d;return a.a.createElement(m,{basename:"/inbox",location:n,context:{}},a.a.createElement(i.e,null,a.a.createElement(i.b,{exact:!0,path:"/"},a.a.createElement(z,{username:t,privateMessagePermissions:u})),a.a.createElement(i.b,{exact:!0,path:"/:activeThread"},a.a.createElement(ue,{username:t,privateMessagePermissions:u}))))};ye.propTypes={username:c.a.string.isRequired,privateMessageFeatureFlags:c.a.object,url:c.a.string}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(7),i=n(1),s=n.n(i),l=n(14),c=n.n(l),u=n(18),d=n(16),m=n(4),f=n.n(m),p=n(5),b=n(52),y=n(205);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=e.tags,n=void 0===t?[]:t,o=e.max,i=void 0===o?1:o,s=e.filter,l=void 0===s?function(e){return e}:s,c=g(Object(r.useState)(n),2),u=c[0],d=c[1];return Object(r.useEffect)((function(){d(_.shuffle(n).filter(l).slice(0,i))}),[n,i,l]),a.a.createElement("div",{className:"tags-list"},n?u.map((function(e,t){return a.a.createElement(b.a,{key:t+e,name:e,clickHandler:function(e,t){e.preventDefault(),app.router.navigate("/stories/".concat(t),{trigger:!0})},link:"/stories/".concat(e)})})):null)};v.propTypes={tags:s.a.array,isPaid:s.a.bool,max:s.a.number,filter:s.a.func};var E=function(e){var t=e.sectionType,n=e.title,o=e.id,i=e.cover,s=e.user,l=e.tags,c=e.description,u=e.isPaid,d=e.sources,m=e.index,f=e.offset,b=e.windowWidth,g=e.wasSeen,h=e.clickTrackingUrls,E=e.impressionTrackingUrls,w=e.callTrackingUrls,O=e.isPromoted,S=e.onStoryClick,C=e.heroItem,j=500,N=200,k=3,T=!0,P=18,_=E&&E.length>0,R=Object(p.h)(i),I=Object(p.g)(i,104);b>575&&b<=960||b>=545&&b<=575?(j=250,k=2):b<545&&b>=400?(j=100,N=60,P=10,k=2,T=!1):b<400&&(j=60,N=30,P=8,k=1,T=!1);var A=Object(r.useCallback)((function(e){return e.length<P}),[P]);Object(r.useEffect)((function(){g&&(window.te.push("event","story",null,null,"view",{storyid:o,page:"home",algo_source:d,position:m,offset:f,type:t}),_&&wattpad.utils.pushEvent({category:"homePromotedImpression",action:"viewed",label:"storyId-".concat(o)}))}),[g]);var x=function(e,n){e.preventDefault(),window.te.push("event","story",null,null,"click",{storyid:o,page:"home",algo_source:d,position:m,offset:f,type:t}),h&&w(h),"mobile"!==wattpad.utils.getDeviceType()&&S?S(C):app.router.navigate(n,{trigger:!0})};return a.a.createElement("div",{className:"paid-stories-item hero"},a.a.createElement("div",{className:"cover"},a.a.createElement("a",{href:"/story/".concat(o),onClick:function(e){return x(e,"/story/".concat(o))}},a.a.createElement("img",{srcSet:R,sizes:"(max-width: 575px) ".concat(104,"px, ").concat(200,"px"),src:I,alt:"".concat(n," cover")}))),a.a.createElement("div",{className:"hero-content"},a.a.createElement("a",{className:"title",href:"/story/".concat(o),onClick:function(e){return x(e,"/story/".concat(o))},"aria-label":"Read ".concat(n)},a.a.createElement("p",null,Object(p.x)(n,N,!1))),s&&T?a.a.createElement("a",{className:"author on-navigate",href:"/user/".concat(s.name)},s.name):null,a.a.createElement("p",{className:"description"},Object(p.x)(c,j,!1)),a.a.createElement(v,{tags:l,isPaid:u,max:k,filter:A})),O&&a.a.createElement("div",{className:"right-section"},a.a.createElement(y.a,null),_&&E.map((function(e,t){return function(e,t){return a.a.createElement("img",{key:"pixel-".concat(t),src:e,height:"1",width:"1",alt:""})}(e,t)}))))};E.defaultProps={onStoryClick:null,sources:[],offset:0},E.propTypes={cover:s.a.string.isRequired,id:s.a.oneOfType([s.a.string,s.a.number]).isRequired,index:s.a.number.isRequired,isPaid:s.a.bool,offset:s.a.number,sectionType:s.a.string,sources:s.a.array,tags:s.a.array,title:s.a.string.isRequired,user:s.a.object,description:s.a.string,wasSeen:s.a.bool,windowWidth:s.a.number,clickTrackingUrls:s.a.array,impressionTrackingUrls:s.a.array,callTrackingUrls:s.a.func,isPromoted:s.a.bool,onStoryClick:s.a.func,heroItem:s.a.object};var w=E,O=n(131),S=n(73);function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var j=function(e){var t=e.callTrackingUrls,n=e.clickTrackingUrls,o=e.impressionTrackingUrls,i=e.expandPrompt,s=e.heading,l=e.heroItem,c=e.index,u=e.isPromoted,d=e.multiRows,m=e.onStoryClick,p=e.page,b=e.sectionType,y=e.setPosition,g=e.storyItems,h=e.subheading,v=e.wasSeen,E=e.windowWidth,j=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=j.current.getBoundingClientRect();y(c,b,e.top+window.scrollY,e.bottom+window.scrollY)}),[c,b,y]),g&&0!==g.length||l?a.a.createElement("div",{className:f()("story-swimlane-with-hero",b),ref:j},a.a.createElement("div",{className:"module-content"},a.a.createElement(S.c,{expandPrompt:i,heading:s,sectionType:b,subheading:h,isPromoted:!1}),a.a.createElement("div",{className:"hero-item"},a.a.createElement(w,C({},l,{windowWidth:E,clickTrackingUrls:n,impressionTrackingUrls:o,isPromoted:u,callTrackingUrls:t,onStoryClick:m,heroItem:l,index:c,wasSeen:v,sectionType:b}))),d?d.map((function(e,t){return[a.a.createElement(S.c,{heading:e.heading,subheading:e.subheading,key:"".concat(e.heading,"-").concat(t)}),a.a.createElement("div",{className:"story-carousel",key:"".concat(e.items[0].id,"-").concat(t)},a.a.createElement(O.a,{index:c,onStoryClick:m,page:p,sectionType:b,stories:e.items,wasSeen:v,windowWidth:E}))]})):a.a.createElement("div",{className:"story-carousel"},a.a.createElement(O.a,{index:c,onStoryClick:m,page:p,sectionType:b,stories:g,wasSeen:v,windowWidth:E})))):null};j.defaultProps={onStoryClick:null},j.propTypes={callTrackingUrls:s.a.func.isRequired,clickTrackingUrls:s.a.array,impressionTrackingUrls:s.a.array,expandPrompt:s.a.object,heading:s.a.string,heroItem:s.a.object.isRequired,index:s.a.number.isRequired,isPromoted:s.a.bool,multiRows:s.a.array,navigationItem:s.a.object,onStoryClick:s.a.func,page:s.a.string.isRequired,sectionType:s.a.string.isRequired,setPosition:s.a.func.isRequired,storyItems:s.a.array,subheading:s.a.string,wasSeen:s.a.bool,windowWidth:s.a.number};var N=j,k=n(6),T=n(15);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=136,x=213,L=115,M=178,D=33,U=15,q=function(e,t,n){var r=[],a=0,o=[];return r.push(R(R({},e[0].data[0]),{},{secondary_label:e[0].heading,type:e[0].type,progressBarAccessibility:F(e[0].data[0],t)})),o.push(U),a+=n?A:x,e.forEach((function(i,s){0!==s&&(a+=D,i.data.forEach((function(l,c){o.push(a+U),r.push(R(R({},l),{},{primary_label:0===c?e[s].heading:"",leading_divider:0===c,progressBarAccessibility:F(l,t),oneSlideSection:0===c&&1===i.data.length})),a+=n?L:M})))})),{slides:r,totalSlidesWidth:a,slideStartIndices:o}},F=function(e,t){var n=Object(T.sprintf)(t("%s part read","%s parts read",e.current_part.number),e.current_part.number);return n+=", ",e.new_parts>0&&(n+=Object(T.sprintf)(t("%s new part","%s new parts",e.new_parts),e.new_parts),n+=", "),n+=Object(T.sprintf)(t("%s part total","%s parts total",e.total_parts),e.total_parts)},B=function(e,t,n){return e<=425?"currentRead"===t?Object(p.t)(n,50):Object(p.t)(n,35):"currentRead"===t?Object(p.t)(n,95):Object(p.t)(n,80)},W=function(e,t){return 0!=e.new_parts?Object(T.sprintf)(t("%s new part","%s new parts",e.new_parts),e.new_parts):Object(T.sprintf)(t("%s part left","%s parts left",e.total_parts-e.current_part.number),e.total_parts-e.current_part.number)},H=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.right<=window.innerWidth},V=n(2),Y=n(3),G=n(30),z=n(387),K=n.n(z);function Z(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||J(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||J(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ee=function(e){var t=e.heading,n=e.subheading,o=e.data,i=e.windowWidth,s=e.index,l=e.sectionType,c=e.setPosition,u=e.wasSeen,d=e.isMobile,m=e.url,p=e.isRTL,b=Object(V.o)(),y=b.trans,g=b.ngettext,h=Object(r.useRef)(null),v=Object(r.useRef)(),E=i>1e3?1e3:i,w=X(Object(r.useState)(0),2),O=w[0],C=w[1],j=X(Object(r.useState)(!1),2),N=j[0],T=j[1],P=X(Object(r.useState)(!1),2),_=P[0],R=P[1],I=X(Object(r.useState)([]),2),A=I[0],x=I[1],L=Object(r.useRef)({}),M=X(Object(r.useState)([]),2),D=M[0],U=M[1],F=X(Object(r.useState)([]),2),z=F[0],$=F[1],J=X(Object(r.useState)([]),2),Q=J[0],ee=J[1];Object(r.useEffect)((function(){K()(m).then((function(e){var t=q(e,g,d&&i<=425);U(t.slides),$(t.totalSlidesWidth),ee(t.slideStartIndices)})).catch((function(e){var t=q(o,g,d&&i<=425);U(t.slides),$(t.totalSlidesWidth),ee(t.slideStartIndices),console.error("CONTINUE READING ERROR: ",e)}))}),[m,g,o,d,i]);var te=X(Object(r.useState)(0),2),ne=te[0],re=te[1],ae=X(Object(r.useState)(0),2),oe=ae[0],ie=ae[1];var se=function(e,t){window.te.push("event","story",null,null,"view",{storyid:e,page:"home",algo_source:["storiesRecommendedRNN"],position:s,offset:t,type:"continueReading"})};Object(r.useEffect)((function(){T(!(z<=O+E))}),[O,z,E]),Object(r.useEffect)((function(){var e;_&&(null===(e=v.current)||void 0===e||e.focus())}),[_]),Object(r.useEffect)((function(){if(h.current){var e=h.current.getBoundingClientRect();c(s,l,e.top+window.scrollY,e.bottom+window.scrollY)}}),[s,l,c]),Object(r.useEffect)((function(){if(u){var e=[];D.slice(0,6).map((function(t,n){!A.includes(t.id)&&H(L.current[t.id])&&(se(t.id,n),e.push(t.id))})),x([].concat(Z(A),e))}}),[u,D]);var le=function(){for(var e=0,t=0;t<Q.length-2;t++)Q[t]<=O-E&&Q[t+1]>O-E&&(e=t+1);C(Q[e]),O-E<=0&&R(!1),T(!0)},ce=function(){var e;if(R(!0),z>=O+E){for(var t=Q.length-1,n=0;n<Q.length-2;n++)Q[n]<=O+E&&Q[n+1]>O+E&&(t=n);C(Q[t])}null===(e=v.current)||void 0===e||e.focus()},ue=function(e){return function(){window.te.push("event","story",null,null,"click",{storyid:e.id,page:"home",algo_source:["storiesRecommendedRNN"],position:s,type:"continueReading"})}};return a.a.createElement("div",{className:"continue-reading module",ref:h},a.a.createElement("div",{className:"module-content full-width"},a.a.createElement(S.c,{heading:t,subheading:n}),a.a.createElement("div",{className:"carousel-container",onTouchStart:function(e){re(e.targetTouches[0].clientX)},onTouchMove:function(e){ie(e.targetTouches[0].clientX)},onTouchEnd:function(){return ne-oe>150&&ce(),void(ne-oe<-150&&O>0&&le())}},a.a.createElement("div",{className:"btn-container"},_&&a.a.createElement("button",{ref:v,className:"back-btn",onClick:le,"aria-label":y("Back")},a.a.createElement(Y.g,{name:p?"arrowCircleRight":"arrowCircleLeft",size:"40",alt:"back",strokeWidth:"2.25"}))),a.a.createElement("div",{className:"continue-reading-carousel",style:{transform:p?"translateX(+".concat(O,"px)"):"translateX(-".concat(O,"px)")},onTransitionEnd:function(){var e=[],t=A.length;D.slice(t,t+6).map((function(n,r){!A.includes(n.id)&&H(L.current[n.id])&&(se(n.id,t+r),e.push(n.id))})),x([].concat(Z(A),e))}},D.map((function(e,t){if(e.id&&e.cover)return a.a.createElement("div",{className:f()({"one-slide-section":e.oneSlideSection}),key:"".concat(e.id,"-").concat(t),ref:function(t){return L.current[e.id]=t}},a.a.createElement(k.ContinueReadingSlide,{firstSlide:"currentRead"===e.type,key:"".concat(e.id,"-").concat(t),id:e.id,storyName:e.title,primaryLabel:e.primary_label,secondaryLabel:e.secondary_label,cover:B(i,e.type,e.cover),totalParts:e.total_parts,current_part_index:e.current_part.number,current_part_id:e.current_part.id,newParts:e.new_parts,progressBarAccessibility:e.progressBarAccessibility,lastPubDate:Object(G.n)(y,g,e.last_pub_date),leadingDivider:e.leading_divider,subLabel:W(e,g),topMargin:"currentRead"!==e.type,onClick:ue(e)}))}))),a.a.createElement("div",{className:"btn-container"},N&&a.a.createElement("button",{className:"next-btn",onClick:ce,"aria-label":y("Next")},a.a.createElement(Y.g,{name:p?"arrowCircleLeft":"arrowCircleRight",size:"40",alt:"next",strokeWidth:"2.25"}))))))},te=ee;ee.propTypes={heading:s.a.string,subheading:s.a.string,data:s.a.array,windowWidth:s.a.number,index:s.a.number,wasSeen:s.a.bool,sectionType:s.a.string.isRequired,setPosition:s.a.func.isRequired,page:s.a.string,isMobile:s.a.bool,url:s.a.string,isRTL:s.a.bool};var ne=n(104),re=n(83),ae=n(82),oe=n.n(ae);function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function se(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ce(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||ce(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){if(e){if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var de=function(e){var t=e.sectionType,n=e.slides,o=void 0===n?[]:n,i=e.index,s=e.setPosition,l=e.windowWidth,c=e.wasSeen,u=e.wrapAround,d=oe()(parseInt(app.get("language"),10)),m=Object(r.useRef)(null),p=le(Object(r.useState)([]),2),b=p[0],y=p[1],g=le(Object(r.useState)(),2),h=g[0],v=g[1],E=le(Object(r.useState)(),2),w=E[0],O=E[1],S=Object(V.e)(),C=le(Object(r.useState)(!1),2),j=C[0],N=C[1],k=function(e){var t=e.pauseAutoplay,n=void 0!==t&&t;S.HFC_LIMIT_INCREASE&&N(n)};Object(r.useEffect)((function(){if(c)D(0);else{var e=m.current.getBoundingClientRect();v(e.top),O(e.bottom),s(i,t,e.top+window.scrollY,e.bottom+window.scrollY)}}),[c,i,t,s,D]);var T=l<575,P=!T&&c&&!j,_=S.HFC_LIMIT_INCREASE?5e3:5500,R=T?{autoplay:P,autoplayInterval:_,animation:"zoom",cellSpacing:8,frameOverflow:"visible",initialSlideHeight:168,initialSlideWidth:282,slideOffset:25,slidesToShow:1.1,swiping:!0,withoutControls:!0,wrapAround:!0}:{autoplay:P,autoplayInterval:_,dragging:!1,slidesToShow:1,initialSlideHeight:400,renderCenterRightControls:function(e){var t=e.currentSlide,n=e.nextSlide,r=e.slideCount;return A(t,n,r)},renderCenterLeftControls:function(e){var t=e.currentSlide,n=e.previousSlide;return x(t,n)},renderBottomRightControls:S.HFC_LIMIT_INCREASE?null:function(e){var t=e.currentSlide,n=e.slideCount,r=e.goToSlide;return L(t,n,r)},renderBottomCenterControls:S.HFC_LIMIT_INCREASE?function(e){var t=e.currentSlide,n=e.slideCount,r=e.goToSlide;return L(t,n,r)}:null,wrapAround:!0},I=T?157:267,A=function(e,t,n){return e!==n-1||u?a.a.createElement("button",{className:"next-btn",onClick:t},a.a.createElement(Y.g,{name:"arrowRight",size:"22",alt:"next",strokeWidth:"4"})):null},x=function(e,t){return 0!==e||u?a.a.createElement("button",{className:"prev-btn",onClick:t},a.a.createElement(Y.g,{name:"arrowLeft",size:"22",alt:"previous",strokeWidth:"4"})):null},L=function(e,t,n){return a.a.createElement("div",{className:"controls"},se(Array(t)).map((function(t,r){var o=f()("control",{active:r===e});return a.a.createElement("div",{className:o,key:r,onClick:function(){n(r)},onKeyDown:function(){n(r)},"aria-hidden":!0,tabIndex:"-1"})})))},M=function(e){!m.current||m.current.getBoundingClientRect().top<(h-w)/2||m.current.getBoundingClientRect().top>window.innerHeight-(w-h)/2||b.includes(e)||(window.te.push("event","home","featured",null,"view",{itemid:o[e].id,offset:e}),y([].concat(se(b),[e])))},D=Object(r.useCallback)(M);return null!==o&&0!==o.length?a.a.createElement("div",ie({ref:m},d?{dir:"ltr",className:"featured-carousel rtl-adjust"}:{className:"featured-carousel"}),a.a.createElement(re.a,ie({},R,{afterSlide:M,enableKeyboardControls:!0,heightMode:"max",renderAnnounceSlideMessage:function(e){var t=e.currentSlide,n=e.slideCount;return"Slide ".concat(t," out of ").concat(n)}}),o.map((function(e,t){var n=t===o.length-1;return a.a.createElement(me,ie({},e,{height:I,topHeader:T,ind:t,isLastSlide:n,offset:t,key:t,handleCarouselSlideInteraction:k}))}))),a.a.createElement("hr",{className:"module-divider"})):null};de.propTypes={index:s.a.number.isRequired,sectionType:s.a.string.isRequired,setPosition:s.a.func.isRequired,slides:s.a.array.isRequired,wasSeen:s.a.bool.isRequired,windowWidth:s.a.number,wrapAround:s.a.bool.isRequired};var me=function(e){var t=e.id,n=e.image,r=e.heading,o=e.subheading,i=e.weblink,s=e.ind,l=e.offset,c=e.isLastSlide,u=e.height,d=e.handleCarouselSlideInteraction,m=e.ariaLabel,p=Object(V.o)().trans,b=m||p("Promotional banner image");return a.a.createElement("div",{className:f()("featured-slide","slide-".concat(s),{"last-slide":c,"not-last-slide":!c})},a.a.createElement("a",{href:i,onClick:function(){window.te.push("event","home","featured",null,"click",{itemid:t,offset:l})},onMouseEnter:function(){d({pauseAutoplay:!0})},onMouseLeave:function(){d({pauseAutoplay:!1})},onFocus:function(){d({pauseAutoplay:!0})},onBlur:function(){d({pauseAutoplay:!1})}},a.a.createElement("div",{className:"image-container",style:{backgroundImage:"url(".concat(n,")"),height:"".concat(u,"px"),backgroundSize:"cover"},alt:"featured slide",loading:"lazy",role:"img","aria-label":b})),a.a.createElement("div",{className:"featured-text"},a.a.createElement("h2",null,r),a.a.createElement("p",null,o)))};me.propTypes={heading:s.a.string,height:s.a.number.isRequired,id:s.a.oneOfType([s.a.number,s.a.string]),image:s.a.string.isRequired,ind:s.a.number.isRequired,isLastSlide:s.a.bool,offset:s.a.number.isRequired,subheading:s.a.string,topHeader:s.a.bool,weblink:s.a.string,handleCarouselSlideInteraction:s.a.func,ariaLabel:s.a.string};var fe=de,pe=function(e){var t=e.sectionType,n=e.heading,o=e.subheading,i=e.background,s=e.index,l=e.isSubsection,c=e.setPosition,u=e.link,d=e.image,m=e.wasSeen,p=Object(r.useRef)(null);Object(r.useEffect)((function(){if(!l){var e=p.current.getBoundingClientRect();c(s,t,e.top+window.scrollY,e.bottom+window.scrollY)}}),[l,s,t,c]),Object(r.useEffect)((function(){m&&window.te.push("event","home","navigation",null,"view",{nav_target:n,position:s})}),[m]);var b=!!d;return a.a.createElement("div",{className:f()("small-nav",i,"".concat(t,"-banner"),{twoSections:b,oneSection:!b}),ref:p},a.a.createElement("a",{href:u,target:"_blank",onClick:function(){window.te.push("event","home","navigation",null,"click",{nav_target:n,position:s})},rel:"noopener noreferrer",className:"banner-content"},a.a.createElement("div",{className:"contest-content"},a.a.createElement("div",{className:"contest-info"},a.a.createElement("h1",null,n),a.a.createElement("h2",null,o)),b&&a.a.createElement("div",{className:"graphic-container",style:{backgroundImage:"url(".concat(d,")")}}))))};pe.propTypes={wasSeen:!1},pe.propTypes={index:s.a.number.isRequired,isSubsection:s.a.bool,heading:s.a.string.isRequired,background:s.a.string,setPosition:s.a.func.isRequired,sectionType:s.a.string.isRequired,subheading:s.a.string,link:s.a.string,image:s.a.string,wasSeen:s.a.bool};var be=pe,ye=n(81);function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ve=function(e){var t=e.completed,n=e.cover,o=e.description,i=e.getCollectionsForStoryIds,s=e.id,l=e.index,c=e.isPaid,u=e.numParts,d=e.offset,m=e.onLibraryClick,f=e.readingLists,b=e.sectionType,y=e.setPosition,g=e.sources,h=e.storiesCollections,v=e.storiesCollectionsLoading,E=void 0!==v&&v,w=e.title,O=e.wasSeen,S=e.windowWidth,C=e.mature,j=void 0!==C&&C,N=Object(r.useRef)(null),k=Object(V.o)().trans,T=ge(Object(r.useState)(),2),P=T[0],_=T[1];Object(r.useEffect)((function(){var e=N.current.getBoundingClientRect();y(l,b,e.top+window.scrollY,e.bottom+window.scrollY)}),[l,b,y]),Object(r.useEffect)((function(){O&&window.te.push("event","story",null,null,"view",{storyid:s,page:"home",algo_source:g,position:l,offset:d,type:b})}),[O]),Object(r.useEffect)((function(){Promise.resolve($.get("/api/v3/stories/".concat(s,"?fields=firstPartId"))).then((function(e){_(e.firstPartId)})).catch((function(e){var t=e.responseText?e.responseText:e.statusText;console.log(t||e)}))}),[s]),Object(r.useEffect)((function(){"mobile"===wattpad.utils.getDeviceType()||E||h&&h[s]||i(s)}),[i,s,h,E]);var R=function(){window.te.push("event","story",null,null,"click",{storyid:s,page:"home",algo_source:g,position:l,offset:d,type:b})},I=function(e){e.preventDefault(),R(),app.router.navigate("/story/".concat(s),{trigger:!0})},A=Object(p.h)(n),x=Object(p.g)(n,238),L=Object(r.useRef)(),M=function(e){var t=e.id,n=e.description,r=e.characterDisplayLimit,o=e.handleStoryDetailsClick;return a.a.createElement("div",{className:"description"},a.a.createElement("p",{className:"description-text"},Object(p.x)(n,r,!1)),a.a.createElement("a",{className:"link",onClick:o,href:"/story/".concat(t)},k("More details"),a.a.createElement(Y.g,{name:"chevRight",size:"24"})))};return a.a.createElement("div",{className:"module"},a.a.createElement("div",{className:"module-content full-width"},a.a.createElement("div",{className:"story-spotlight-details",ref:N},a.a.createElement("div",{className:"cover-wrapper"},a.a.createElement("a",{href:"/story/".concat(s),onClick:I},a.a.createElement("img",{className:"story-spotlight-cover",srcSet:A,sizes:"(max-width: 574px) 151px, 238px",src:x,alt:"".concat(w," cover")})),a.a.createElement("div",{className:"story-info"},a.a.createElement("div",{className:"new-flag"},k("New")),a.a.createElement("div",{className:"title"},w),a.a.createElement(ye.a,{numParts:u,isMature:j,isCompleted:t,isPaid:c}),a.a.createElement("div",{className:"buttons-wrapper"},a.a.createElement("a",{className:"read btn-primary",onClick:function(e){e.preventDefault(),R();var t=P?"/".concat(P):"/story/".concat(s);app.router.navigate(t,{trigger:!0})},href:"/story/".concat(s)},k("Read now")),f&&a.a.createElement("button",{className:"btn-icon",title:k("Add story to..."),"aria-label":k("Add story to..."),ref:L,onClick:function(){m(L,s)}},a.a.createElement(Y.g,{name:"add",size:"24",color:"wp-neutral-1",strokeWidth:"2.5"}))),S>575&&a.a.createElement(M,{id:s,handleStoryDetailsClick:I,description:o,characterDisplayLimit:290}))),(!S||S<=575)&&a.a.createElement(M,{id:s,handleStoryDetailsClick:I,description:o,characterDisplayLimit:290}))))};ve.propTypes={characterDisplayLimit:s.a.number,completed:s.a.bool,cover:s.a.string,description:s.a.string,getCollectionsForStoryIds:s.a.func,handleStoryDetailsClick:s.a.func,id:s.a.number,index:s.a.number,isPaid:s.a.bool,numParts:s.a.number,offset:s.a.number,onLibraryClick:s.a.func,readingLists:s.a.array,sectionType:s.a.string,setPosition:s.a.func,sources:s.a.array,storiesCollections:s.a.object,storiesCollectionsLoading:s.a.bool,title:s.a.string,wasSeen:s.a.bool,windowWidth:s.a.number,mature:s.a.bool};var Ee=ve,we=function(e){var t=e.sectionType,n=e.index,o=e.prompt,i=e.button,s=e.weblink,l=e.background,c=e.wasSeen;Object(r.useEffect)((function(){c&&window.te.push("event","home","cta",null,"view",{page:"home",position:n,type:t})}),[c]);return o&&s?a.a.createElement("div",{className:f()("cta module",l)},a.a.createElement("div",{className:"module-content"},a.a.createElement("a",{href:s,className:f()("on-navigate btn-secondary",i),onClick:function(){window.te.push("event","home","cta",null,"click",{page:"home",position:n,type:t})}},o))):null};we.propTypes={wasSeen:!1},we.propTypes={sectionType:s.a.string.isRequired,index:s.a.number.isRequired,prompt:s.a.string,button:s.a.string,applink:s.a.string,weblink:s.a.string,background:s.a.string,image:s.a.string,message:s.a.string,wasSeen:s.a.bool};var Oe=we;function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ke=function(e){var t={sectionType:e.type,index:e.index,setPosition:e.setPosition,windowWidth:e.windowWidth,wasSeen:e.wasSeen,page:"home"};switch(e.type){case"paidMultiRow":case"paid":case"storyHeroGroup":return a.a.createElement(N,Ne({},t,{expandPrompt:e.data.expandPrompt,heading:e.data.heading,subheading:e.data.subheading,heroItem:e.data.heroItem||e.data.heroItems[0],storyItems:e.data.listItems,multiRows:e.data.rows,navigationItem:e.data.navigation,isPromoted:e.data.isPromoted,clickTrackingUrls:e.data.tracking&&e.data.tracking.clicks,impressionTrackingUrls:e.data.tracking&&e.data.tracking.impressions,callTrackingUrls:e.callTrackingUrls,onStoryClick:e.openStoryDetails}));case"storyExpanded":case"storyList":return a.a.createElement(ne.a,Ne({},t,{expandPrompt:e.data.expandPrompt,heading:e.data.heading,background:e.data.background,subheading:e.data.subheading,stories:e.data.items,isPromoted:e.data.isPromoted,clickTrackingUrls:e.data.tracking&&e.data.tracking.clicks,callTrackingUrls:e.callTrackingUrls,onStoryClick:e.openStoryDetails}));case"rankedStoryList":return a.a.createElement(ne.a,Ne({},t,{heading:e.data.heading,subheading:e.data.subheading,stories:e.data.items,storyWidth:300,mobileStoriesToShow:2.8,clickTrackingUrls:e.data.tracking&&e.data.tracking.clicks,callTrackingUrls:e.callTrackingUrls}));case"continueReadingSwimlane":return a.a.createElement(te,Ne({},t,{heading:e.data.heading,subheading:e.data.subheading,url:e.dynamic.path,data:e.data.items,isMobile:"mobile"===wattpad.utils.getDeviceType(),isRTL:oe()(parseInt(app.get("language"),10))}));case"premiumPicksRow":return a.a.createElement(ne.a,Ne({},t,{heading:e.data.heading,headingPill:{type:S.b.COUNTDOWN,date:e.data.expiresAt},subheading:e.data.subheading,expandPrompt:Ce(Ce({},e.data.expandPrompt),{},{tracking:{page:"premium_picks",source:"home"}}),stories:e.data.items}));case"featured":return!!e.data.items&&a.a.createElement(fe,Ne({},t,{slides:e.data.items,wrapAround:!0}));case"cta":return a.a.createElement(Oe,Ne({},t,{prompt:e.data.prompt,button:e.data.button,message:e.data.message,background:e.data.background,weblink:e.data.weblink,image:e.data.image}));case"smallNavigation":return a.a.createElement(be,Ne({},t,{heading:e.data.heading,subheading:e.data.subheading,background:e.data.background,link:e.data.weblink,image:e.data.image}));case"greeting":return null;case"storySpotlight":return a.a.createElement(Ee,Ne({},e.data.item,t,{onLibraryClick:e.onLibraryClick,readingLists:e.readingLists,getCollectionsForStoryIds:e.getCollectionsForStoryIds,storiesCollections:e.storiesCollections,storiesCollectionsLoading:e.storiesCollectionsLoading}));default:return null}};ke.propTypes={index:s.a.number.isRequired,setPosition:s.a.func.isRequired,windowWidth:s.a.number,wasSeen:s.a.bool.isRequired,type:s.a.string,dynamic:s.a.object,openContentSettings:s.a.func,openStoryDetails:s.a.func,onLibraryClick:s.a.func,readingLists:s.a.array,getCollectionsForStoryIds:s.a.func,storiesCollections:s.a.object,storiesCollectionsLoading:s.a.bool,data:s.a.shape({expandPrompt:s.a.object,heading:s.a.string,background:s.a.string,subheading:s.a.string,isPromoted:s.a.bool,heroItem:s.a.object,heroItems:s.a.array,navigation:s.a.object,clickTrackingUrls:s.a.array,listItems:s.a.array,greeting:s.a.string,image:s.a.string,prompt:s.a.string,button:s.a.string,message:s.a.string,weblink:s.a.string,items:s.a.array,item:s.a.object,tracking:s.a.object,rows:s.a.array,showContentSettings:s.a.bool,expiresAt:s.a.string}),callTrackingUrls:s.a.func};var Te=ke,Pe=n(70);function _e(e){var t=e.onRefresh,n=Object(V.o)().trans;return a.a.createElement("div",{className:"load-home-failed"},a.a.createElement("div",{className:"image"},a.a.createElement("img",{src:"/img/homepages/homeIllustration.svg",alt:""})),a.a.createElement("div",{className:"text"},a.a.createElement("div",{className:"title"},n("Let’s find your way back home")),a.a.createElement("div",{className:"subtitle"},n("Something went wrong, try refreshing."))),a.a.createElement("button",{className:"refresh btn-primary",onClick:t},n("Refresh")))}_e.propTypes={onRefresh:s.a.func},_e.defaultProps={onRefresh:function(){}};var Re=n(191),Ie=n(34),Ae=n(100),xe=n(58);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=He(e);if(t){var a=He(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Be(this,n)}}function Be(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?We(e):t}function We(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(i,e);var t,n,r,o=Fe(i);function i(){var e;De(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ve(We(e=o.call.apply(o,[this].concat(n))),"state",{windowWidth:null,lastSectionLoadedIndex:4,lastScrollY:0,showContinueReading:!0}),Ve(We(e),"sectionWrapperRef",a.a.createRef()),Ve(We(e),"sectionLimitPerPage",5),Ve(We(e),"showContinueReading",(function(){var t=window.scrollY;t<=0||t<e.state.lastScrollY?e.setState({showContinueReading:!0}):e.setState({showContinueReading:!1}),e.setState({lastScrollY:t})})),Ve(We(e),"showContinueReadingThrottled",c.a.throttle(e.showContinueReading,300,{leading:!0,trailing:!1})),Ve(We(e),"handleInfScroll",(function(){var t;e.state.lastSectionLoadedIndex!==e.props.sections.length-1?e.isAtBottom(e.sectionWrapperRef.current)&&(t=e.state.lastSectionLoadedIndex>e.props.sections.length-1-e.sectionLimitPerPage?e.props.sections.length-1:e.state.lastSectionLoadedIndex+e.sectionLimitPerPage,e.setState({lastSectionLoadedIndex:t}),window.wattpad.homeSectionsIndex=t):window.removeEventListener("scroll",c.a.debounce(e.handleInfScroll,300,{leading:!1,trailing:!0}))})),Ve(We(e),"handleOpenContentSettings",(function(){e.props.openContentSettings(),window.te.push("event","app","page",null,"view",{page:"content_settings",source:"home"})})),Ve(We(e),"isAtBottom",(function(e){return e&&e.getBoundingClientRect().bottom-200<=window.innerHeight})),Ve(We(e),"handleOpenStoryDetails",(function(t){e.props.openStoryDetails(t)})),Ve(We(e),"checkIntersections",(function(){var t=window.scrollY,n=t+window.innerHeight;Object.keys(e.props.sectionBounds).map((function(r){if(!e.props.sectionBounds[r].viewed){var a=e.props.sectionBounds[r],o=a.bottom-a.top;(o-(a.top<t?t-a.top:0)-(a.bottom>n?a.bottom-n:0))/o>=.5&&(window.te.push("event","home","section",null,"view",{type:a.type,position:a.index}),e.props.sectionViewed(r))}}))})),Ve(We(e),"handleLibraryClick",(function(t,n){e.props.openPopover({component:function(){return a.a.createElement(Ae.a,{readingLists:e.props.readingLists,storyId:n,updateCollection:e.props.updateCollection,removeStoriesFromCollection:e.props.removeStoriesFromCollection,storiesCollections:e.props.storiesCollections[n],getReadingLists:e.props.getReadingLists,getCollectionsForStoryIds:e.props.getCollectionsForStoryIds})},triggerRef:t,passthroughProps:{showArrow:"true"}})})),Ve(We(e),"refresh",(function(){e.props.clearError(),e.props.fetchHomeSections()})),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;this.props.fetchEmailReverificationStatus&&this.props.fetchEmailReverificationStatus(),"mobile"===wattpad.utils.getDeviceType()||void 0!==this.props.readingLists||this.props.readingListsLoading||this.props.getReadingLists(),void 0!==this.props.sections&&0!==this.props.sections.length||this.props.fetchHomeSections(),this.setState({windowWidth:window.innerWidth}),window.addEventListener("resize",(function(){return e.setState({windowWidth:window.innerWidth})}));var t=window.wattpad.homeSectionsIndex;t&&this.setState({lastSectionLoadedIndex:t}),window.addEventListener("scroll",c.a.debounce(this.handleInfScroll,300,{leading:!1,trailing:!0})),window.addEventListener("scroll",this.checkIntersections),window.addEventListener("scroll",this.showContinueReadingThrottled),window.te.push("event","app","page",null,"view",{page:"home"})}},{key:"componentDidUpdate",value:function(e){0===Object.keys(e.sectionBounds).length&&0!==Object.keys(this.props.sectionBounds).length&&this.checkIntersections(),e.error!==this.props.error&&this.props.error&&console.error("An error has occurred:\n".concat(this.props.error.errorMessage))}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("resize",(function(){return e.setState({windowWidth:window.innerWidth})})),window.removeEventListener("scroll",c.a.debounce(this.handleInfScroll,300,{leading:!1,trailing:!0})),window.removeEventListener("scroll",this.checkIntersections),window.removeEventListener("scroll",this.showContinueReadingThrottled)}},{key:"render",value:function(){var e=this;return this.props.homeLoading&&this.props.showLoader?a.a.createElement("div",{className:"home-sections-wrapper loading-spinner"},a.a.createElement(Pe.a,null)):this.props.error&&this.props.error.errorType===d.u.fetchError?a.a.createElement(_e,{onRefresh:this.refresh}):void 0===this.props.sections||0===this.props.sections.length?null:a.a.createElement("div",{className:"home-sections-wrapper",ref:this.sectionWrapperRef},a.a.createElement(a.a.Fragment,null,this.state.windowWidth<575&&a.a.createElement("div",{className:"try-premium-container"},a.a.createElement(Re.a,{ctaType:"home_header"})),this.props.sections.slice(0,this.state.lastSectionLoadedIndex+1).map((function(t,n){var r=!(!e.props.sectionBounds[n]||!e.props.sectionBounds[n].viewed);return a.a.createElement(Te,Me({},t,{openContentSettings:e.handleOpenContentSettings,openStoryDetails:e.handleOpenStoryDetails,onLibraryClick:e.handleLibraryClick,getCollectionsForStoryIds:e.props.getCollectionsForStoryIds,storiesCollections:e.props.storiesCollections,storiesCollectionsLoading:e.props.storiesCollectionsLoading,readingLists:e.props.readingLists,index:n,key:"".concat(t.type,"-").concat(n),setPosition:e.props.receiveSectionPosition,wasSeen:r,windowWidth:e.state.windowWidth,callTrackingUrls:e.props.callTrackingUrls}))}))),a.a.createElement(Y.v,null),a.a.createElement(xe.a,null))}}])&&Ue(t.prototype,n),r&&Ue(t,r),i}(a.a.Component);Ve(Ye,"propTypes",{callTrackingUrls:s.a.func,clearError:s.a.func,error:s.a.object,fetchHomeSections:s.a.func,showLoader:s.a.bool,homeLoading:s.a.bool,openContentSettings:s.a.func,openStoryDetails:s.a.func,scrollIndex:s.a.number,sectionBounds:s.a.object,sections:s.a.array,sectionViewed:s.a.func,receiveSectionPosition:s.a.func,getReadingLists:s.a.func,readingLists:s.a.array,readingListsLoading:s.a.bool,getCollectionsForStoryIds:s.a.func,storiesCollections:s.a.object,storiesCollectionsLoading:s.a.bool,updateCollection:s.a.func,removeStoriesFromCollection:s.a.func,openPopover:s.a.func,openEmailReverification:s.a.func,fetchEmailReverificationStatus:s.a.func}),Ye.defaultProps={homeLoading:!0,showLoader:!0};var Ge={fetchHomeSections:u.d,receiveSectionPosition:u.l,sectionViewed:u.o,clearError:u.b,callTrackingUrls:u.a,openContentSettings:u.i,openStoryDetails:u.k,getReadingLists:u.g,getCollectionsForStoryIds:u.e,updateCollection:u.p,removeStoriesFromCollection:u.m,openPopover:Ie.c,openEmailReverification:u.j,fetchEmailReverificationStatus:u.c};t.a=Object(o.b)((function(e){var t=e.homeSections;return{homeLoading:t.homeLoading,showLoader:t.showLoader,sections:t.sections,sectionBounds:t.sectionBounds,error:t.error,readingLists:t.readingLists,readingListsLoading:t.readingListsLoading,storiesCollections:t.storiesCollections,storiesCollectionsLoading:t.storiesCollectionsLoading}}),Ge)(Ye)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(101),l=n(15),c=n(207),u=n(2),d=n(48),m=n(5),f=n(6),p=function(e){var t=e.isCompleted,n=e.isMature,r=e.user,o=r.username,i=r.avatar,s=e.publishDate,p=e.numNewParts,b=e.numNewBonusParts,y=Object(u.o)(),g=y.trans,h=y.ngettext,v=null,E=null;t?(v=g("Complete"),E=f.Accent.BASE_3):!1===t&&(v=g("Ongoing"),E=f.Accent.BASE_5);var w=g("Mature"),O=Object(m.e)(s,{fuzzyTime:!0}),S=Object(l.sprintf)(h("%s new part","%s new parts",p),p),C=Object(l.sprintf)(h("%s new Extra","%s new Extras",b),b);return a.a.createElement("div",{className:"xxs-container-padding badges"},o&&a.a.createElement(c.a,{username:o,avatar:i}),a.a.createElement("div",{className:"story-badges"},v&&E&&a.a.createElement("div",{className:"icon completed","data-tip":!0,"data-for":"publish-date","aria-describedby":"publish-date",tabIndex:"0","aria-hidden":!0},a.a.createElement(f.Pill,{label:v,variant:f.PillVariant.SOLID,accent:E})),a.a.createElement("span",{className:"sr-only"},g("%s, First published %s",v,O)),m.a?a.a.createElement(d.a,{id:"publish-date",effect:"solid",role:"tooltip",backgroundColor:"#000000",overridePosition:function(e,t,n,r){var a=e.left;return{top:e.top,left:"string"==typeof r?a:Math.max(a,0)}},"aria-hidden":!0},g("First published"),a.a.createElement("strong",null," ",g("%s",O))):null,n&&a.a.createElement("div",{className:"icon mature"},a.a.createElement(f.Pill,{label:w,variant:f.PillVariant.SOLID,accent:f.Accent.BASE_4})),p>0&&a.a.createElement(f.Pill,{label:S,variant:f.PillVariant.LIGHT,accent:f.Accent.BASE_7,leadingIndicator:!0}),b>0&&a.a.createElement(f.Pill,{label:C,variant:f.PillVariant.LIGHT,accent:f.Accent.BASE_2,leadingIndicator:!0})))};p.propTypes={user:i.a.shape({username:i.a.string,avatar:i.a.string.isRequired}),isCompleted:i.a.bool,isMature:i.a.bool,publishDate:i.a.string,numNewParts:i.a.number,numNewBonusParts:i.a.number};var b=p,y=n(3),g=function(){var e=Object(u.o)().trans;return a.a.createElement(a.a.Fragment,null,a.a.createElement(y.g,{className:"card__action-icon",width:"32",height:"32",size:"32",name:"reportFlag",viewBox:"32",strokeWidth:"1"}),a.a.createElement("div",{className:"card__label"},a.a.createElement("span",{id:"report-title",className:"card__title"},e("Report this story"))),a.a.createElement(y.g,{className:"card__nav-icon",name:"chevRight",size:"24"}))},h=function(e){var t=e.storyId,n=e.storyTitle,r=e.authorUsername,o=e.storyLanguage,i=Object(u.o)().trans,s=Object(u.k)().openReportStoryModal;return a.a.createElement("div",null,a.a.createElement("a",{className:"card",href:"https://support.wattpad.com/hc/en-us/articles/200774334-Content-Guidelines",target:"_blank",rel:"noopener noreferrer",tabIndex:"0"},a.a.createElement(y.g,{className:"card__action-icon",width:"32",height:"32",size:"32",name:"link",viewBox:"32",strokeWidth:"3"}),a.a.createElement("div",{className:"card__label"},a.a.createElement("span",{id:"content-title",className:"card__title"},i("Content Guidelines"))),a.a.createElement(y.g,{className:"card__nav-icon",name:"chevRight",size:"24"})),a.a.createElement("button",{className:"card",onClick:function(){s(t.toString(),n,r,o)}},a.a.createElement(g,null)))};h.propTypes={storyId:i.a.number.isRequired,storyTitle:i.a.string,authorUsername:i.a.string,storyLanguage:i.a.string};var v=h,E=function(e){var t=e.storyRankings,n=e.storyId;return t&&0!==t.length?a.a.createElement("a",{className:"card",href:"/story/".concat(n,"/rankings"),"aria-label":"Number ".concat(t[0].rank," in ").concat(t[0].name,". Tap for all tag rankings for this story.")},a.a.createElement(y.g,{className:"card__action-icon",size:"32",name:"rankingBadge",fillColor:"wp-base-1",viewBox:"32",strokeWidth:"0"}),a.a.createElement("div",{className:"card__label"},a.a.createElement("span",{className:"card__title"},"#".concat(t[0].rank),a.a.createElement("span",{className:"title__name"},"".concat(t[0].name)))),a.a.createElement(y.g,{className:"card__nav-icon",name:"chevRight",size:"24"})):null};E.propTypes={storyRankings:i.a.array,storyId:i.a.number};var w=E,O=n(4),S=n.n(O),C=function(e){var t=e.children,n=e.className,r=Object(u.o)().trans;return a.a.createElement("div",{className:S()("table-of-contents",n)},a.a.createElement("div",{className:"table-of-contents__header"},r("Table of contents")),t)};C.propTypes={children:i.a.node,className:i.a.string,lastUpdated:i.a.string};var j=C,N=function(e){var t=e.storyId,n=e.sources,r=e.parts,o=e.isPaywalled,i=e.readingPosition,s=e.className,l=Object(u.o)().trans;return a.a.createElement("div",{className:S()("story-parts",s)},a.a.createElement("ul",null,r&&r.map((function(e){var r=i&&i.part===e.id;return a.a.createElement("li",{key:e.id,className:S()({"is-bonus-part":e.isBonusPart,"is-scheduled":e.isScheduledPart})},a.a.createElement("a",{href:e.url&&Object(m.d)(e.url),className:S()("story-parts__part",{"currently-reading":r,"new-part":e.new&&!e.isBonusPart,"bonus-part":e.isBonusPart,"draft-part":e.draft,"deleted-part":e.deleted}),onClick:function(r){return function(e,r,a){e.preventDefault(),window.te.push("event","story",null,null,"click",{storyid:t,page:"story_details",type:"primary",source:"story_details",partid:r,algo_source:n||""}),app.router.navigate(a,{trigger:!0})}(r,e.id,Object(m.d)(e.url))}},a.a.createElement("div",{className:"left-container"},e.isBonusPart&&a.a.createElement("div",{className:"part__bonus-type"},e.bonusTypeName),a.a.createElement("div",{className:"part__label"},a.a.createElement("div",{className:"icon-container"},e.new&&a.a.createElement(y.g,{iconName:"fa-circle-filled",height:"8",color:"ds-success"})),a.a.createElement("div",{className:"part-title"},e.title)),a.a.createElement("div",{className:"part-meta"},e.draft&&(e.isScheduledPart?a.a.createElement("span",null,l("Scheduled")," -"," ",a.a.createElement("span",{className:"scheduled-date"},e.formattedScheduledPublishDatetime)):a.a.createElement("span",{className:"draft-tag"},l("Draft"))),e.deleted&&a.a.createElement("span",{className:"deleted-tag"},l("Deleted"))),r&&a.a.createElement("div",{className:"part__reading-progress"},l("%s%% Complete",(100*i.position).toFixed(0)))),a.a.createElement("div",{className:"right-label"},Object(m.e)(e.createDate,{dayFormat:!0}),!r&&o&&e.isBlocked&&a.a.createElement(y.g,{className:"part__icon",name:"lock",size:"24",color:e.isBonusPart?"ds-base-2-60":"ds-neutral-100",title:e.isBlocked?l("Locked"):null}))))}))))};N.propTypes={parts:i.a.arrayOf(i.a.shape({id:i.a.number,title:i.a.string})).isRequired,storyId:i.a.number,sources:i.a.array,isPaywalled:i.a.bool.isRequired,readingPosition:i.a.shape({part:i.a.number,position:i.a.oneOfType([i.a.string,i.a.number])}),className:i.a.string};var k=N;function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=function(e){var t=e.description,n=e.license,o=e.className,i=e.isMobile,s=Object(u.o)().trans,l=T(Object(r.useState)(!0),2),c=l[0],d=l[1],m=s("Read more"),f=s("Read less");return a.a.createElement("div",{className:S()(i?"mobile-styling":"")},a.a.createElement("div",{className:S()("xxs-container-padding description",o)},a.a.createElement("pre",{className:S()("description-text",c?"collapsed":"")},t,n&&(!c||!i)&&a.a.createElement("div",{className:"story-copyright"},a.a.createElement("span",{className:"fa fa-copyright fa-wp-neutral-8","aria-hidden":"true"}),n.name)),i&&a.a.createElement("div",{className:"read-or-hide-wrapper"},a.a.createElement("button",{onClick:function(){d(!c)},className:"read-or-hide"},c?m:f))))};_.propTypes={description:i.a.string,className:i.a.string,license:i.a.object,isMobile:i.a.bool};var R=_;function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=function(e){var t=e.numParts,n=e.className,o=e.isPaywalled,i=e.readingPosition,s=e.parts,c=Object(u.o)(),d=c.trans,m=c.ngettext,f=I(Object(r.useState)(!1),2),p=f[0],b=f[1];return a.a.createElement("div",{className:S()("parts",n)},a.a.createElement("div",{className:"parts-header"},a.a.createElement("div",{className:"parts-title"},a.a.createElement(y.g,{className:"card__action-icon",name:"partsBeta",size:"32",fill:!0,viewBox:"16",strokeWidth:"1"}),a.a.createElement("p",{className:"parts-num"},Object(l.sprintf)(m("%s part","%s parts",t),t))),a.a.createElement("button",{className:"see-all",onClick:function(){b(!p)}},d(p?"Hide":"See all"))),!p&&a.a.createElement(k,{parts:s.slice(-3),isPaywalled:o,className:"shown-xxs parts-wrapper",readingPosition:i}),p&&a.a.createElement(k,{parts:s,isPaywalled:o,className:"shown-xxs parts-wrapper",readingPosition:i}))};x.propTypes={className:i.a.string,numParts:i.a.number,lastUpdated:i.a.string,isPaywalled:i.a.bool.isRequired,readingPosition:i.a.shape({part:i.a.number,position:i.a.oneOfType([i.a.string,i.a.number])}),parts:i.a.arrayOf(i.a.shape({id:i.a.number,title:i.a.string})).isRequired};var L=x,M=n(214),D=n(389),U=n(390),q=n(72);function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var W=function(e){var t=e.user,n=(t=void 0===t?{}:t).username,r=t.avatar,o=t.age,i=t.country,s=e.currentUserRoles,l=Object(u.o)().trans;return a.a.createElement("div",{className:"author-content"},a.a.createElement("img",{src:r,alt:""}),a.a.createElement("div",{className:"author-content__details"},a.a.createElement("div",{className:"author-details__username"},n),s.isSysAdmin&&a.a.createElement("div",{className:"author-details__info"},o&&a.a.createElement("div",{className:"author-info__age"},l("%s yrs old",o)),i&&a.a.createElement("div",{className:"author-info__country"},i))))};W.defaultProps={currentUserRoles:{isSysAdmin:!1,isAmbassador:!1}},W.propTypes={user:i.a.shape({username:i.a.string,avatar:i.a.string.isRequired,age:i.a.number,country:i.a.string}),currentUserRoles:i.a.shape({isSysAdmin:i.a.bool,isAmbassador:i.a.bool})};var H=function(e){var t=e.currentUserRoles,n=e.user,o=e.storyId,i=e.storyTranslateUrl,s=e.storyLanguage,l=e.languages,c=e.onLanguageChange,d=e.categories,f=e.storyCategories,p=e.onCategoryChange,b=e.onFileSelected,g=e.onCoverRemove,h=Object(u.o)().trans,v=F(Object(r.useState)(""),2),E=v[0],w=v[1],O=F(Object(r.useState)(null),2),S=O[0],C=O[1],j=F(Object(r.useState)(null),2),N=j[0],k=j[1],T=F(Object(r.useState)(null),2),P=T[0],_=T[1],R=F(Object(r.useState)(s),2),I=R[0],A=R[1],x=F(Object(r.useState)(f&&f[0]),2),L=x[0],M=x[1],D=function(e,t){t?(w(t),e(!1)):e(!0),window.setTimeout((function(){e(null),w("")}),3e3)};return a.a.createElement("div",{className:"admin-panel__content"},a.a.createElement(W,{user:n,currentUserRoles:t}),a.a.createElement("ul",{className:"admin-panel-content-grid"},a.a.createElement("li",{className:"story-admin-dropdown-row error-row"},E&&a.a.createElement("div",{className:"alert alert-danger",role:"alert"},E)),a.a.createElement("li",{className:"admin-panel-content-row review-row"},a.a.createElement("strong",{className:"row-name"},h("Review:")),a.a.createElement("span",{className:"row-controls"},a.a.createElement("ul",{className:"option-items"},a.a.createElement("li",null,a.a.createElement("a",{href:"/contentreview?groupid=".concat(o)},h("Story")))))),t.isSysAdmin&&a.a.createElement("li",{className:"admin-panel-content-row options-row"},a.a.createElement("strong",{className:"row-name"},h("Options:")),a.a.createElement("span",{className:"row-controls"},a.a.createElement("ul",{className:"option-items"},a.a.createElement("li",null,a.a.createElement("a",{href:"/myworks/".concat(o)},h("Edit Story Details"))),a.a.createElement("li",null,a.a.createElement("a",{href:i},h("Translate")))))),t.isSysAdmin&&a.a.createElement("li",{className:"admin-panel-content-row paid-story-row"},a.a.createElement("strong",{className:"row-name"},h("Paid Story"),":"),a.a.createElement("span",{className:"row-controls"},a.a.createElement("ul",{className:"option-items"},a.a.createElement("li",null,a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"/admin/paid_stories_manager?storyId=".concat(o)},h("Manage")))))),t.isSysAdmin&&a.a.createElement("li",{className:"admin-panel-content-row download-row"},a.a.createElement("strong",{className:"row-name"},h("Download:")),a.a.createElement("span",{className:"row-controls"},a.a.createElement("ul",{className:"option-items"},a.a.createElement("li",null,a.a.createElement("a",{href:"/apiv2/storytext?group_id=".concat(o,"&no_format=false&include_deleted=true&include_drafts=true&include_private=true&output=zip")},h("Story Group")))))),a.a.createElement("li",{className:"admin-panel-content-row language-row"},a.a.createElement("strong",{className:"row-name"},h("Language:")),a.a.createElement("span",{className:"row-controls"},a.a.createElement("select",{defaultValue:I,onChange:function(e){var t=e.target.value;c(k,t,A,D)},id:"story-language-select",className:"form-control"},l&&l.map((function(e,t){return a.a.createElement("option",{key:t,value:e.id},e.name)})))),a.a.createElement("span",{className:"response-status pull-right"},N&&a.a.createElement(y.g,{name:"check",size:"18",color:"ds-success"}),!1===N&&a.a.createElement(y.g,{iconName:"fa-warning",size:"18",color:"wp-error-1"}))),a.a.createElement("li",{className:"admin-panel-content-row category-row"},a.a.createElement("strong",{className:"row-name"},h("Category:")),a.a.createElement("span",{className:"row-controls"},a.a.createElement("select",{defaultValue:L,onChange:function(e){var t=e.target.value;p(_,t,M,D)},id:"story-category-select",className:"form-control"},a.a.createElement("option",{value:"-1"},h("Select a category")),d&&d.map((function(e,t){return a.a.createElement("option",{key:t,value:e.id},e.name)})))),a.a.createElement("span",{className:"response-status pull-right"}),a.a.createElement("span",{className:"response-status pull-right"},P&&a.a.createElement(y.g,{name:"check",size:"18",color:"ds-success"}),!1===P&&a.a.createElement(y.g,{iconName:"fa-warning",size:"18",color:"wp-error-1"}))),t.isSysAdmin&&a.a.createElement("li",{className:"admin-panel-content-row cover-row"},a.a.createElement("strong",{className:"row-name"},h("Cover:")),a.a.createElement("span",{className:"row-controls"},a.a.createElement("ul",{className:"option-items"},a.a.createElement("li",null,a.a.createElement("div",{className:"cover-upload-btn file-upload file-drop"},a.a.createElement("button",{className:"file-select"},h("Upload")),a.a.createElement("input",{onChange:function(){b(C,D)},accept:"image/jpeg, image/png, image/gif",type:"file",name:"file"}))),a.a.createElement("li",null,a.a.createElement("button",{onClick:function(){g(C,D)}},h("Remove"))),a.a.createElement("li",null,a.a.createElement("a",{href:"/banner?id=".concat(o)},h("Banner"))))),a.a.createElement("span",{className:"response-status pull-right"},S&&a.a.createElement(y.g,{name:"check",size:"18",color:"ds-success"}),!1===S&&a.a.createElement(y.g,{iconName:"fa-warning",size:"18",color:"wp-error-1"}))),t.isSysAdmin&&a.a.createElement("li",{className:"admin-panel-content-row rating-row"},a.a.createElement("strong",{className:"row-name"},h("Rating:")),a.a.createElement("span",{className:"row-controls"},a.a.createElement("ul",{className:"option-items"},a.a.createElement("li",null,a.a.createElement("a",{href:"/admin/community_reports?model_type=2&model_id=".concat(o)},h("Reports"))),a.a.createElement("li",null,a.a.createElement("a",{href:"/admin/story_rating_history.php?story_id=".concat(o)},h("History")))))),t.isSysAdmin&&a.a.createElement("li",{className:"admin-panel-content-row total-reads-row"},a.a.createElement("strong",{className:"row-name"},h("Total Reads By Author:")),a.a.createElement("span",{className:"row-controls"},a.a.createElement("ul",{className:"option-items"},n.totalReads&&a.a.createElement("li",null,"".concat(n.totalReads," (").concat(Object(m.b)(n.totalReads),")"))))),t.isSysAdmin&&a.a.createElement("li",{className:"admin-panel-content-row"},a.a.createElement("strong",{className:"row-name"},h("Admin Notes:")),a.a.createElement("pre",{className:"notes"},n.notes),a.a.createElement("a",{href:"https://admin.wattpad.com/admin/manage_user.php?&username=".concat(n.username)},h("Add/Delete notes")))))};H.defaultProps={onLanguageChange:function(){},onCategoryChange:function(){},onFileSelected:function(){},onCoverRemove:function(){},currentUserRoles:{isSysAdmin:!1,isAmbassador:!1}},H.propTypes={user:i.a.object,storyId:i.a.number,storyTranslateUrl:i.a.string,languages:i.a.array,storyLanguage:i.a.number,categories:i.a.array,storyCategories:i.a.array,onLanguageChange:i.a.func,onCategoryChange:i.a.func,onFileSelected:i.a.func,onCoverRemove:i.a.func,currentUserRoles:i.a.shape({isSysAdmin:i.a.bool,isAmbassador:i.a.bool})};var V=function(e){var t=e.currentUserRoles,n=e.user,o=e.storyId,i=e.storyTranslateUrl,s=e.storyLanguage,l=e.languages,c=e.onLanguageChange,d=e.categories,m=e.storyCategories,f=e.onCategoryChange,p=e.onFileSelected,b=e.onCoverRemove,g=Object(u.o)().trans,h=F(Object(r.useState)(!1),2),v=h[0],E=h[1];return a.a.createElement("div",{className:"admin-panel"},a.a.createElement("button",{onClick:function(){E(!v)},className:"admin-panel__header-btn"},a.a.createElement(y.g,{name:"lock",size:"24",color:"ds-neutral-100"}),a.a.createElement("div",{className:"admin-header__title"},g("Expand Admin Panel")),a.a.createElement(y.g,{className:S()("admin-header__chevron",{"admin-header__chevron--rotated":v}),name:"chevRight",size:"24",color:"ds-neutral-100"})),(v||"undefined"==typeof window)&&a.a.createElement(H,{currentUserRoles:t,user:n,storyId:o,storyTranslateUrl:i,languages:l,storyLanguage:s,onLanguageChange:c,categories:d,storyCategories:m,onCategoryChange:f,onFileSelected:p,onCoverRemove:b}))};V.defaultProps={onLanguageChange:function(){},onCategoryChange:function(){},onFileSelected:function(){},onCoverRemove:function(){},currentUserRoles:{isSysAdmin:!1,isAmbassador:!1}},V.propTypes={user:i.a.object,storyId:i.a.number,storyTranslateUrl:i.a.string,storyLanguage:i.a.number,languages:i.a.array,categories:i.a.array,storyCategories:i.a.array,onLanguageChange:i.a.func,onCategoryChange:i.a.func,onFileSelected:i.a.func,onCoverRemove:i.a.func,currentUserRoles:i.a.shape({isSysAdmin:i.a.bool,isAmbassador:i.a.bool})};var Y=V,G=n(193),z=function(){var e=Object(u.o)().trans;return a.a.createElement("div",{className:"story-500-wrapper"},a.a.createElement(y.c,{name:"errors/story-500.png",className:"error-500-image"}),a.a.createElement("div",{className:"error-500-info"},a.a.createElement("h3",null,e("Hmmm... something's wrong.")),a.a.createElement("p",null,e("We can’t seem to load this story right now. Try going back or reloading.")),a.a.createElement("div",{className:"buttons-500"},a.a.createElement("button",{className:"btn btn-primary",onClick:function(){window.location.reload(!0)}},e("Reload")))))},K=n(174),Z=n(7),X=n(18),J=n(67),Q=n(11),ee={liveness:i.a.oneOf(Object.values(Q.l)),endsAt:i.a.object,startsAt:i.a.object},te=function(e){var t=e.premiumPicks,n=Object(u.o)().trans;if(!t)return null;var r=t.liveness==Q.l.NOW,o=r?t.endsAt:t.startsAt;return a.a.createElement("div",null,a.a.createElement("a",{className:"card",href:"/catalog/premiumpicks",tabIndex:"0",onClick:function(){window.te.push("event",null,null,null,"app_page_view_v1",{page:{premium_picks:{source:"story_details"}}})}},a.a.createElement("div",{className:"card__action-icon-premium-content"},a.a.createElement(y.g,{name:"zap",size:"12",className:"card__action-icon",color:"ds-neutral-00-solid",fill:!0})),a.a.createElement("div",{className:"card__label column"},a.a.createElement("span",{id:"content-title",className:"card__title"},n("Premium Picks")),a.a.createElement("div",{className:"card__description md"},n(r?"Free for subscribers until":"Free for subscribers on")," ",o.toLocaleString("default",{month:"short",day:"numeric"}))),a.a.createElement(y.g,{className:"card__nav-icon",name:"chevRight",size:"24"})))};te.propTypes={premiumPicks:i.a.shape(ee)};var ne=te,re=n(208),ae=n.n(re);function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ue=n(59),de=function(e){var t=e.currentUserRoles,n=e.username,o=e.userLang,i=e.isLoggedIn,l=e.languages,c=e.onLanguageChange,d=e.onCategoryChange,p=e.categories,y=e.onFileSelected,g=e.onCoverRemove,h=e.isDesktop,E=e.storyData,O=(E=void 0===E?{}:E).id,C=E.title,N=E.description,T=E.createDate,P=E.numNewParts,_=E.hasBonusParts,I=E.numNewBonusParts,A=E.cover,x=E.user,F=void 0===x?{}:x,B=E.isPaywalled,W=E.paidModel,H=E.isPaidPreview,V=E.premiumPicks,Q=E.length,ee=E.numParts,te=E.storyTags,re=E.readCount,ie=E.completed,se=E.draft,ce=E.deleted,de=E.rating,me=E.voteCount,fe=E.firstPartId,pe=E.serverError,be=E.language,ye=E.storyLanguage,ge=E.lastPublishedPart,he=E.parts,ve=E.storyReportUrl,Ee=E.storyTranslateUrl,we=E.tagRankings,Oe=E.recommendedStories,Se=void 0===Oe?[]:Oe,Ce=E.sources,je=E.writerPreviewHasBannedCover,Ne=E.copyright,ke=E.firstStoryPart,Te=E.nextUrl,Pe=E.storyCategories,_e=E.url,Re=e.adData,Ie=e.signupModel,Ae=Object(r.useMemo)((function(){return le(le({},te),{},{tags:te&&te.tags.map((function(e){return le(le({},e),{},{bgColor:"".concat(ue["ds-neutral-40"]),color:"".concat(ue["ds-neutral-80"])})}))})}),[te]),xe=Object(Z.c)(),Le=Object(Z.d)((function(e){return e.homeSections.readingLists})),Me=Object(Z.d)((function(e){return e.homeSections.storiesCollections})),De=oe(Object(r.useState)({}),2),Ue=De[0],qe=De[1],Fe=oe(Object(r.useState)(!0),2),Be=Fe[0],We=Fe[1],He=ae()({paidModel:W}),Ve=Object(K.a)(),Ye=Ne?Ne+"":"1",Ge=Ve&&Ve.find((function(e){return e.value.toString()===Ye}));Object(r.useEffect)((function(){Be&&(_e+window.location.search+window.location.hash!==window.location.href&&"undefined"!=typeof wattpad&&C&&history.replaceState({},C,wattpad.utils.formatStoryUrl(_e)+window.location.search+window.location.hash),window.te.push("event","app","page",null,"view",{page:"story_details"}),window.te.push("event","story",null,null,"view",{storyid:O,page:"story_details",type:"primary",source:"story_details",algo_source:Ce||""}),We(!1),n&&(xe(Object(X.g)()),xe(Object(X.e)(O))))}),[O,Ce,Be,n,xe,_e,C]),Object(r.useEffect)((function(){n&&$.get("/apiv2/syncreadingposition",{story_id:fe}).then((function(e){qe(e||{})}))}),[n,fe]);var ze=Object(u.o)().trans,$e=[{icon:"views",label:ze("Reads"),size:"16",viewBox:"16",value:re},{icon:"votesBeta",label:ze("Votes"),size:"16",viewBox:"16",value:me},{icon:"partsBeta",label:ze("Parts"),size:"16",viewBox:"16",value:ee}],Ke=ge?Object(m.e)(ge.createDate,{fuzzyTime:!0}):null;if(1===be){var Ze=Object(m.c)(Object(m.k)(Q));$e.push({icon:"readTime",label:ze("Time"),size:"16",viewBox:"16",hoursVal:Ze.hours,minutesVal:Ze.minutes})}var Xe=ze("Sign up to add %s to your library and receive updates","<strong>"+Object(m.u)(C)+"</strong>");return a.a.createElement("div",{className:"story-details-page"},pe?a.a.createElement(z,null):a.a.createElement(a.a.Fragment,null,a.a.createElement(D.a,{title:C,cover:A,user:F,draft:se,isLoggedInUser:!!n,isPaid:B,isPaidStory:He,isPaidPreview:H,numParts:ee,readCount:re,storyLength:Q,voteCount:me,firstPartId:fe,storyId:O,sources:Ce,statsItems:$e,readingLists:Le,storiesCollections:Me,writerPreviewHasBannedCover:je}),a.a.createElement("div",{className:"story-info-container"},a.a.createElement("div",{className:"left-container"},ce&&a.a.createElement("p",{className:"story-status story-status--important xxs-container-padding"},ze("Deleted")),se&&!ce&&a.a.createElement("p",{className:"story-status xxs-container-padding"},ze("Draft")),a.a.createElement(q.a,{statsItems:$e,className:"shown-xxs",showTooltip:!0}),!h&&V&&a.a.createElement(ne,{premiumPicks:V}),(t.isSysAdmin||t.isAmbassador)&&a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{className:"frontend-remix-warning"},a.a.createElement(f.Icon,{name:f.IconNames.WpWarning}),ze("You are currently viewing the old Story Admin view to access the Admin Panel")),a.a.createElement(f.Button,{onClick:function(){var e,t,n=["disable_remix","force_frontend_story_details"];null==n||n.forEach((function(e){var t,n,r,a;null===(t=wattpad)||void 0===t||null===(n=t.utils)||void 0===n||n.destroyCookie(e,!0),null===(r=wattpad)||void 0===r||null===(a=r.utils)||void 0===a||a.destroyCookie(e)})),null===(e=wattpad)||void 0===e||null===(t=e.utils)||void 0===t||t.redirectToServer()},size:f.ButtonSize.SMALL,variant:f.ButtonVariant.SECONDARY,label:ze("Exit Story Details admin mode")}),a.a.createElement(Y,{currentUserRoles:t,user:F,storyId:O,storyTranslateUrl:Ee,languages:l,categories:p,storyCategories:Pe,onLanguageChange:c,onCategoryChange:d,storyLanguage:be,onFileSelected:y,onCoverRemove:g})),!h&&a.a.createElement(s.a,{placement:"storylanding_bottom_mweb",adData:Re,className:"storylanding_bottom_mweb advertisement"}),a.a.createElement(b,{isCompleted:ie,isMature:4===de,user:F,publishDate:T,numNewParts:P,numNewBonusParts:I}),a.a.createElement(R,{className:"hidden-xxs",description:N,license:Ge}),te&&a.a.createElement(f.TagCloud,{tagGridTags:Ae,onTagClicked:function(e){app.router.navigate("/stories/".concat(e),{trigger:!0})},className:"hidden-xxs"}),te&&a.a.createElement(G.a,{relatedTags:Ae,onTagClicked:function(e){app.router.navigate("/stories/".concat(e),{trigger:!0})},className:"shown-xxs"}),_&&a.a.createElement("div",{className:"extras-text hidden-xxs"},ze("This story contains Extras."),a.a.createElement("a",{href:"https://support.wattpad.com/hc/en-us/articles/10489312731924-Writer-Subscriptions-FAQ"},ze("Learn more."))),a.a.createElement(j,{className:"hidden-xxs",lastUpdated:Ke},a.a.createElement(k,{storyId:O,sources:Ce,parts:he,isPaywalled:B,readingPosition:Ue}))),a.a.createElement("div",{className:"xxs-container-padding right-container"},!i&&a.a.createElement("div",{className:S()("signup-modal card hidden-xxs","auth-form-width")},a.a.createElement(J.a,{formType:"sidebar",title:Xe,nextUrl:Te||(ke&&ke.url||null),model:Ie,focus:!1})),h&&a.a.createElement(s.a,{placement:"storylanding_top",adData:Re,className:"storylanding_top advertisement"}),a.a.createElement(R,{className:"shown-xxs",isMobile:!0,description:N,license:Ge}),_&&a.a.createElement("div",{className:"extras-text shown-xxs"},ze("This story contains Extras."),a.a.createElement("a",{href:"https://support.wattpad.com/hc/en-us/articles/10489312731924-Writer-Subscriptions-FAQ"},ze("Learn more."))),h&&V&&a.a.createElement(ne,{premiumPicks:V}),a.a.createElement(L,{numParts:ee,lastUpdated:Ke,className:"shown-xxs",isPaywalled:B,readingPosition:Ue,parts:he}),a.a.createElement(w,{storyRankings:we,storyId:O}),a.a.createElement(v,{storyId:O,storyTitle:C,authorUsername:F.username,storyReportUrl:ve,storyLanguage:ye}),Array.isArray(Se)&&Se.length>0&&a.a.createElement(U.a,{stories:Se,userLang:o,page:"story_details"})))),a.a.createElement("div",{className:"action-bar--sticky shown-xxs"},a.a.createElement(M.a,{isPaid:B,isPaidPreview:H,isPaidStory:He,firstPartId:fe,storyId:O,isLoggedInUser:!!n,readingLists:Le,storiesCollections:Me,sources:Ce,isMobile:!0,draft:se})))};de.defaultProps={onLanguageChange:function(){},onCategoryChange:function(){},onFileSelected:function(){},onCoverRemove:function(){},currentUserRoles:{isAdmin:!1,isAmbassador:!1}},de.propTypes={storyData:i.a.shape({id:i.a.number,title:i.a.string,description:i.a.string,createDate:i.a.string,user:i.a.shape({username:i.a.string,avatar:i.a.string,totalReads:i.a.number,age:i.a.number,country:i.a.string}),cover:i.a.string,completed:i.a.bool,draft:i.a.bool,deleted:i.a.bool,isPaywalled:i.a.bool,paidModel:i.a.string,isPaidPreview:i.a.bool,premiumPicks:i.a.shape(ee),length:i.a.number,numParts:i.a.number,storyTags:i.a.object,readCount:i.a.number,rating:i.a.number,voteCount:i.a.number,firstPartId:i.a.number,serverError:i.a.bool,storyReportUrl:i.a.string,storyTranslateUrl:i.a.string,tagRankings:i.a.array,sources:i.a.array,copyright:i.a.number,firstStoryPart:i.a.shape({url:i.a.string}),recommendedStories:i.a.array,url:i.a.string}),currentUserRoles:i.a.shape({isSysAdmin:i.a.bool,isAmbassador:i.a.bool}),username:i.a.string,userLang:i.a.number,isLoggedIn:i.a.bool,signupModel:i.a.object,languages:i.a.array,categories:i.a.array,storyCategories:i.a.array,onLanguageChange:i.a.func,onCategoryChange:i.a.func,onFileSelected:i.a.func,onCoverRemove:i.a.func,isDesktop:i.a.bool,isPremium:i.a.bool,adData:i.a.object};t.a=de},function(e,t,n){"use strict";var r=n(4),a=n.n(r),o=n(1),i=n.n(o),s=n(0),l=n.n(s),c=n(40),u=n.n(c),d=n(7),m=n(5),f=n(12),p=n.n(f),b=n(6);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var a=O(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(o,e);var t,n,r,a=v(o);function o(e){var t,n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=a.call(this,e),n=w(t),i=function(){var e=!t.state.checked;t.setState({checked:e}),t.props.onCheckboxChange(t.props.name,e)},(r="onCheckboxChange")in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,"checkbox"===t.props.type&&(t.state={checked:t.props.value}),t}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.label,n=e.value,r=e.name,a=e.type,o=e.icon,i=e.children;return l.a.createElement("div",null,l.a.createElement("div",{className:"col-xs-6 account-label"},l.a.createElement("label",{htmlFor:r,className:"profile-label"},t),o),l.a.createElement("div",{className:"col-xs-6 account-value"},"text"===a&&l.a.createElement("input",{type:"text",name:r,id:r,defaultValue:Object(m.u)(n)}),"checkbox"===a&&l.a.createElement("input",{type:"checkbox",name:r,id:r,value:this.state.checked,defaultChecked:this.state.checked,onChange:this.onCheckboxChange}),i))}}])&&g(t.prototype,n),r&&g(t,r),o}(l.a.Component);S.propTypes={label:i.a.string,value:i.a.any,name:i.a.string,type:i.a.string,icon:i.a.node,children:i.a.oneOfType([i.a.arrayOf(i.a.node),i.a.node]),onCheckboxChange:i.a.func};var C=S,j=n(2),N=n(3);function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P={1:"https://support.wattpad.com/hc/en-us/articles/201708720-Becoming-a-Beta-tester",2:"https://support.wattpad.com/hc/fr/articles/201708720-Devenir-un-b%C3%AAta-testeur",3:"https://support.wattpad.com/hc/it/articles/201708720-Come-diventare-un-Beta-tester-per-Wattpad",4:"https://support.wattpad.com/hc/de/articles/201708720-Ein-Beta-Tester-werden",5:"https://support.wattpad.com/hc/es/articles/201708720-Convi%C3%A9rtete-en-un-usuario-Beta",6:"https://support.wattpad.com/hc/pt/articles/201708720-Como-se-tornar-um-testador-Beta",18:"https://support.wattpad.com/hc/fil/articles/201708720-Pagiging-Beta-tester",20:"https://support.wattpad.com/hc/id/articles/201708720-Menjadi-Beta-tester",23:"https://support.wattpad.com/hc/tr/articles/201708720-Beta-Kullan%C4%B1c%C4%B1s%C4%B1-Olma"},R=function(e){var t=Object(j.o)().trans,n=k(Object(s.useState)(e.email),2),r=n[0],a=n[1],o=k(Object(s.useState)(e.beta_enabled),2),i=o[0],c=o[1],u=e.username,d=e.has_password,f=e.app,y=e.verified_email,g=e.birthdate,h=P[f.language]?P[f.language]:P[1],v=function(e){a(e)},E=function(t,n){t.preventDefault(),"email"==n?e.openEditModal(n,v,r):e.openEditModal(n)};return l.a.createElement("div",{id:"account"},l.a.createElement("h2",{className:"subheading"},t("Change your account information and privacy settings")),l.a.createElement("form",{id:"account_form",name:"account_form",onSubmit:function(t){t.preventDefault();var n=[{name:"beta_enabled",value:i}];e.onSubmit(t,n)}},l.a.createElement("div",{className:"row account-wrapper"},l.a.createElement("br",null),l.a.createElement(C,{label:t("Username")},u,l.a.createElement("button",{className:"info",id:"changeUsername",onClick:function(e){return E(e,"username")}},t("change"))),l.a.createElement(C,{label:t("Password")},d&&l.a.createElement("span",null,Object(m.u)("********"),l.a.createElement("button",{className:"info",id:"changePassword",onClick:function(e){return E(e,"password")}},t("change"))),!d&&l.a.createElement("button",{className:"info",id:"addPassword",onClick:function(e){return E(e,"addPassword")}},t("create password"))),l.a.createElement(C,{label:t("Email")},r,l.a.createElement("button",{className:"info",id:"changeEmail",onClick:function(e){return E(e,"email")}},t("change")),!y&&l.a.createElement("div",null,t("Not Verified"),l.a.createElement("a",{className:"info",href:"user_activation?action=send&username=".concat(u)},t("Send Activation Code")))),l.a.createElement(C,{label:t("Date of Birth"),name:"birthdate"},l.a.createElement("div",{className:"birthdate-wrapper"},l.a.createElement("input",{id:"birthdate",type:"date",name:"birthdate",max:p()().format("YYYY-MM-DD"),defaultValue:p()(g).format("YYYY-MM-DD")}),l.a.createElement("span",{id:"dob-tooltip",className:"help"},l.a.createElement(N.g,{iconName:"fa-info",height:"16",color:"wp-neutral-2"})))),l.a.createElement(C,{label:t("Join Beta Program"),name:"betaEnabled",value:i,type:"checkbox",onCheckboxChange:function(){c((function(e){return!e}))}},l.a.createElement("a",{className:"info",href:h,target:"_blank",rel:"noopener noreferrer"},t("Learn more")),l.a.createElement("span",{id:"beta-tooltip",className:"help"},l.a.createElement(N.g,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}))),l.a.createElement(C,{label:t("Download your Personal Information")},l.a.createElement("a",{href:"/settings/your-wattpad-data"},t("HTML")),l.a.createElement("a",{href:"/settings/your-wattpad-data?json=1",style:{paddingLeft:"5px"}},t("JSON")),l.a.createElement("span",{id:"info-tooltip",className:"help"},l.a.createElement(N.g,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}))),l.a.createElement("div",{className:"submit"},l.a.createElement(b.Button,{label:t("Submit")})))),l.a.createElement("div",{className:"close-account"},l.a.createElement("a",{href:"/close-account"},t("Close Account"))))};R.propTypes={username:i.a.string.isRequired,has_password:i.a.bool,name:i.a.string,email:i.a.string.isRequired,language:i.a.number.isRequired,verified_email:i.a.bool,birthdate:i.a.string,beta_enabled:i.a.bool.isRequired,app:i.a.object.isRequired,openEditModal:i.a.func,onSubmit:i.a.func,onUpdateEmail:i.a.func},Object(m.o)()&&_.extend(R.propTypes,{openEditModal:i.a.func.isRequired,onSubmit:i.a.func.isRequired});var I=R;function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=q(e);if(t){var a=q(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return D(this,n)}}function D(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?U(e):t}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(e){var t=e.mutedUsers,n=Object(s.useRef)(null);return Object(s.useEffect)((function(){n.current&&n.current.focus()}),[t]),t.map((function(e,t){var r,a=e.username,o=e.avatar;return 0==t&&(r=n),l.a.createElement("li",{key:a,className:"muted-user"},l.a.createElement("img",{src:o,alt:a,align:"top",width:"64",height:"64"}),l.a.createElement("div",{className:"username-wrapper"},l.a.createElement("a",{href:"/user/".concat(a),className:"user-profile on-navigate",title:a,ref:r},a)),l.a.createElement("div",{className:"button-group inline-block relative "},l.a.createElement("button",{className:"btn btn-white dropdown-toggle more-options unmute-button","data-toggle":"dropdown","aria-controls":"more-options","aria-expanded":"false","aria-label":"more options"},l.a.createElement(N.g,{name:"more",size:"24"})),l.a.createElement("div",{className:"triangle"}),l.a.createElement("div",{className:"dropdown-menu align-right"},l.a.createElement(N.u,{username:a,showModerationOptions:!0,isLoading:!1,isMutedByCurrentUser:!0,onReportUser:function(){}}))))}))},W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(i,e);var t,n,r,o=M(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),F(U(t=o.call(this,e)),"moveBackward",(function(e){if("Tab"!==e.key&&!e.shiftKey){var n=t.state.currentPage;n>1&&t.setState({currentPage:n-1})}})),F(U(t),"moveForward",(function(e){if("Tab"!==e.key&&!e.shiftKey){var n=t.state.currentPage;n<t.totalPages&&t.setState({currentPage:n+1})}})),t.state={currentPage:1},t.pageLimit=8,t}return t=i,(n=[{key:"render",value:function(){var e,t,n=this.props,r=n.mutedUsers,o=n.trans,i=this.state.currentPage;this.totalPages=(e=this.props.mutedUsers.length,t=this.pageLimit,Math.ceil(e/t));var s=a()("",{"wp-base-1":1!==i,"wp-neutral-2":1===i}),c=a()("",{"wp-base-1":r.length>this.pageLimit&&i!==this.totalPages,"wp-neutral-2":i>=this.totalPages}),u=(i-1)*this.pageLimit,d=r.slice(u,u+this.pageLimit);return l.a.createElement("div",{id:"mute-list"},l.a.createElement("h5",{className:"subheading"},o("These are the users you have muted")),l.a.createElement("div",{id:"muted-users"},l.a.createElement("ul",{className:"user-list"},l.a.createElement(B,{mutedUsers:d})),l.a.createElement("div",{className:"controls"},l.a.createElement("div",{onClick:this.moveBackward,onKeyDown:this.moveBackward,role:"button",tabIndex:"0"},l.a.createElement(N.g,{iconName:"fa-left",height:"18",color:s})),l.a.createElement("span",{className:"current-page"},this.state.currentPage),l.a.createElement("div",{onClick:this.moveForward,onKeyDown:this.moveForward,role:"button",tabIndex:"0"},l.a.createElement(N.g,{iconName:"fa-right",height:"18",color:c})))))}}])&&x(t.prototype,n),r&&x(t,r),i}(l.a.Component);W.propTypes={trans:i.a.func.isRequired,mutedUsers:i.a.array.isRequired};var H=Object(d.b)((function(e){return{mutedUsers:e.profileData.mutedUsers}}))(W),V=Object(m.n)(H),Y=n(57),G=n(13),z=n(141),$=n(20);function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X=function(e){var t=e.blockedUsers,n=e.toggleModal,r=e.unblockUser,a=Object(s.useRef)(null),o=function(e){var t=function(){return l.a.createElement(z.a,{username:e,toggleModal:n,onUnblock:r})};t.displayName="UnblockModal",n({className:"unblock-modal",hideClose:!0,component:t})};return Object(s.useEffect)((function(){a.current&&a.current.focus()}),[t]),t.map((function(e,t){var n,r=e.username,i=e.avatar;return 0==t&&(n=a),l.a.createElement("li",{key:r,className:"blocked-user"},l.a.createElement("img",{src:i,alt:r,align:"top",width:"64",height:"64"}),l.a.createElement("div",{className:"username-wrapper"},l.a.createElement("a",{href:"/user/".concat(r),className:"user-profile on-navigate",title:r,ref:n},r)),l.a.createElement("div",{className:"button-group inline-block relative "},l.a.createElement("button",{className:"btn btn-white dropdown-toggle more-options unblock-button","data-toggle":"dropdown","aria-controls":"more-options","aria-expanded":"false","aria-label":"more options"},l.a.createElement(N.g,{name:"more",size:"24"})),l.a.createElement("div",{className:"triangle"}),l.a.createElement("div",{className:"dropdown-menu align-right"},l.a.createElement(N.u,{username:r,showModerationOptions:!0,showBlockOption:!0,isLoading:!1,isBlockedByCurrentUser:!0,onUnblockUser:o,onReportUser:function(){}}))))}))};function J(e){var t=e.toggleModal,n=e.unblockUser,r=e.blockedUsers,o=Object(Y.a)().trans,i=K(Object(s.useState)(1),2),c=i[0],u=i[1],d=function(e){if(e.preventDefault(),"Tab"!==e.key&&!e.shiftKey){c>1&&u(c-1)}},m=function(e){(e.preventDefault(),"Tab"===e.key||e.shiftKey)||u(c+1)},f=function(e,t){return Math.ceil(e/t)}(r.length,8),p=a()("",{"wp-base-1":1!==c,"wp-neutral-2":1===c}),b=a()("",{"wp-base-1":r.length>8*c&&c!==f,"wp-neutral-2":c>=f}),y=8*(c-1),g=r.slice(y,y+8);return l.a.createElement("div",{id:"block-list"},l.a.createElement("h5",{className:"block-subheading"},o("When you block someone, that person won’t be able to follow you, send you messages, post on your profile or read and comment on your stories."),l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"learn-more",href:"https://wattpad.zendesk.com/knowledge/articles/4408465238164/en-us?brand_id=119734"},o("Learn more"))),l.a.createElement("div",{id:"blocked-users"},l.a.createElement("ul",{className:"user-list"},l.a.createElement(X,{blockedUsers:g,toggleModal:t,unblockUser:n})),l.a.createElement("div",{className:"controls"},l.a.createElement("button",{className:"back-btn",onClick:d,onKeyPress:d,disabled:1===c},l.a.createElement(N.g,{iconName:"fa-left",height:"18",color:p})),l.a.createElement("span",{className:"current-page"},c),l.a.createElement("button",{className:"forward-btn",onClick:m,onKeyPress:m,disabled:c>=f||g.length<8},l.a.createElement(N.g,{iconName:"fa-right",height:"18",color:b})))))}J.propTypes={blockedUsers:i.a.array,toggleModal:i.a.func,unblockUser:i.a.func.isRequired,currentUser:i.a.string};var Q=Object(d.b)((function(e){return{blockedUsers:e.profileData.blockedUsers}}),{unblockUser:$.j,toggleModal:G.b})(J);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ie(e);if(t){var a=ie(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ae(this,n)}}function ae(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?oe(e):t}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(o,e);var t,n,r,a=re(o);function o(e){var t,n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=a.call(this,e),n=oe(t),i=function(){var e=!t.state.checked;t.setState({checked:e}),t.props.onCheckboxChange(t.props.name,e)},(r="onCheckboxChange")in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,t.state={checked:t.props.value},t}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.name,n=e.value,r=e.children,a=this.state.checked;return l.a.createElement("div",null,l.a.createElement("div",{className:"col-xs-2"},l.a.createElement("input",{type:"checkbox",name:t,value:n,defaultChecked:a,onChange:this.onCheckboxChange})),l.a.createElement("div",{className:"col-xs-10"},r))}}])&&te(t.prototype,n),r&&te(t,r),o}(l.a.Component);function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pe(e);if(t){var a=pe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return me(this,n)}}function me(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?fe(e):t}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}se.propTypes={name:i.a.string,value:i.a.any,children:i.a.oneOfType([i.a.arrayOf(i.a.node),i.a.node]),onCheckboxChange:i.a.func};var ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(o,e);var t,n,r,a=de(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),be(fe(t=a.call(this,e)),"handleSubmit",(function(e){t.props.updateNotifications(e)})),be(fe(t),"onCheckboxChange",(function(e,n){var r={};r[e]=n,t.setState(r)}));var n=e.alerts,r=e.alertssub,i=e.subscribe;return t.state={alerts:1===parseInt(n,10),alertssub:r,subscribe:1===parseInt(i,10)},t}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.trans,n=e.userId,r=this.state,a=r.alerts,o=r.alertssub,i=r.subscribe;return l.a.createElement("div",{id:"notification"},l.a.createElement("h2",{className:"subheading"},t("Receive email notifications for these events")),l.a.createElement("form",{id:"notifications_form",name:"notifications_form",className:"row",onSubmit:this.handleSubmit},l.a.createElement("input",{type:"hidden",name:"id",value:n}),l.a.createElement(se,{name:"alerts",value:a,onCheckboxChange:this.onCheckboxChange},l.a.createElement("h4",null,t("Messages")),l.a.createElement("ul",null,l.a.createElement("li",null,t("Someone writes on your message board")),l.a.createElement("li",null,t("Someone starts following you")),l.a.createElement("li",null,t("Someone comments on your story")),l.a.createElement("li",null,t("Someone mentions you in a comment")),l.a.createElement("li",null,t("You receive a message")))),l.a.createElement(se,{name:"alertssub",value:o,onCheckboxChange:this.onCheckboxChange},l.a.createElement("h4",null,t("Users you follow upload a story"))),l.a.createElement(se,{name:"subscribe",value:i,onCheckboxChange:this.onCheckboxChange},l.a.createElement("h4",null,t("Updates")),l.a.createElement("ul",null,l.a.createElement("li",null,t("Important announcements from Wattpad")))),l.a.createElement("div",{className:"col-xs-12 submit"},l.a.createElement("input",{type:"submit",className:"btn btn-md btn-orange",value:t("Save")})),l.a.createElement("input",{type:"hidden",name:"alertssubmask",value:"0"})))}}])&&ce(t.prototype,n),r&&ce(t,r),o}(l.a.Component);ye.propTypes={trans:i.a.func.isRequired,userId:i.a.number.isRequired,alerts:i.a.any.isRequired,alertssub:i.a.bool.isRequired,subscribe:i.a.any.isRequired,updateNotifications:i.a.func},Object(m.o)()&&_.extend(ye.propTypes,{updateNotifications:i.a.func.isRequired});var ge=Object(m.n)(ye),he=n(122),ve=n(58),Ee=n(152);function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Te(e);if(t){var a=Te(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ne(this,n)}}function Ne(e,t){return!t||"object"!==we(t)&&"function"!=typeof t?ke(e):t}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(){return l.a.createElement(N.c,{name:"/icons/spinner-black.svg",className:"fa-spin",alt:"Loading spinner",height:"40",width:"40"})}var Re=["account","notifications","content","mute","block"],Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(i,e);var t,n,r,o=je(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Pe(ke(t=o.call(this,e)),"onSubmitChanges",(function(e,n){t.props.onSaveAccountChanges(e,n)})),Pe(ke(t),"onSaveAvatarChanges",(function(e){t.props.saveAvatarChanges(e),u.a.unmountComponentAtNode(document.getElementById("component-UserSettings-user-settings-/settings"))})),Pe(ke(t),"onSaveBackgroundChanges",(function(e){t.props.saveBackgroundChanges(e),u.a.unmountComponentAtNode(document.getElementById("component-UserSettings-user-settings-/settings"))}));var n="account";if(Object(m.o)()){var r=window.location.hash.replace("#","");if("notifications"===r)return window.location.href="/settings/notifications",Ne(t);Re.includes(r)&&(n=r)}return t.state={selectedTab:n,isLoading:!0},t}return t=i,(n=[{key:"componentDidMount",value:function(){this.props.renderTooltips(),this.props.initializeMutedUsers(this.props.userObj.id),this.props.setBlockedUsers(this.props.userObj.username),this.setState({isLoading:!1})}},{key:"onTabSelect",value:function(e,t){"Tab"===t.key||t.shiftKey||this.setState({selectedTab:e})}},{key:"render",value:function(){var e=this.props,t=e.userObj,n=e.app,r=e.trans,o=this.state,i=o.selectedTab,s=o.isLoading,c=r("Account"),u=r("Notifications"),d=r("Content Preferences"),m=r("Muted Accounts"),f=r("Blocked Accounts"),p=a()({hide:"account"!==i}),b=a()({hide:"notifications"!==i}),y=a()({hide:"content"!==i}),g=a()({hide:"mute"!==i}),h=a()({hide:"block"!==i}),v=a()("info-tabs",{selected:"account"===i}),E=a()("info-tabs",{selected:"notifications"===i}),w=a()("info-tabs",{selected:"content"===i}),O=a()("info-tabs",{selected:"mute"===i}),S=a()("info-tabs",{selected:"block"===i});return l.a.createElement("div",{id:"content_block",className:"user-settings"},l.a.createElement(he.a,null),l.a.createElement(ve.a,null),l.a.createElement("div",{className:"container"},s&&l.a.createElement("div",{className:"loading-spinner"},l.a.createElement(_e,null)),!s&&l.a.createElement(l.a.Fragment,null,l.a.createElement("ol",{role:"tablist"},l.a.createElement("li",{id:"select_account",className:v,onClick:this.onTabSelect.bind(this,"account"),onKeyDown:this.onTabSelect.bind(this,"account"),role:"tab",tabIndex:0},l.a.createElement("span",null,c)),l.a.createElement("li",{id:"select_notifications",className:E},l.a.createElement("span",null,l.a.createElement("a",{href:"/settings/notifications"},u))),l.a.createElement("li",{id:"select_content",className:w,onClick:this.onTabSelect.bind(this,"content"),onKeyDown:this.onTabSelect.bind(this,"content"),role:"tab",tabIndex:0},l.a.createElement("span",null,d)),l.a.createElement("li",{id:"select_ignore_list",className:O,onClick:this.onTabSelect.bind(this,"mute"),onKeyDown:this.onTabSelect.bind(this,"mute"),role:"tab",tabIndex:0},l.a.createElement("span",null,m)),l.a.createElement("li",{id:"select_block_list",className:S,onClick:this.onTabSelect.bind(this,"block"),onKeyDown:this.onTabSelect.bind(this,"block"),role:"tab",tabIndex:0},l.a.createElement("span",null,f))),l.a.createElement("div",{className:p},l.a.createElement(I,Oe({},t,{app:n,onSubmit:this.onSubmitChanges,openEditModal:this.props.openUserSettingsModal}))),l.a.createElement("div",{className:b},l.a.createElement(ge,Oe({},t.notificationSettings,{userId:t.id,updateNotifications:this.props.updateNotifications}))),l.a.createElement("div",{className:y},l.a.createElement(Ee.a,{isSettingsPage:!0})),l.a.createElement("div",{className:g},l.a.createElement(V,null)),l.a.createElement("div",{className:h},l.a.createElement(Q,{currentUser:t.username})))),l.a.createElement("div",{className:"mute-accounts-options-modal"}))}}])&&Se(t.prototype,n),r&&Se(t,r),i}(l.a.Component);Ie.propTypes={userObj:i.a.object.isRequired,app:i.a.object.isRequired,trans:i.a.func.isRequired,mutedUsers:i.a.array.isRequired,onSaveAccountChanges:i.a.func,openUserSettingsModal:i.a.func,saveAvatarChanges:i.a.func,saveBackgroundChanges:i.a.func,renderTooltips:i.a.func,updateNotifications:i.a.func,initializeMutedUsers:i.a.func,setBlockedUsers:i.a.func,testGroups:i.a.object},Object(m.o)()&&_.extend(Ie.propTypes,{saveAvatarChanges:i.a.func.isRequired,saveBackgroundChanges:i.a.func.isRequired,onSaveAccountChanges:i.a.func.isRequired,openUserSettingsModal:i.a.func.isRequired,renderTooltips:i.a.func.isRequired,updateNotifications:i.a.func.isRequired});var Ae=Object(d.b)(null,{initializeMutedUsers:$.e,setBlockedUsers:$.g})(Ie);t.a=Object(m.n)(Ae)},function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r=n(7),a=n(1),o=n.n(a),i=n(0),s=n.n(i),l=n(4),c=n.n(l),u=n(2),d=n(8),m=function(){var e=Object(u.o)().trans,t=d.MAP_WATTYS_SITE_TO_LINKS[parseInt(app.get("language"),10)]||d.DEFAULT_WATTYS_SITE_LINK;return s.a.createElement("div",{className:"text"},s.a.createElement("div",{className:"success-text",dangerouslySetInnerHTML:{__html:e("Your story has been submitted to The %s Watty Awards!",d.CURRENT_WATTYS_YEAR)}}),s.a.createElement("a",{className:"plain-link bold",href:t,target:"_blank",rel:"noopener noreferrer"},e("When will winners be announced?")))},f=function(e){var t=e.onBtnClick,n=Object(u.o)().trans,r=d.MAP_WATTYS_SITE_TO_LINKS[parseInt(app.get("language"),10)]||d.DEFAULT_WATTYS_SITE_LINK;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"text"},n("Congratulations! Your story is eligible for The %s Wattys!",(new Date).getFullYear()),s.a.createElement("a",{className:"plain-link bold",href:r,target:"_blank",rel:"noopener noreferrer"},n("Find out more about the Wattys"))),s.a.createElement("button",{onClick:t,className:"btn btn-white"},s.a.createElement("div",{className:"btn-text"},n("Enter this story"))))};f.propTypes={onBtnClick:o.a.func.isRequired};var p=f,b=function(){var e=Object(u.o)().trans,t=d.MAP_WATTYS_ELIGIBILITY_TO_LINKS[parseInt(app.get("language"),10)]||d.DEFAULT_ELIGIBILITY_LINK,n=d.MAP_WATTYS_SITE_TO_LINKS[parseInt(app.get("language"),10)]||d.DEFAULT_WATTYS_SITE_LINK;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"text"},s.a.createElement("span",{dangerouslySetInnerHTML:{__html:e("Your story is <strong>so close</strong> to being eligible for The %s Wattys!",d.CURRENT_WATTYS_YEAR)}}),s.a.createElement("a",{className:"plain-link bold",href:t,target:"_blank",rel:"noopener noreferrer"},e("What is the eligibility criteria?"))),s.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"btn btn-white"},s.a.createElement("div",{className:"btn-text"},e("%s Wattys",d.CURRENT_WATTYS_YEAR))))},y=n(3),g=n(29),h=n(60),v=n(5),E=function(e){var t=e.onBtnClick,n=Object(u.o)().trans,r=d.MAP_WATTYS_ELIGIBILITY_TO_LINKS[parseInt(app.get("language"),10)]||d.DEFAULT_ELIGIBILITY_LINK;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"text"},s.a.createElement("span",{dangerouslySetInnerHTML:{__html:n("Congratulations! Your story <strong>may</strong> be eligible for The %s Wattys!",d.CURRENT_WATTYS_YEAR)}}),s.a.createElement("a",{className:"plain-link bold",href:r,target:"_blank",rel:"noopener noreferrer"},n("Is your ongoing story eligible?"))),s.a.createElement("button",{onClick:t,className:"btn btn-white"},s.a.createElement("div",{className:"btn-text"},n("Enter this story"))))};E.propTypes={onBtnClick:o.a.func.isRequired};var w=E;function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var a=P(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(o,e);var t,n,r,a=N(o);function o(){var e;S(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(T(e=a.call.apply(a,[this].concat(n))),"onOpenModal",(function(){e.props.openContestForm(e.props.storyId),window.te.push("event","wattys","banner",null,"click",{storyid:parseInt(e.props.storyId),type:"eligible",page:"story_details"})})),_(T(e),"renderLoadingBanner",(function(){return s.a.createElement("div",{className:"text"},s.a.createElement("div",{className:"loading-spinner-banner"},s.a.createElement(g.a,{name:"/icons/spinner.svg",className:"fa-spin",alt:"Loading spinner",height:"40",width:"40"})))})),_(T(e),"renderProperBanner",(function(){return e.props.hasSubmitted?s.a.createElement(m,null):e.props.isNearEligible&&e.props.storyStatus===d.COMPLETE_FLAG?s.a.createElement(b,null):e.props.storyStatus===d.COMPLETE_FLAG?s.a.createElement(p,{onBtnClick:e.onOpenModal}):e.props.storyStatus===d.ONGOING_FLAG?s.a.createElement(w,{onBtnClick:e.onOpenModal}):void 0})),e}return t=o,(n=[{key:"componentDidMount",value:function(){this.props.storyId&&(this.props.hasSubmitted&&this.props.fetchSubmittedFormBannerInfo(this.props.storyId),window.te.push("event","wattys","banner",null,"view",{storyid:parseInt(this.props.storyId),type:this.props.hasSubmitted?"confirmed_submission":this.props.isNearEligible?"near_eligible":"eligible",page:"story_details"}))}},{key:"render",value:function(){var e=this.props,t=e.hasSubmitted,n=e.isLoading,r=e.hasCheckedSubmission,a=c()({"cover-submitted-success":t,"cover-eligibility":!t});return r?s.a.createElement("div",{id:"contest-banner",className:a},n?this.renderLoadingBanner():this.renderProperBanner(),s.a.createElement(y.v,null)):null}}])&&C(t.prototype,n),r&&C(t,r),o}(i.Component);R.propTypes={openContestForm:o.a.func,storyId:o.a.string.isRequired,fetchSubmittedFormBannerInfo:o.a.func.isRequired,hasSubmitted:o.a.bool.isRequired,isLoading:o.a.bool.isRequired,isNearEligible:o.a.bool.isRequired,hasCheckedSubmission:o.a.bool.isRequired,storyStatus:o.a.any};var I=Object(r.b)((function(e){return{hasSubmitted:e.contestForm.hasSubmitted,isLoading:e.contestForm.isLoading,isNearEligible:e.contestForm.isNearEligible,hasCheckedSubmission:e.contestForm.hasCheckedSubmission,storyStatus:e.contestForm.data.storyStatus}}),{openContestForm:h.d,fetchSubmittedFormBannerInfo:h.c})(Object(v.n)(R))},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(4),i=n.n(o),s=n(6),l=n(2),c=n(1),u=n.n(c);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m="input",f="textArea",p=function(e){var t=e.id,n=e.label,r=e.initialValue,o=e.validations,s=e.hasError,l=e.placeholder,c=e.inputType,u=void 0===c?m:c;return a.a.createElement("div",{className:"report-input-field"},a.a.createElement("label",{htmlFor:t},n,(null==o?void 0:o.required)&&a.a.createElement("span",null,"*"),":"),u===f?a.a.createElement("textarea",d({id:t,rows:5,placeholder:l,defaultValue:r},o,{className:i()({error:s})})):a.a.createElement("input",d({id:t,placeholder:l,defaultValue:r},o,{className:i()({error:s})})))};p.propTypes={id:u.a.string.isRequired,label:u.a.string.isRequired,initialValue:u.a.string,validations:u.a.object,hasError:u.a.bool,placeholder:u.a.string,inputType:u.a.string};var b=p,y=n(3);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=e.id,n=e.label,o=g(Object(r.useState)(!1),2),i=o[0],s=o[1];return a.a.createElement("div",{className:"report-checkbox-field"},a.a.createElement(y.n,{id:t,required:!0,checked:i,contentId:"content-".concat(t),onChange:function(){return s((function(e){return!e}))}},n,a.a.createElement("span",null,"*")))};v.propTypes={id:u.a.string.isRequired,label:u.a.string.isRequired};var E=v,w=function(e){var t=e.id,n=e.label,r=e.options;return a.a.createElement("div",{className:"report-dropdown-field"},a.a.createElement("label",{htmlFor:t},n,a.a.createElement("span",null,"*"),":"),a.a.createElement("select",{id:t,name:t,defaultValue:"",required:!0},r.map((function(e){return a.a.createElement("option",{key:e.key||"empty",value:e.key,disabled:e.disabled},e.value)}))))};w.propTypes={id:u.a.string.isRequired,label:u.a.string.isRequired,options:u.a.array.isRequired};var O=w;function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N={required:!0},k=C(C({},N),{},{pattern:"[a-z\\d!#$%&'*+/=?^_‘{|}~-]+(?:\\.[a-z\\d!#$%&'*+/=?^_‘{|}~-]+)*@(?:[a-z\\d](?:[a-z\\d-]*[a-z\\d])?\\.)+[a-z\\d](?:[a-z\\d-]*[a-z\\d])?"}),T=C(C({},N),{},{minLength:5}),P={FIRST_NAME:"firstName",LAST_NAME:"lastName",USERNAME:"username",EMAIL:"email",COMPANY:"company",ADDRESS:"address",COUNTRY:"country",CITY:"city",PROVINCE:"province",POSTAL_CODE:"postalCode",PHONE_NUMBER:"phoneNumber",DESC_ALLEGED:"descriptionAlleged",ORIGINAL_WORK:"originalWorkUrl",WHERE_TO_FIND_ORIGINAL:"whereToFindOriginal",REPORTED_URLS:"reportedUrls",IS_ACCURATE:"isAccurate",GOOD_FAITH:"goodFaith",OWNER:"owner",SIGNATURE:"signature"},_=function(e){return[{key:"",value:e("Select an option"),disabled:!0},{key:"Word_for_word_copy_of_my_work",value:e("Word for word copy of my work")},{key:"Translation_of_my_work",value:e("Translation of my work")},{key:"Adaptation_of_my_work",value:e("Adaptation of my work (For example, character name changes, gender swaps, additional characters added, etc.)")},{key:"Image_photos_illustrations_etc",value:e("Image, photos, illustrations, etc.")},{key:"Piracy_spam",value:e("Piracy/spam")},{key:"Other",value:e("Other (Please specify in the description below)")}]},R=function(e,t){return'<a target="_blank" href="'.concat(e,'">').concat(t,"</a>")},I=function(e){var t=R("/terms",e("Terms of Service")),n=R("https://support.wattpad.com/hc/articles/204471770",e("Repeat Infringer Policy"));return e("Copyright laws protect your original works. Wattpad’s %s prohibits uploading content that violates any intellectual property rights. As a service provider, we also comply with all applicable provisions of the Digital Millennium Copyright Act (“DMCA”). Our policy is to respond to valid notices of alleged copyright infringement by removing or disabling access to allegedly infringing material and terminating users, when appropriate, according to our %s.",t,n)},A=function(e){var t=R("https://support.wattpad.com/hc/articles/204471770",e("Reporting Copyright Infringement"));return e("If you are a copyright owner, are authorized to act on behalf of one, or are authorized to act under any exclusive right under copyright, you can report alleged infringements taking place on or through Wattpad by completing the following DMCA Notice of Alleged Infringement form. If you are not the copyright holder, or you are reporting infringements located outside of the Wattpad platform, please check out our reporting article: %s.",t)},x=function(e){var t=R("https://support.wattpad.com/hc/articles/360033371032",e("check your request status"));return e("We’ve received your request and will do our best to get back to you soon. Please note that we offer support during regular business days.  Submitting multiple requests about the same issue will delay our response to you as it can move your request to the bottom of the queue. If you have a Wattpad account, you can %s in our Help Center.",t)},L=function(e){var t=R("https://support.wattpad.com/hc/categories/8301500664212-Copyright",e("Help Center articles"));return e("For information about Copyright on Wattpad, check out our %s",t)};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q="story",F=48864,B="reported_copyright",W="Story Report",H=25248746,V="dmca",Y=function(e){return Object.values(P).reduce(function(e){return function(t,n){return D(D({},t),{},U({},n,e[n].value))}}(e),{})},G=function(e){return e?"".concat(window.location.origin,"/story/").concat(e):""},z=function(e){return e?"".concat(window.location.origin,"/").concat(e):""},K=function(e,t,n,r){return"-------------------------------------\nForm Information\n-------------------------------------\n"+"First name: ".concat(e.firstName,"\n")+"Last name: ".concat(e.lastName,"\n")+"Wattpad username: ".concat(e.username,"\n")+"Email: ".concat(e.email,"\n")+"Company: ".concat(e.company,"\n")+"Mailing address: ".concat(e.address,"\n")+"Country: ".concat(e.country,"\n")+"City: ".concat(e.city,"\n")+"State/Province: ".concat(e.province,"\n")+"Postal code: ".concat(e.postalCode,"\n")+"Phone number: ".concat(e.phoneNumber,"\n")+"Description of the alleged infringement: ".concat(e.descriptionAlleged,"\n")+"URL of your original work: ".concat(e.originalWorkUrl,"\n")+"Please tell us where we can find the alleged infringement within the story or account: ".concat(e.whereToFindOriginal,"\n")+"URL(s) of the allegedly infringing work located on Wattpad: ".concat(e.reportedUrls,"\n")+"The information in this notice is accurate: ".concat(e.isAccurate,"\n")+"I have a good faith belief that the disputed use of the copyrighted material is not authorized by the copyright owner, its agent, or the law: ".concat(e.goodFaith,"\n")+"I state under penalty of perjury that I am the owner, or authorized to act on behalf of the owner, of the copyright or of an exclusive right under the copyright that is allegedly infringed: ".concat(e.owner,"\n")+"Electronic signature: ".concat(e.signature)+"\n-------------------------------------\nType of Content: Story\nType of Report: DMCA\n"+(n?"Reported Story Part: ".concat(z(n),"\n"):"")+"Reported Story: ".concat(G(t),"\n")+"Reported User's Profile: ".concat((a=r)?"".concat(window.location.origin,"/user/").concat(a):"","\n")+"Reported Group ID: ".concat(t||"","\n");var a};function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(){var e,t=Object(l.f)(),n=Object(l.o)().trans,o=Object(l.j)(),c=Z(Object(r.useState)(!1),2),u=c[0],d=c[1],m=Z(Object(r.useState)(!1),2),p=m[0],y=m[1],g=Z(Object(r.useState)(!1),2),h=g[0],v=g[1],w=o.get("partId"),S=o.get("storyId"),C=o.get("reportedUser"),j=o.get("language"),R=w?z(w):G(S),M=function(e){var t=e.currentTarget;d(t.checkValidity())},D=function(e){var t;(v(!0),d(e.isValid),e.isValid)&&(t=function(e,t,n,r,a){return{requester:{name:"".concat(e.firstName," ").concat(e.lastName),email:e.email},id:t,comment:K(e,t,n,r),ticket_form_id:F,username:r,reportType:q,reason:B,subject:W,custom_fields:[{id:22592474,value:a||"English"},{id:21519886,value:"mobile"===wattpad.utils.getDeviceType()?"mobile_web":"web"},{id:21523158,value:B},{id:H,value:V}]}}(e.data,S,w,C,j),$.ajax({type:"POST",url:"/v4/support/tickets/",data:t})).done((function(){y(!0),window.scrollTo({top:0,behavior:"smooth"})})).fail((function(){var e,t;null===(e=wattpad)||void 0===e||null===(t=e.utils)||void 0===t||t.showToast(n("Something went wrong. Please try again"))}))};return a.a.createElement("div",{className:"help-dmca-page",role:"main"},a.a.createElement("h1",{className:"text-center"},n("DMCA Takedown Notice")),p?a.a.createElement("div",{className:"success"},a.a.createElement("h2",null,n("Your report has been submitted. We appreciate your efforts in reporting alleged copyright infringement!")),a.a.createElement("br",null),a.a.createElement("p",{dangerouslySetInnerHTML:{__html:x(n)}}),a.a.createElement("br",null),a.a.createElement("p",{dangerouslySetInnerHTML:{__html:L(n)}}),a.a.createElement("br",null),a.a.createElement("p",null,n("We look forward to helping you!")),a.a.createElement("br",null),a.a.createElement("p",null,n("The Wattpad Copyright Team"))):a.a.createElement("div",{className:"form-container"},a.a.createElement("div",{className:"info"},a.a.createElement("p",{dangerouslySetInnerHTML:{__html:I(n)}}),a.a.createElement("br",null),a.a.createElement("p",{dangerouslySetInnerHTML:{__html:A(n)}}),a.a.createElement("br",null),a.a.createElement("span",{className:"important"},n("IMPORTANT: There may be legal and financial consequences for submitting false claims. Abuse of this form may lead to your account being terminated."))),a.a.createElement("form",{noValidate:!0,onChange:M,onSubmit:(e=D,function(t){t.preventDefault();var n=t.target,r=n.checkValidity(),a=n.querySelector(":invalid");null==a||a.focus();var o={isValid:r,data:Y(n)};e(o)}),className:i()("form",{submitted:h})},a.a.createElement("h2",null,n("Contact Information")),a.a.createElement(b,{id:P.FIRST_NAME,label:n("First name"),validations:N}),a.a.createElement(b,{id:P.LAST_NAME,label:n("Last name"),validations:N}),a.a.createElement(b,{id:P.USERNAME,initialValue:t.username,label:n("Wattpad username")}),a.a.createElement(b,{id:P.EMAIL,label:n("Email"),initialValue:t.email,validations:k}),a.a.createElement(b,{id:P.COMPANY,label:n("Company")}),a.a.createElement(b,{id:P.ADDRESS,label:n("Mailing address"),placeholder:n("For example: 123 Main St. is an address"),validations:N}),a.a.createElement(b,{id:P.COUNTRY,label:n("Country"),validations:N}),a.a.createElement(b,{id:P.CITY,label:n("City"),validations:N}),a.a.createElement(b,{id:P.PROVINCE,label:n("State/Province"),validations:N}),a.a.createElement(b,{id:P.POSTAL_CODE,label:n("Postal code"),validations:N}),a.a.createElement(b,{id:P.PHONE_NUMBER,label:n("Phone number"),validations:N}),a.a.createElement("h2",null,n("Description and Location of the Allegedly Infringing Work")),a.a.createElement(O,{id:P.DESC_ALLEGED,label:n("Description of the alleged infringement"),options:_(n)}),a.a.createElement(b,{id:P.ORIGINAL_WORK,label:n("URL of your original work"),placeholder:n("Paste the URL"),validations:N}),a.a.createElement(b,{id:P.WHERE_TO_FIND_ORIGINAL,label:n("Please tell us where we can find the alleged infringement within the story or account"),placeholder:n("For example: “Half way down Chapter Three starting from the line “___.” Or: “They’re linking to a download of my work in their About section.”"),inputType:f}),a.a.createElement(b,{id:P.REPORTED_URLS,inputType:f,label:n("URL(s) of the allegedly infringing work located on Wattpad"),initialValue:R,validations:N}),a.a.createElement("h2",null,n("Confirmation + Electronic Signature")),a.a.createElement(E,{id:P.IS_ACCURATE,label:n("The information in this notice is accurate.")}),a.a.createElement(E,{id:P.GOOD_FAITH,label:n("I have a good faith belief that the disputed use of the copyrighted material is not authorized by the copyright owner, its agent, or the law.")}),a.a.createElement(E,{id:P.OWNER,label:n("I state under penalty of perjury that I am the owner, or authorized to act on behalf of the owner, of the copyright or of an exclusive right under the copyright that is allegedly infringed.")}),a.a.createElement("br",null),a.a.createElement(b,{id:P.SIGNATURE,label:n("Typing your full legal name in this box acts as your electronic signature"),validations:T}),h&&!u&&a.a.createElement("div",{className:"error-message"},n("A mandatory field has been left blank."),a.a.createElement("br",null),n("Please ensure all necessary fields are filled in.")),a.a.createElement(s.Button,{label:n("Submit")}))))}},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(2),l=n(3),c=n(98),u=n(39),d=n(5),m=n(4),f=n.n(m),p=function(e){return[e("To get the best Wattpad experience, we want to know a bit about you!"),e("So you like to write! What best describes you as a writer?")]},b=function(e){var t=e.user_type,n=e.writer_stage,r=e.finished_story;t&&window.te.push("event","onboarding","user_type",null,"complete",{type:t}),void 0!==n&&(null===n?window.te.push("event","onboarding","writer_stage",null,"skip"):window.te.push("event","onboarding","writer_stage",null,"complete",{type:n})),n&&void 0!==r&&(null===r?window.te.push("event","onboarding","finished_story",null,"skip"):window.te.push("event","onboarding","finished_story",null,"complete",{type:r}))};function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(){var e=Object(s.o)().trans,t=y(Object(o.useState)(null),2),n=t[0],r=t[1],a=y(Object(o.useState)(!1),2),c=a[0],d=a[1];return c?i.a.createElement(u.a,{push:!0,to:{pathname:"/motivation",state:{user_type:n}}}):i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,p(e)[0]),i.a.createElement("div",{id:"ReaderOrWriter",className:"options"},Object.entries(function(e){return{reader:{message:e("I like to read"),icon:"read"},writer:{message:e("I like to write"),icon:"write"},reader_writer:{message:e("I like both"),icon:"both"}}}(e)).map((function(e){var t=y(e,2),a=t[0],o=t[1],s=o.message,c=o.icon,u=n===a,d="".concat(c).concat(u?"_selected":"");return i.a.createElement("div",{key:a,className:f()("option",{selected:u}),onClick:function(){r(a)},onKeyDown:function(){r(a)},role:"option",tabIndex:"0","aria-selected":u},i.a.createElement(l.c,{name:"shared/".concat(d,".svg"),alt:"icon"}),i.a.createElement("div",null,s))}))),i.a.createElement("button",{className:f()("btn btn-md btn-orange",{disabled:null===n}),onClick:function(){"reader"===n?(b({user_type:n}),app.router.navigate("/start",{trigger:!0})):d(!0)}},e("Next")))};function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=function(){var e=Object(s.o)().trans,t=Object(u.h)(),n=t.hash,r=t.state,a=n?n.substring(1):null,o=function(e,t){b({user_type:r.user_type,writer_stage:e,finished_story:t}),app.router.navigate("/start",{trigger:!0})},l=function(){return i.a.createElement("div",{className:"finished-novel"},i.a.createElement("p",null,e("Have you finished writing a novel?")),i.a.createElement("div",{className:"novel-options"},Object.entries(function(e){return{yes:e("Yes"),almost:e("Almost"),no:e("No")}}(e)).map((function(e){var t=v(e,2),n=t[0],r=t[1];return i.a.createElement("a",{className:"option",onClick:function(e){e.preventDefault(),o(a,n)},href:"/start",key:n},r)}))))};return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,p(e)[1]),i.a.createElement("div",{id:"WriterMotivation",className:f()("options",{"has-selection":null!==a})},Object.entries(function(e){return{fun:e("I mostly write for fun"),researching:e("I'm exploring opportunities for my work(s)"),pursuing_career:e("I'm pursuing a career as a writer"),professional:e("I am a professional writer"),none:e("Not quite any of these...")}}(e)).map((function(e){var t=v(e,2),n=t[0],s=t[1];return null!==a&&a!==n?null:"none"===n?i.a.createElement("a",{key:n,href:"/start",onClick:function(e){e.preventDefault(),o(n)},className:f()("option",{selected:a===n})},i.a.createElement("div",null,s)):i.a.createElement(c.b,{key:n,to:{pathname:null===a?"/motivation/novel":"/motivation",hash:null===a?"#".concat(n):"",state:r},className:f()("option",{selected:a===n})},i.a.createElement("div",null,s))}))),i.a.createElement(u.b,{path:"/motivation/novel"},i.a.createElement(l,null)),i.a.createElement("a",{href:"/start",className:"skip",onClick:function(e){e.preventDefault(),o(a,null)}},e("Skip")))},O=function(e){var t=e.url,n=e.username,r=Object(s.o)().trans,a=Object(d.o)()?c.a:u.d;return i.a.createElement(a,{basename:"/start/writerjourney",location:t,context:{}},i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"full-screen background-1 onboarding-bg"}),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"onboardingModal modal fade in writerJourney"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-body"},i.a.createElement("div",{className:"onboarding-writer-journey"},i.a.createElement(l.c,{name:"logos/wp-logo-orange.png",alt:"wattpad logo",className:"wp-logo",width:"174"}),i.a.createElement("h4",null,r("Hi @%s",n)),i.a.createElement(u.e,null,i.a.createElement(u.b,{exact:!0,path:"/"},i.a.createElement(h,null)),i.a.createElement(u.b,{path:"/motivation"},i.a.createElement(w,null)),i.a.createElement(u.b,{render:function(){return i.a.createElement(u.a,{to:"/"})}}))))))))))};O.propTypes={username:a.a.string,url:a.a.string};t.a=O},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(7),i=n(1),s=n.n(i),l=n(4),c=n.n(l),u=n(154),d=n(155),m=n(3),f=n(94),p=n(106),b=n(66),y=n(22);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function w(e){var t=e.info,n=e.label,o=e.options,i=e.onChange,s=e.className,l=e.labelClassName,u=e.values,d=E(e,["info","label","options","onChange","className","labelClassName","values"]),f=h(Object(r.useState)(),2),p=f[0],b=f[1],v=function(e){i(e)},w=o.map((function(e){return a.a.createElement("div",{key:e.value,className:c()(s,"checkbox")},a.a.createElement("input",g({type:"checkbox",id:e.label,value:e.value,className:c()({focus:p}),checked:u.includes(e.value),onChange:v,onFocus:function(){return b(!0)},onBlur:function(){return b(!1)}},d)),a.a.createElement("span",{className:"checkmark"},a.a.createElement(m.g,{iconName:"fa-check",height:"14",color:"wp-base-1"})),a.a.createElement("label",{id:"checkbox-label",htmlFor:e.label},e.label))}));return a.a.createElement("div",{className:"form-field checkbox-container"},Object(y.c)({label:n,labelClassName:l,tooltip:t}),a.a.createElement("div",{className:"checkbox-group"},w))}w.defaultProps={values:[],onChange:function(){}},w.propTypes={options:s.a.array.isRequired,values:s.a.array,onChange:s.a.func.isRequired,className:s.a.string,label:s.a.string,labelClassName:s.a.string,info:s.a.string};var O=w;function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function k(e){var t=e.labels,n=e.range,o=e.name,i=e.value,s=e.disabledUntilClick,l=e.onChange,u=e.step,d=e.className,m=N(e,["labels","range","name","value","disabledUntilClick","onChange","step","className"]),f=C(Object(r.useState)(),2),p=f[0],b=f[1],y=C(Object(r.useState)(s),2),g=y[0],h=y[1];Object(r.useEffect)((function(){h(s)}),[s,h]);var v=function(){h(!1)};return a.a.createElement("div",{className:c()("slider-container",d)},a.a.createElement("div",{className:"left-label slider-labels"},t[0]),a.a.createElement("input",S({type:"range",min:n[0],max:n[1],step:u,value:i,name:o,onChange:function(e){v(),l(e)},onClick:v,onFocus:function(e){b(!0),h(!1),l(e)},onBlur:function(){return b(!1)},className:c()({focus:p,disabled:g})},m)),a.a.createElement("div",{className:"slider-labels"},t[1]))}k.defaultProps={range:[0,100],onChange:function(){},disabledUntilClick:!1,name:"slider",step:1},k.propTypes={labels:s.a.array.isRequired,name:s.a.string,range:s.a.array,value:s.a.number.isRequired,onChange:s.a.func.isRequired,disabledUntilClick:s.a.bool.isRequired,className:s.a.string,step:s.a.number};var T=k;function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function R(e){var t=e.label,n=e.options,r=e.info,o=e.onChange,i=e.values,s=e.labelClassName,l=_(e,["label","options","info","onChange","values","labelClassName"]),c=n.map((function(e,t){return a.a.createElement(T,P({labels:e.sliderLabels,key:t,name:e.id,onChange:function(e){return o(e,parseInt(e.target.value,10))},range:[-5,5],disabledUntilClick:null==i[t],value:(n=i[t],null==n?0:n)},l));var n}));return a.a.createElement("div",{className:"slider-group form-field"},Object(y.c)({label:t,labelClassName:s,tooltip:r}),a.a.createElement("div",{className:"form-slider-group"},c))}R.defaultProps={onChange:function(){},values:[]},R.propTypes={label:s.a.string,options:s.a.array.isRequired,info:s.a.string,onChange:s.a.func.isRequired,values:s.a.array.isRequired,labelClassName:s.a.string};var I=R,A=n(2);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function U(e){var t=e.suggestions,n=e.attributes,o=e.label,i=e.info,s=e.about,l=e.name,u=e.placeholder,d=e.onChange,f=e.labelClassName,p=e.className,b=e.maxNumAttributes,g=D(e,["suggestions","attributes","label","info","about","name","placeholder","onChange","labelClassName","className","maxNumAttributes"]),h=L(Object(r.useState)(null),2),v=h[0],E=h[1],w=L(Object(r.useState)(n.length<b),2),O=w[0],S=w[1],C=L(Object(r.useState)([]),2),j=C[0],N=C[1],k=L(Object(r.useState)(!0),2),T=k[0],P=k[1],_=L(Object(r.useState)(""),2),R=_[0],I=_[1],M=L(Object(r.useState)(!1),2),U=M[0],q=M[1];Object(A.a)(v,(function(){return q(!1)}));var F=function(e){return t.filter((function(t){return t.toLowerCase().indexOf(e.toLowerCase())>-1&&!n.includes(t)}))},B=function(){n.length>=b?(I(""),S(!1)):S(!0)},W=function(e){var t=e.currentTarget.innerText,r=n;r.push(t),B(),I(""),N([]),q(!1),d(l,r)},H=function(e){var t=e.currentTarget.id,r=n,a=r.indexOf(t);-1!==a&&r.splice(a,1),B(),N([]),q(!1),d(l,r)},V=function(e){return null===e||null!==e.match(/^\s*$/)},Y=j.map((function(e,t){return a.a.createElement("button",{className:c()({"suggestion-active":t===O}),key:e,onClick:W,id:t},e)})),G=n.map((function(e,t){var n=e+"-"+t;if(!V(e))return a.a.createElement("div",{className:"valid-attribute",key:n},e,a.a.createElement("div",{onClick:H,id:e,className:"remove-attribute",role:"button",tabIndex:"0"},a.a.createElement(m.g,{iconName:"fa-remove",height:"16",color:"wp-neutral-2"})))}));return a.a.createElement("div",{className:c()("form-field",p)},Object(y.c)({label:o,labelClassName:f,tooltip:i}),Object(y.b)(s),a.a.createElement("div",{className:c()("short","autocomplete-field"),ref:function(e){return E(e)}},a.a.createElement("div",{className:"selected-attributes"},G),a.a.createElement("div",{className:"attribute-input"},O?a.a.createElement("input",x({type:"text",onFocus:function(){q(!0),P(!0)},value:R,onChange:function(e){var t=e.currentTarget.value;V(t)&&(t="");for(var n=F(t);n.length<=0&&t.length>0;)t=t.substring(0,t.length-1),n=F(t);N(n),I(t)},name:l,placeholder:u,className:c()({focus:U})},g)):a.a.createElement("input",x({type:"text",value:"",placeholder:"Up to "+b+" attributes",disabled:!0},g))),a.a.createElement("div",{className:c()("suggestions",{hidden:!T||j.length<=0||!U})},Y)))}U.defaultProps={suggestions:[],attributes:[],onChange:function(){},maxNumAttributes:10},U.propTypes={suggestions:s.a.array.isRequired,label:s.a.string,info:s.a.string,about:s.a.string,name:s.a.string,attributes:s.a.array,placeholder:s.a.string,onChange:s.a.func.isRequired,labelClassName:s.a.string,className:s.a.string,textareaClassName:s.a.string,maxNumAttributes:s.a.number};var q=U,F=n(38);function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e){var t=e.isLoading,n=e.story,o=e.storyNotesData,i=e.fetchStoryNotes,s=e.postStoryNotes,l=e.updateStoryNotes,d=e.activeTab,y=B(Object(r.useState)(!1),2),g=y[0],h=y[1],v=B(Object(r.useState)(!1),2),E=v[0],w=v[1],S=Object(A.o)().trans,C=Object(F.g)(),j=Object(F.h)(),N=Object(F.i)(),k=Object(F.k)(),T=Object(F.j)();function P(){s(n.id,o)}Object(r.useEffect)((function(){i(n.id)}),[n,i]);var _,R=function(e){var t=e.target,r=t.name,a=t.value;h(!1),w(!1),l(n.id,o,{name:r,value:a})},x=function(e){var t=e.target,r=t.name,a=t.value,i=parseInt(a);h(!1),w(!1),l(n.id,o,{name:r,value:i})},L=function(e,t){var r=e.target.name;h(!1),w(!1),l(n.id,o,{name:r,value:t})},M=function(e){if(null!==e){if("string"==typeof e&&""!==e)return!0;if(Array.isArray(e)&&e.length>0)return!0;if("string"!=typeof e)return!0}return!1},D=M(o.protagonist.name)&&M(o.protagonist.other_names)&&M(o.protagonist.pronoun)&&M(o.protagonist.attributes)&&M(o.protagonist.extrovert_introvert)&&M(o.protagonist.likeable)&&M(o.protagonist.focus_past_future)&&M(o.protagonist.thinking_feeling)&&M(o.protagonist.decisive_improvise)&&M(o.protagonist.laidback_serious)&&M(o.protagonist.personality_change)&&M(o.protagonist_goal.description)&&M(o.protagonist_goal.physical_emotional)&&M(o.protagonist_goal.type)&&M(o.protagonist_goal.change_themselves_surroundings)&&M(o.protagonist_goal.explore_emotions_world)&&M(o.protagonist_goal.navigate_familiar_unfamiliar)&&M(o.protagonist_goal.recall_past)&&M(o.protagonist_goal.find_meaning)&&M(o.protagonist_goal.take_keep)&&M(o.protagonist_goal.outcome)&&M(o.protagonist_goal.succeed)&&M(o.protagonist_goal.outcome_feeling)&&M(o.opportunity.interested)&&M(o.opportunity.logline)&&M(o.opportunity.story_progress)&&M(o.opportunity.types);return t||d!==u.a.NOTES?null:a.a.createElement("div",{id:u.a.NOTES},a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{id:"story-planner-intro"},a.a.createElement("div",{className:"story-planner-image-container"},a.a.createElement(m.c,{name:"desktop-web/undraw-personal-notebook-sobb@2x.png",id:"story-planner-image",height:"105px",width:"120px"})),a.a.createElement("div",{className:"story-planner-intro-text"},a.a.createElement("div",{className:"title"},S("Story Notes")),a.a.createElement("div",{className:"subtitle"},S("Store and track all of your story ideas in one place.")))),a.a.createElement("div",{className:"section",id:"protagonist-form"},a.a.createElement("div",{className:"section-title"},C.title),a.a.createElement("div",{className:"section-description"},a.a.createElement("div",null,C.info),a.a.createElement("div",{className:"learn-more"},C.more," ",a.a.createElement("strong",null,a.a.createElement("a",{href:"/814442697-story-notes-who-is-your-protagonist",target:"_blank",rel:"noreferrer"},C.learnMore)))),a.a.createElement(f.a,{label:C.section1.label,name:C.section1.name,className:"top",characterLimit:C.section1.limit,placeholder:C.section1.placeholder,textareaClassName:"short",value:o.protagonist.name,onChange:R}),a.a.createElement(f.a,{label:C.section2.label,name:C.section2.name,className:"top",characterLimit:C.section2.limit,placeholder:C.section2.placeholder,textareaClassName:"short",value:o.protagonist.other_names,onChange:R}),a.a.createElement(p.a,{label:C.section3.label,dropdownOptions:C.section3.options,name:C.section3.name,labelClassName:"short",selectClassName:"short",onChange:R,selected:o.protagonist.pronoun,placeholder:C.section3.placeholder}),a.a.createElement(q,{name:C.section4.name,label:C.section4.label,info:C.section4.info,className:"short",placeholder:C.section4.placeholder,onChange:function(e,t){var r=t.join();h(!1),w(!1),l(n.id,o,{name:e,value:r})},attributes:o.protagonist.attributes?o.protagonist.attributes.split(","):[],suggestions:j.options}),a.a.createElement(I,{label:C.section5.label,options:C.section5.options,onChange:L,values:[o.protagonist.extrovert_introvert,o.protagonist.likeable,o.protagonist.focus_past_future,o.protagonist.thinking_feeling,o.protagonist.decisive_improvise,o.protagonist.laidback_serious]}),a.a.createElement(p.a,{label:C.section6.label,dropdownOptions:C.section6.options,labelClassName:"short",selectClassName:"short",onChange:x,selected:(_=o.protagonist.personality_change,null!==_?_.toString():null),name:C.section6.name,placeholder:C.section6.placeholder})),a.a.createElement("div",{className:"section",id:"story-goal-form"},a.a.createElement("div",{className:"section-title"},N.title),a.a.createElement("div",{className:"section-description"},a.a.createElement("div",null,N.info)),a.a.createElement(f.a,{label:N.section1.label,name:N.section1.name,characterLimit:N.section1.limit,placeholder:N.section1.placeholder,value:o.protagonist_goal.description,onChange:R,labelClassName:"long",className:"long-field",textareaClassName:"long"}),a.a.createElement(b.a,{label:N.section2.label,name:N.section2.name,options:N.section2.options,value:o.protagonist_goal.physical_emotional,onChange:x}),(null===o.protagonist_goal.physical_emotional||0===o.protagonist_goal.physical_emotional)&&a.a.createElement("div",null,a.a.createElement(p.a,{label:N.section3.label,name:N.section3.name,dropdownOptions:N.section3.options[0],disabled:null===o.protagonist_goal.physical_emotional,onChange:R,labelClassName:"short",selectClassName:"short",selected:o.protagonist_goal.type,placeholder:N.section3.placeholder})),1===o.protagonist_goal.physical_emotional&&a.a.createElement("div",null,a.a.createElement(p.a,{label:N.section3.label,name:N.section3.name,dropdownOptions:N.section3.options[1],disabled:null===o.protagonist_goal.physical_emotional,onChange:R,labelClassName:"short",selectClassName:"short",selected:o.protagonist_goal.type,placeholder:N.section3.placeholder})),a.a.createElement(I,{label:N.section4.label,options:N.section4.options,onChange:L,values:[o.protagonist_goal.change_themselves_surroundings,o.protagonist_goal.explore_emotions_world,o.protagonist_goal.navigate_familiar_unfamiliar,o.protagonist_goal.recall_past,o.protagonist_goal.find_meaning,o.protagonist_goal.take_keep]})),a.a.createElement("div",{className:"section",id:"outcome-form"},a.a.createElement("div",{className:"section-title"},k.title),a.a.createElement("div",{className:"section-description"},a.a.createElement("div",null,k.info)),a.a.createElement(f.a,{label:k.section1.label,name:k.section1.name,characterLimit:k.section1.limit,placeholder:k.section1.placeholder,onChange:R,value:o.protagonist_goal.outcome,labelClassName:"long",className:"long-field",textareaClassName:"long"}),a.a.createElement(b.a,{label:k.section2.label,name:k.section2.name,options:k.section2.options,value:o.protagonist_goal.succeed,onChange:x}),a.a.createElement(b.a,{label:k.section3.label,name:k.section3.name,options:k.section3.options,value:o.protagonist_goal.outcome_feeling,onChange:x})),a.a.createElement("div",{id:"story-planner-save-btn"},a.a.createElement("button",{onClick:function(){w(!0),P()},className:c()("btn-primary",{disabled:E}),"aria-label":"Save my story notes"},S(E?"Saved":"Save my Story Notes"))),a.a.createElement("div",{className:"section",id:"opportunities-form"},a.a.createElement("div",null,a.a.createElement("div",{className:"section-title"},T.title),a.a.createElement("div",{className:"section-description"},a.a.createElement("div",null,T.info)),a.a.createElement(b.a,{label:T.section1.label,name:T.section1.name,options:T.section1.options,value:o.opportunity.interested,onChange:x})),a.a.createElement("div",{className:c()({"available-opportunities":1===o.opportunity.interested,hidden:1!==o.opportunity.interested})},a.a.createElement(O,{options:T.section2.options,label:T.section2.label,name:T.section2.name,onChange:function(e){var t=[];if(M(o.opportunity.types)&&(t=o.opportunity.types.split(",")),t.includes(e.target.value)){var r=t.indexOf(e.target.value);t.splice(r,1)}else t.push(e.target.value);h(!1),w(!1);var a=t.join();l(n.id,o,{name:e.target.name,value:a})},values:o.opportunity.types?o.opportunity.types.split(","):[]}),a.a.createElement(f.a,{label:T.section3.label,name:T.section3.name,characterLimit:T.section3.limit,placeholder:T.section3.placeholder,about:T.section3.about,onChange:R,value:o.opportunity.logline,labelClassName:"long",className:"long-field",textareaClassName:"long"}),a.a.createElement("div",{className:"field-description"},S("Not sure how to write a logline?"),a.a.createElement("a",{href:"/814443428-story-notes-how-do-i-write-a-logline",target:"_blank",rel:"noreferrer"},S("Learn More Here"))),a.a.createElement(p.a,{label:T.section4.label,dropdownOptions:T.section4.options,name:T.section4.name,onChange:R,labelClassName:"long",selected:o.opportunity.story_progress,className:"long-field",selectClassName:"long",placeholder:T.section4.placeholder}),!g&&a.a.createElement("div",{id:"story-planner-submit-btn"},a.a.createElement("button",{className:c()("btn-primary",{disabled:!D}),"aria-label":"Submit story notes to wattpad",onClick:function(){h(!0),P()}},S("Submit my private Story Notes to Wattpad")),a.a.createElement("div",{className:c()("submit-btn-info",{hidden:D})},T.notComplete)),g&&a.a.createElement("div",{id:"story-planner-submit-btn"},a.a.createElement("div",{className:c()("btn-primary","disabled"),"aria-label":"Submitted"},S("Submitted")))))))}H.defaultProps={storyNotesData:{id:"",protagonist:{name:null,other_names:"",pronoun:null,attributes:"",extrovert_introvert:null,likeable:null,focus_past_future:null,thinking_feeling:null,decisive_improvise:null,laidback_serious:null,personality_change:null},protagonist_goal:{description:"",physical_emotional:null,type:null,change_themselves_surroundings:null,explore_emotions_world:null,navigate_familiar_unfamiliar:null,recall_past:null,find_meaning:null,take_keep:null,outcome:"",succeed:null,outcome_feeling:null},opportunity:{interested:null,logline:"",story_progress:null,type:null}}},H.propTypes={isLoading:s.a.bool.isRequired,activeTab:s.a.string.isRequired,story:s.a.object.isRequired,fetchStoryNotes:s.a.func.isRequired,postStoryNotes:s.a.func.isRequired,updateStoryNotes:s.a.func.isRequired,storyNotesData:s.a.shape({id:s.a.number,protagonist:s.a.shape({name:s.a.string,other_names:s.a.string,pronoun:s.a.string,attributes:s.a.string,extrovert_introvert:s.a.number,likeable:s.a.number,focus_past_future:s.a.number,thinking_feeling:s.a.number,decisive_improvise:s.a.number,laidback_serious:s.a.number,personality_change:s.a.number}).isRequired,protagonist_goal:s.a.shape({description:s.a.string,physical_emotional:s.a.number,type:s.a.string,change_themselves_surroundings:s.a.number,explore_emotions_world:s.a.number,navigate_familiar_unfamiliar:s.a.number,recall_past:s.a.number,find_meaning:s.a.number,take_keep:s.a.number,outcome:s.a.string,succeed:s.a.number,outcome_feeling:s.a.number}).isRequired,opportunity:s.a.shape({interested:s.a.number,logline:s.a.string,story_progress:s.a.string,types:s.a.string}).isRequired})};t.a=Object(o.b)((function(e){return{storyNotesData:e.storyNotes.data,isLoading:e.storyNotes.isLoading,activeTab:e.worksItemDetails.worksItemDetailsActiveTab}}),{fetchStoryNotes:d.a,postStoryNotes:d.b,updateStoryNotes:d.c})(H)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(7),i=n(1),s=n.n(i),l=n(4),c=n.n(l),u=n(13),d=n(19);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,s,"next",e)}function s(e){b(o,r,a,i,s,"throw",e)}i(void 0)}))}}var g=n(66),h=n(94),v=function(e){var t=e.className,n=e.includedFields,r=e.authorNote,o=e.chapterDescription,i=e.onFormChange,s=Object(d.a)(),l=function(e){i(e.target)};return a.a.createElement("div",{className:c()("common-paid-part-fields",t)},n.includes(d.i.DESCRIPTION)&&a.a.createElement("div",{className:"section"},a.a.createElement("div",{className:"section-title"},s.chapterDescription.title),a.a.createElement("div",{className:"section-description"},s.chapterDescription.description),a.a.createElement(h.a,{className:"long-field",textareaClassName:"long",name:s.chapterDescription.textarea.name,placeholder:s.chapterDescription.textarea.placeholder,value:o,characterLimit:250,onChange:l})),n.includes(d.i.AUTHOR_NOTE)&&a.a.createElement("div",{className:"section"},a.a.createElement("div",{className:"section-title"},s.authorNote.title),a.a.createElement("div",{className:"section-description"},s.authorNote.description),a.a.createElement(h.a,{className:"long-field",textareaClassName:"long",name:s.authorNote.textarea.name,placeholder:s.authorNote.textarea.placeholder,value:r,characterLimit:250,onChange:l})))};v.defaultProps={className:"",includedFields:[],onFormChange:function(){}},v.propTypes={className:s.a.string,authorNote:s.a.string,chapterDescription:s.a.string,includedFields:s.a.arrayOf(s.a.oneOf(Object.keys(d.i).map((function(e){return d.i[e]})))),onFormChange:s.a.func.isRequired};var E=v;function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=function(e){var t=e.isLoading,n=e.story,i=e.partId,s=e.authorId,l=e.paidPartData,m=e.updatePaidPartConfig,f=e.postPaidPartConfig,p=Object(o.c)(),b=Object(d.l)(),y=j(Object(r.useState)(null),2),h=y[0],v=y[1],O=j(Object(r.useState)([]),2),C=O[0],N=O[1],k=j(Object(r.useState)([]),2),T=k[0],P=k[1],_=function(){return p(Object(u.b)())};Object(r.useEffect)((function(){return window.addEventListener("popstate",_),function(){return window.removeEventListener("popstate",_)}}),[]),Object(r.useEffect)((function(){t||h?N(d.j[l.bonus_type]):v(Object.assign({},l))}),[t,h,v,l,N]);var R=function(e){var t=e.name,r=e.value;m(n.id,i,s,l,{name:t,value:r})},I=function(){var e=[];return C.forEach((function(t){switch(t){case d.i.DESCRIPTION:l.chapter_description||e.push(b.errorMessages.chapterDescription);break;case d.i.AUTHOR_NOTE:l.author_note||e.push(b.errorMessages.authorNote)}})),!e.length||(P(e),!1)},A=function(){var e=wattpad.utils.iconify("fa-check",16,"wp-neutral-5");wattpad.utils.showToast('<span class="success-icon">'.concat(e,"</span> ").concat(b.successMessage),{className:"configure-paid-part-modal-success-toast error-toast",dismissAfterDuration:2e3})};return a.a.createElement("div",{id:"configure-paid-part-modal"},a.a.createElement("div",{className:"modal-dialog modal-sm"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"modal-body"},a.a.createElement("div",{className:"section"},a.a.createElement("div",{className:"section-title"},b.title),a.a.createElement("div",{className:"section-description"},b.description),a.a.createElement("div",{className:"part-type-selector"},a.a.createElement(g.a,{name:b.partTypeSelector.name,options:b.partTypeSelector.options,value:l.bonus_type,onChange:function(e){var t=e.target,n=t.name,r=t.value,a=parseInt(r);N(d.j[a]),R({name:n,value:a})}}))),a.a.createElement("div",{className:"form-container"},a.a.createElement(E,w({authorNote:l.author_note,chapterDescription:l.chapter_description},{isLoading:t,includedFields:C,onFormChange:R}))),a.a.createElement("div",{className:"error-container"},T.map((function(e,t){return a.a.createElement("div",{className:"error",key:"error-".concat(t)},e)})))),a.a.createElement("div",{className:"modal-footer"},a.a.createElement("div",{className:"action-buttons"},a.a.createElement("button",{className:c()("btn","btn-purple",{disabled:!1}),"data-dismiss":"modal",onClick:function(){I()&&(v(Object.assign({},l)),m(n.id,i,s,l,{name:"is_free_part",value:!1}),f(n.id,i,s,S(S({},l),{},{is_free_part:!1})),_(),A())}},b.saveText),!l.is_free_part&&a.a.createElement("button",{className:"btn btn-grey remove-button",onClick:function(){window.confirm(b.removeMessage)&&I()&&(m(n.id,i,s,l,{name:"is_free_part",value:!0}),f(n.id,i,s,S(S({},l),{},{is_free_part:!0})),_(),A())}},b.removeText),a.a.createElement("button",{className:"btn btn-grey discard-button",onClick:function(){m(n.id,i,s,h),_()}},b.cancelText))))))};k.defaultProps={paidPartData:d.b},k.propTypes={isLoading:s.a.bool.isRequired,story:s.a.object.isRequired,partId:s.a.number.isRequired,authorId:s.a.number.isRequired,paidPartData:d.m,updatePaidPartConfig:s.a.func.isRequired,postPaidPartConfig:s.a.func.isRequired};var T=Object(o.b)((function(e){return{paidPartData:e.paidPartConfig.data,isLoading:e.paidPartConfig.isLoading}}),{updatePaidPartConfig:function(e,t,n,r,a){var o=f(f({},r),{},{story_id:parseInt(e),part_id:t,author_id:n});if(a){var i=a.name,s=a.value;a.name&&(o[i]=s)}return function(e){e({type:d.g,data:o})}},postPaidPartConfig:function(e,t,n,r){return r.story_id=parseInt(e),r.part_id=parseInt(t),r.author_id=parseInt(n),function(){var e=y(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.resolve($.ajax({url:"/v5/bonus-content/paywall",type:"POST",data:JSON.stringify(r),dataType:"json",headers:{"Content-Type":"application/json"}}));case 3:t({type:d.e}),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),null===(n=wattpad)||void 0===n||null===(a=n.utils)||void 0===a||a.showToast(),t({type:d.c});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}})(k),P=n(6),_=n(11),R=function(e){var t=e.isLoading,n=e.story,i=e.partId,s=e.authorId,l=e.paidPartData,m=e.fetchPaidPartConfig,f=Object(o.c)(),p=Object(d.k)();Object(r.useEffect)((function(){m(n.id,i)}),[n,i,m]);return a.a.createElement("div",{className:c()("configure-paid-part-modal-preview",!l.is_free_part&&"is-paid-bonus-chapter")},a.a.createElement("div",{className:"configure-paid-part-modal-button"},a.a.createElement(P.Button,{onClick:function(){t||f(Object(u.b)({hideClose:!0,disableClose:!0,disableScroll:!0,useGlobalModalContainer:!0,className:"configure-paid-part-modal-container",component:function(){return a.a.createElement(T,{story:n,partId:i,authorId:s,paidPartData:l})}}))},accent:P.ButtonAccent.PREMIUM,size:P.ButtonSize.SMALL,isLoading:t,label:a.a.createElement(a.a.Fragment,null,l.is_free_part&&p.button.default,!l.is_free_part&&a.a.createElement(a.a.Fragment,null,p.button.text," ",l.bonus_type==_.c.EXCLUSIVE_CHAPTER&&p.display.type.exclusiveChapter,l.bonus_type==_.c.WRITER_REVEAL&&p.display.type.writerReveal,l.bonus_type==_.c.STORY_BRANCH&&p.display.type.storyBranch))})))};R.defaultProps={paidPartData:d.b},R.propTypes={isLoading:s.a.bool.isRequired,story:s.a.object.isRequired,partId:s.a.number.isRequired,authorId:s.a.number.isRequired,fetchPaidPartConfig:s.a.func.isRequired,paidPartData:d.m};t.a=Object(o.b)((function(e){return{paidPartData:e.paidPartConfig.data,isLoading:e.paidPartConfig.isLoading}}),{fetchPaidPartConfig:function(e,t){var n="/v5/bonus-content/paywall/".concat(e,"/free-parts?parts=").concat(t);return function(){var r=y(regeneratorRuntime.mark((function r(a){var o,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e&&t){r.next=2;break}return r.abrupt("return",a({type:d.d,data:null}));case 2:return a({type:d.f}),r.prev=3,o=Promise.resolve($.get(n)),r.next=7,o;case 7:if(i=r.sent){r.next=10;break}return r.abrupt("return",a({type:d.d,data:{}}));case 10:a({type:d.d,data:null==i?void 0:i[0]}),r.next=16;break;case 13:return r.prev=13,r.t0=r.catch(3),r.abrupt("return",a({type:d.d,data:null}));case 16:case"end":return r.stop()}}),r,null,[[3,13]])})));return function(e){return r.apply(this,arguments)}}()}})(R)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(15),l=n(4),c=n.n(l),u=n(151),d=n(10),m=n(2),f=n(5);function p(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}var b=function(e){var t=e.username,n=e.name,r=e.avatar,o=e.badges,i=void 0===o?[]:o,l=e.numStoriesPublished,b=void 0===l?0:l,y=e.numLists,g=void 0===y?0:y,h=e.numFollowers,v=void 0===h?0:h,E=e.following,w=void 0===E?null:E,O=e.index,S=e.onProfileCardClick,C=e.onFollowButtonClick,j=Object(m.o)(),N=j.ngettext,k=j.trans,T=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.stopPropagation(),n.preventDefault(),e.next=4,C(t,O);case 4:e.sent||(o=k(w?"Unfollow failed. Please try again.":"Follow failed. Please try again."),null===(r=wattpad)||void 0===r||null===(a=r.utils)||void 0===a||a.showToast(o,{type:"dismissable"}));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){p(o,r,a,i,s,"next",e)}function s(e){p(o,r,a,i,s,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}();return a.a.createElement("div",{className:"profile-card"},a.a.createElement("a",{href:"/user/".concat(t),onClick:function(e){e.preventDefault(),S(t,O)},className:"profile-card-data"},a.a.createElement("img",{className:"display-pic",src:r||"/img/avatar/empty.png",alt:t,"aria-hidden":!0}),a.a.createElement("div",{className:"card-content"},a.a.createElement("div",{className:"sr-only"},"".concat(n||t," @").concat(t)),a.a.createElement("div",{className:"name-and-badges","aria-hidden":!0},a.a.createElement("h5",null,n||t),a.a.createElement("div",{className:"badges"},null==i?void 0:i.map((function(e){return a.a.createElement("div",{className:"user-badge",key:e},a.a.createElement(u.a,{name:e,size:"20"}))})))),a.a.createElement("p",{className:"username","aria-hidden":!0},"@",t),a.a.createElement("div",{className:"card-meta"},a.a.createElement("p",{dangerouslySetInnerHTML:{__html:Object(s.sprintf)(N("%s Story","%s Stories",b),Object(s.sprintf)("<b>%s</b>",Object(f.b)(b)))}}),a.a.createElement("p",{dangerouslySetInnerHTML:{__html:Object(s.sprintf)(N("%s Reading list","%s Reading lists",g),Object(s.sprintf)("<b>%s</b>",Object(f.b)(g)))}}),a.a.createElement("p",{dangerouslySetInnerHTML:{__html:Object(s.sprintf)(N("%s Follower","%s Followers",v),Object(s.sprintf)("<b>%s</b>",Object(f.b)(v)))}})))),null!==w&&a.a.createElement("button",{className:c()("follow","btn-load-more",{active:w}),onClick:T,"aria-label":k(w?"Following":"Follow")},a.a.createElement(d.a,{name:w?"userFollowed":"userFollow",size:"24",strokeWidth:"0",className:"follow__icon",fill:!w,"aria-hidden":!0}),a.a.createElement("span",{className:"follow__text","aria-hidden":!0},k(w?"Following":"Follow"))))};b.propTypes={name:i.a.string,username:i.a.string.isRequired,avatar:i.a.string,badges:i.a.array,numFollowers:i.a.number,numLists:i.a.number,numStoriesPublished:i.a.number,following:i.a.bool,index:i.a.number,onProfileCardClick:i.a.func.isRequired,onFollowButtonClick:i.a.func.isRequired};var y=b,g=n(74),h=function(){return a.a.createElement("div",{className:"profile-card-skeleton"},a.a.createElement(g.a,{className:"profile-avatar",animation:!0,circle:!0}),a.a.createElement("div",{className:"card-content-region"},a.a.createElement(g.a,{height:"24px",className:"title-skeleton",animation:!0}),a.a.createElement(g.a,{height:"16px",className:"subtitle-skeleton",animation:!0}),a.a.createElement("div",{className:"card-meta-region"},a.a.createElement(g.a,{width:"60px",height:"16px",animation:!0}),a.a.createElement(g.a,{width:"60px",height:"16px",animation:!0}),a.a.createElement(g.a,{width:"60px",height:"16px",animation:!0}))))};h.propTypes={coverColor:i.a.string};var v=h,E=function(e){var t=e.numSkeletonCards;return a.a.createElement("div",{className:"profile-skeleton-container hidden"},Array.from({length:t},(function(e,t){return a.a.createElement(v,{key:t})})))};E.propTypes={numSkeletonCards:i.a.number.isRequired};var w=E;function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function k(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=function(e,t){return e.following===t.following&&e.numFollowers===t.numFollowers},I=a.a.memo(y,R),A=function(e){var t=e.users,n=void 0===t?[]:t,o=e.searchTerm,i=e.isMobile,l=T(Object(r.useState)(n),2),c=l[0],u=l[1],d=T(Object(r.useState)(n.length>=(i?10:20)),2),f=d[0],p=d[1],b=T(Object(r.useState)(n.length),2),y=b[0],g=b[1],h=T(Object(r.useState)(-1),2),v=h[0],E=h[1],S=T(Object(r.useState)(0),2),j=S[0],P=S[1],_=Object(m.o)(),R=_.trans,A=_.ngettext,x=Object(r.useCallback)((function(e){e&&e.focus()}),[]),L=function(e,t){var n,r;null===(n=app)||void 0===n||null===(r=n.trigger)||void 0===r||r.call(n,"app:component:search:profile:follow:clearCache",e,t)},M=function(e,t){var n,r;window.te.push("event","search","user",null,"click",{userid:e,search:o,position:t}),null===(n=app)||void 0===n||null===(r=n.trigger)||void 0===r||r.call(n,"app:component:search:profile:click:clearCache"),app.router.navigate("/user/".concat(e),{trigger:!0})},D=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var r,a,o,i,s,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null===(r=wattpad)||void 0===r||null===(a=r.utils)||void 0===a?void 0:a.currentUser().get("username"),i=c[n].following,s="/api/v3/users/".concat(o,"/following"),e.prev=3,e.next=6,$.ajax({url:s,type:!0===i?"DELETE":"POST",data:{users:t}});case 6:if(200!==e.sent.code){e.next=13;break}return l=c[n].numFollowers,d=i?l-1:l+1,u((function(e){return[].concat(k(e.slice(0,n)),[C(C({},e[n]),{},{numFollowers:d,following:!i})],k(e.slice(n+1)))})),L(t,!i),e.abrupt("return",!0);case 13:return e.abrupt("return",!1);case 16:return e.prev=16,e.t0=e.catch(3),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[3,16]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,s,"next",e)}function s(e){N(o,r,a,i,s,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(w,{numSkeletonCards:i?10:20}),a.a.createElement("ul",{className:"list-group list-container"},c.map((function(e,t){return a.a.createElement(a.a.Fragment,{key:e.username},t===v&&a.a.createElement("li",{tabIndex:-1,ref:x,className:"list-group-item"},a.a.createElement("span",{className:"sr-only"},Object(s.sprintf)(A("%s more profile","%s more profiles",j),j))),a.a.createElement("li",{className:"list-group-item new-item"},a.a.createElement(I,O({},e,{searchTerm:o,index:t,onProfileCardClick:M,onFollowButtonClick:D}))))}))),f&&a.a.createElement("button",{className:"btn-load-more load-more",onClick:function(){var e="/v4/search/users/?query="+encodeURIComponent(o.trim())+"&limit=".concat(10,"&offset=").concat(y,"&fields=").concat("username,name,avatar,description,numLists,numFollowers,numStoriesPublished,badges,following");Promise.resolve($.get(e)).then((function(e){var t,n,r=e.filter((function(e){return!c.some((function(t){return t.username===e.username}))}));E(c.length),P(e.length),u((function(e){return[].concat(k(e),k(r))})),p(e.length>=10),g((function(e){return e+10})),null===(t=app)||void 0===t||null===(n=t.trigger)||void 0===n||n.call(t,"app:component:search:refreshSearchAd")})).catch((function(){wattpad.utils.showToast(R("Something went wrong. Please try again"),{type:"dismissable"})}))}},R("Load more profiles")))};A.propTypes={users:i.a.array,searchTerm:i.a.string,isMobile:i.a.bool};t.a=A},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(5),u=n(2),d=n(15),m=n(3),f=n(209);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=e.searchTags,n=e.searchTerm,o=e.handleFilterChange,i=Object(u.o)().trans,s={},c=g(Object(r.useState)(""),2),d=c[0],p=c[1],y=g(Object(r.useState)(!1),2),h=y[0],v=y[1],E=g(Object(r.useState)(!1),2),w=E[0],O=E[1];t&&(s.tags=t.map((function(e){return b(b({},e),{},{bgColor:"ds-neutral-40",color:"#121212",activeBgColor:"#121212",activeColor:"#ffffff",className:"refine-by-tag",role:"button",ariaLabel:i("filter by %s",e.name),ariaDescribedBy:"screen-reader-description"})})));var S=function(){var e;if(d.trim().indexOf(" ")>=0)v(!0);else if(v(!1),d.trim()){O(!1);var t=null===(e=d.trim())||void 0===e?void 0:e.replace(/[#\\]/g,"");t&&!n.includes("#".concat(t))?o("".concat(n," #").concat(t),"addTag"):C()}else O(!0)},C=function(){p(""),wattpad.utils.scrollToTop(),$(".story-card-skeleton-container").removeClass("hidden"),$(".story-card-container").addClass("hidden"),setTimeout((function(){$(".story-card-skeleton-container").addClass("hidden"),$(".story-card-container").removeClass("hidden")}),1e3)};return a.a.createElement("div",{className:"tag-filter-container"},a.a.createElement("div",{className:"refine-by-tag-header"},i("Refine by tag")),a.a.createElement(f.a,{tagGridTags:s,onTagClicked:function(e,t){o({evt:t,tag:e},"toggleTag")},className:"tag-cloud-container"}),a.a.createElement("div",{className:"add-tag"},a.a.createElement("div",{className:"tag-text-box"},a.a.createElement("input",{className:"tag-text-input",type:"text",value:d,placeholder:i("Add a tag to refine by"),onChange:function(e){p(e.target.value),(e.target.value.trim()||""===e.target.value)&&O(!1),e.target.value.trim().indexOf(" ")<0&&v(!1)},onKeyUp:function(e){"Enter"===e.key&&S()}})),a.a.createElement("button",{className:l()("add-tag-btn",{"disabled-btn":h||w}),onClick:S,"aria-disabled":h||w,disabled:h||w,title:i("Add tag")},a.a.createElement(m.g,{className:"add-icon",name:"add",size:"24",color:"ds-neutral-100"})),a.a.createElement("p",{className:"add-tag-error-message","aria-live":"assertive"},h&&i("Tags cannot contain spaces"),w&&i("Tags cannot be empty"))),a.a.createElement("div",{id:"screen-reader-description",className:"hidden"},i("Press enter to toggle tag")))};v.propTypes={searchTags:i.a.array,searchTerm:i.a.string,handleFilterChange:i.a.func};var E=v,w=n(200),O=n(37);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e,t){switch(t.type){case"APPLY":return delete e.error,"free"===t.value||"paid"===t.value?N(N({},e),{},k({free:!1,paid:!1},t.value,!0)):N(N({},e),{},k({},t.value,!0));case"REMOVE":return delete e.error,N(N({},e),{},k({},t.value,!1));default:return N(N({},e),{},{error:"Error in content reducer"})}},P=function(e){var t=e.isMatureUser,n=e.selectedOptions,o=e.handleFilterChange,i=Object(u.o)().trans,s=S(Object(r.useReducer)(T,N({},n)),2),l=s[0],c=s[1],d=Object(r.useRef)(!0);Object(r.useEffect)((function(){d.current?d.current=!1:o(l,"content")}),[l,o]);var m=function(e){c({type:e.currentTarget.checked?"APPLY":"REMOVE",value:e.currentTarget.value})};return a.a.createElement("div",{className:"filter"},a.a.createElement("span",{className:"sr-only"},i("Content")+" "+i("You can select multiple options")),a.a.createElement("div",{className:"filter__title","aria-hidden":!0},i("Content")),a.a.createElement("div",{className:"filter__description","aria-hidden":!0},i("You can select multiple options")),a.a.createElement("div",{className:"filter__options"},a.a.createElement(O.a,{checked:l.complete,onChange:m,value:"complete",contentId:"content1"},i("Only show completed stories")),t&&a.a.createElement(O.a,{checked:l.mature,onChange:m,value:"mature",contentId:"content2"},i("Hide mature stories")),a.a.createElement(O.a,{checked:l.free,onChange:m,value:"free",contentId:"content3"},i("Hide free stories")),a.a.createElement(O.a,{checked:l.paid,onChange:m,value:"paid",contentId:"content4"},i("Hide Wattpad Originals"))))};P.defaultProps={isMatureUser:!1,handleFilterChange:function(){},selectedOptions:{complete:!1,mature:!1,free:!1,paid:!1}},P.propTypes={isMatureUser:i.a.bool,handleFilterChange:i.a.func,selectedOptions:i.a.object};var _=P,R=n(210);function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=["anyLength","oneToTen","tenToTwenty","twentyToFifty","moreThanFifty"],L=function(e){var t=e.selectedOptions,n=e.handleFilterChange,o=Object(u.o)().trans,i=I(Object(R.a)(x,"anyLength",t),2),s=i[0],l=i[1],c=Object(r.useRef)(!0);Object(r.useEffect)((function(){c.current?c.current=!1:n(s,"length")}),[s,n]);var d=function(e){l(e.currentTarget.checked?"APPLY":"REMOVE",e.currentTarget.value)};return a.a.createElement("div",{className:"filter"},a.a.createElement("span",{className:"sr-only"},o("Length")+" "+o("You can select multiple options")),a.a.createElement("div",{className:"filter__title","aria-hidden":!0},o("Length")),a.a.createElement("div",{className:"filter__description","aria-hidden":!0},o("You can select multiple options")),a.a.createElement("div",{className:"filter__options"},a.a.createElement(O.a,{value:"anyLength",checked:s.anyLength,onChange:d,contentId:"length1"},o("Any Length")),a.a.createElement(O.a,{value:"oneToTen",checked:s.oneToTen,onChange:d,contentId:"length2"},o("1 - 10 Parts")),a.a.createElement(O.a,{value:"tenToTwenty",checked:s.tenToTwenty,onChange:d,contentId:"length3"},o("10 - 20 Parts")),a.a.createElement(O.a,{value:"twentyToFifty",checked:s.twentyToFifty,onChange:d,contentId:"length4"},o("20 - 50 Parts")),a.a.createElement(O.a,{value:"moreThanFifty",checked:s.moreThanFifty,onChange:d,contentId:"length5"},o("50 Parts or more"))))};L.defaultProps={handleFilterChange:function(){},selectedOptions:{}},L.propTypes={handleFilterChange:i.a.func,selectedOptions:i.a.object};var M=L,D=function(e){var t=e.searchTerm,n=e.resultType,o=e.numStories,i=e.relatedTags,s=e.selectedOptionsAge,m=e.selectedOptionsLength,f=e.selectedOptionsContent,p=e.isMatureUser,b=void 0!==p&&p,y=Object(u.o)().ngettext,g=function(e,n){var r,a;if(null!=e&&e.error)console.error("Error with ".concat(n," filter"),e);else if($(".story-card-skeleton-container").removeClass("hidden"),$(".story-card-container").addClass("hidden"),"age"===n)null===(r=app)||void 0===r||null===(a=r.trigger)||void 0===a||a.call(r,"app:component:filters:updateAge",e);else if("length"===n){var o,i;null===(o=app)||void 0===o||null===(i=o.trigger)||void 0===i||i.call(o,"app:component:filters:updateLength",e)}else if("content"===n){var s,l;null===(s=app)||void 0===s||null===(l=s.trigger)||void 0===l||l.call(s,"app:component:filters:updateContent",e)}else if("addTag"===n){var c,u;null===(c=app)||void 0===c||null===(u=c.trigger)||void 0===u||u.call(c,"app:component:filters:addTag",e)}else if("toggleTag"===n){var d,m;null===(d=app)||void 0===d||null===(m=d.trigger)||void 0===m||m.call(d,"app:component:filters:toggleTag",e.evt,e.tag,t)}};Object(r.useEffect)((function(){$(".story-card-skeleton-container").addClass("hidden"),$(".story-card-container").removeClass("hidden")}),[s,f]);var h=t.split(" "),v=(h=h.filter((function(e){return!e.startsWith("#")}))).join(" ");return a.a.createElement("div",{className:l()("filters-container",{profiles:"stories"!==n})},a.a.createElement("div",{className:"search-info"},t&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"sr-only"},v),a.a.createElement("div",{"aria-hidden":!0,className:"search-term"},'"'.concat(v,'"'))),"stories"===n&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"sr-only"},Object(d.sprintf)(y("%s result","%s results",o),parseInt(o).toLocaleString())),a.a.createElement("div",{className:"stories-count","aria-hidden":!0},Object(d.sprintf)(y("%s result","%s results",o),Object(c.b)(o))))),"stories"===n&&a.a.createElement(a.a.Fragment,null,a.a.createElement(M,{selectedOptions:m,handleFilterChange:g}),a.a.createElement(w.a,{selectedOptions:s,handleFilterChange:g}),a.a.createElement(_,{isMatureUser:b,selectedOptions:f,handleFilterChange:g}),a.a.createElement(E,{searchTags:i.tags,searchTerm:t,handleFilterChange:g})))};D.defaultProps={handleFilterChange:function(){}},D.propTypes={searchTerm:i.a.string,resultType:i.a.string,numStories:i.a.number,relatedTags:i.a.object,selectedOptionsAge:i.a.object,selectedOptionsLength:i.a.object,selectedOptionsContent:i.a.object,isMatureUser:i.a.bool};t.a=D},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(10),l=n(2),c=n(4),u=n.n(c),d=n(47),m=n(90),f=n(6);function p(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){var t=Object(l.o)().trans,n=b(Object(r.useState)(!1),2),o=n[0],i=n[1],s=b(Object(r.useState)(""),2),c=s[0],y=s[1],g=b(Object(r.useState)(""),2),h=g[0],v=g[1],E=function(){var n,r=(n=regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:v(""),r.preventDefault(),$.ajax({type:"POST",url:"apiv2/updateuserpassword",data:$(".on-form-submit").serialize()}).done((function(){e.hideModal(),window.location.replace("/login?nexturl=/settings").reload()})).fail((function(n){if(467===n.responseJSON.code)v(n.responseJSON.message);else{e.hideModal();var r=t("Something went wrong, your changes were not saved. ")+(n.responseJSON.message||"");wattpad.utils.showToast(r,{type:"dismissable"})}}));case 3:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function i(e){p(o,r,a,i,s,"next",e)}function s(e){p(o,r,a,i,s,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}();return a.a.createElement("form",{className:"on-form-submit"},a.a.createElement("input",{type:"hidden",name:"id",value:e.userId}),e.hasPassword&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"form-group has-feedback"},a.a.createElement("label",{className:"control-label",htmlFor:"old_password"},t("Current Password")),a.a.createElement("div",{className:"password-container"},a.a.createElement(d.a,{inputType:"password",placeholder:t("Current Password"),name:"old_password",id:"old_password",alt:t("Current Password"),showVisibilityToggle:!0,onChange:function(e){var t;t=e.target.value,v(""),y(t)},addClassName:u()("password-field",{error:h.length>0})})),h.length>0&&a.a.createElement("div",{className:"error-message"},h)),a.a.createElement("div",{className:"forgot-password-link"},a.a.createElement("a",{className:"on-navigate",href:"/forgot?nextUrl=settings"},t("Forgot your password?")))),a.a.createElement(m.a,{name:e.name,username:e.username,validatePassword:function(t){i(e.hasPassword?t&&!!c:t)}}),a.a.createElement(f.Button,{className:"save-button",onClick:E,fullWidth:!0,disabled:!o,label:t("Save")}))};function h(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}g.propTypes={hasPassword:i.a.bool.isRequired,userId:i.a.number.isRequired,name:i.a.string,username:i.a.string,hideModal:i.a.func.isRequired};var v=function(e){var t=Object(l.o)().trans,n=function(){var n,r=(n=regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.preventDefault(),$.ajax({type:"POST",url:"apiv2/updateusername",data:$(".on-form-submit").serialize()}).done((function(){e.hideModal(),window.location.replace("/login?nexturl=/settings").reload()})).fail((function(n){e.hideModal();var r=t("Something went wrong, your changes were not saved. ")+(n.responseJSON.message||"");wattpad.utils.showToast(r,{type:"dismissable"})}));case 2:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function i(e){h(o,r,a,i,s,"next",e)}function s(e){h(o,r,a,i,s,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}();return a.a.createElement("div",null,a.a.createElement("p",null,t("Your username is important, here are a few things you need to know before you change it:")),a.a.createElement("ol",null,a.a.createElement("li",null,t("It takes up to 24 hours for all changes to take effect. Your profile and stories may be inaccessible during this time.")),a.a.createElement("li",null,t("Your user profile and widget links will change and the old ones will no longer work.")),a.a.createElement("li",null,t("You will need to re-login using your new username."))),a.a.createElement("form",{className:"on-form-submit",onSubmit:n},a.a.createElement("input",{type:"hidden",name:"id",value:e.userId}),a.a.createElement("div",{className:"input-group-vertical"},a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{className:"control-label",htmlFor:"username"},t("New Username")),a.a.createElement("input",{id:"username",className:"form-control input-lg enable",name:"username",type:"text",defaultValue:""})),a.a.createElement("div",{className:"form-group has-feedback"},a.a.createElement("label",{className:"control-label",htmlFor:"password"},t("Confirm Password")),a.a.createElement("input",{id:"password",className:"form-control input-lg enable",name:"password",type:"password",defaultValue:""}),a.a.createElement("span",{onClick:e.onPasswordToggle,onKeyDown:e.onPasswordToggle,role:"button",tabIndex:"-1"},a.a.createElement(s.a,{iconName:"fa-view",height:"24",color:"wp-neutral-2",className:"form-control-feedback interact"})))),a.a.createElement("a",{className:"forgot-password on-navigate",href:"/forgot?nextUrl=settings"},t("Forgot your password?")),a.a.createElement("input",{type:"submit",className:"btn btn-lg btn-orange btn-block enable",value:t("Save")})))};v.propTypes={userId:i.a.number.isRequired,hideModal:i.a.func.isRequired,onPasswordToggle:i.a.func.isRequired};var E="username",w="password",O="addPassword",S=function(e){var t=Object(l.o)().trans,n=e.type===O?t("Create Password"):t("Change %s",e.type);return a.a.createElement("div",{id:"user-settings-modal"},a.a.createElement("button",{className:"close on-close",onClick:e.hideModal,"aria-label":t("Close")},a.a.createElement(s.a,{iconName:"fa-remove",height:"16",color:"wp-neutral-2"})),a.a.createElement("header",{className:"panel-heading"},a.a.createElement("h3",null,n)),a.a.createElement("div",{className:"panel-body"},a.a.createElement("div",{className:"body-text"},e.type===E?a.a.createElement(v,{userId:e.userId,hideModal:e.hideModal,onPasswordToggle:e.onPasswordToggle}):a.a.createElement(g,{hasPassword:e.type===w,userId:e.userId,name:e.name,username:e.username,hideModal:e.hideModal}))))};S.propTypes={onPasswordToggle:i.a.func.isRequired,hideModal:i.a.func.isRequired,type:i.a.string.isRequired,userId:i.a.number.isRequired,name:i.a.string,username:i.a.string};t.a=S},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(7),l=n(143),c=n(141),u=n(10),d=n(2),m=function(e){var t=e.toggleModal,n=Object(d.o)().trans;return a.a.createElement("section",{className:"profile-modal",id:"userClose","aria-hidden":"true"},a.a.createElement("header",{className:"modal-header"},a.a.createElement("div",{className:"pull-right top-right close","data-dismiss":"modal"},a.a.createElement("button",{className:"close-button",onClick:t},a.a.createElement(u.a,{iconName:"fa-remove",size:"16"}))),a.a.createElement("h3",{className:"modal-title"},"Close User Account")),a.a.createElement("div",{className:"modal-body"},a.a.createElement("p",null,"Select Reason:"),a.a.createElement("select",{id:"close-reason"},a.a.createElement("option",{value:"banned_explicit"},"Banned - Explicit"),a.a.createElement("option",{value:"banned_self_harm"},"Banned - Self Harm"),a.a.createElement("option",{value:"copyright"},"Copyright Infringement"),a.a.createElement("option",{value:"csem"},"CSEM found"),a.a.createElement("option",{value:"csem_image_moderation"},"CSEM found by image moderation"),a.a.createElement("option",{value:"cyberbullying_harassment"},"Cyberbullying/Harassment"),a.a.createElement("option",{value:"extremism"},"Extremism"),a.a.createElement("option",{value:"poaching"},"Poaching"),a.a.createElement("option",{value:"previous_account_closed"},"Previous account closed"),a.a.createElement("option",{value:"sexual_messaging"},"Sexual Messaging"),a.a.createElement("option",{value:"spam"},"Spam"),a.a.createElement("option",{value:"underage"},"Underage"))),a.a.createElement("footer",{className:"modal-footer"},a.a.createElement("button",{className:"btn btn-orange on-close-user-account"},n("Close Account"))))};m.propTypes={toggleModal:i.a.func.isRequired};var f=m,p=function(e){var t=e.toggleModal,n=Object(d.o)().trans;return a.a.createElement("section",{className:"profile-modal",id:"userTimeout","aria-hidden":"true"},a.a.createElement("header",{className:"modal-header"},a.a.createElement("div",{className:"pull-right top-right close","data-dismiss":"modal"},a.a.createElement("button",{className:"close-button",onClick:t},a.a.createElement(u.a,{iconName:"fa-remove",size:"16"}))),a.a.createElement("h3",{className:"modal-title"},"User Time-Out")),a.a.createElement("div",{className:"modal-body"},a.a.createElement("p",null,"Duration: 2 days"),a.a.createElement("p",null,"Reason:"),a.a.createElement("textarea",{className:"form-control","aria-multiline":"true",id:"timeout-reason",name:"timeout-reason",rows:"10",cols:"46"})),a.a.createElement("footer",{className:"modal-footer"},a.a.createElement("button",{type:"button",className:"btn btn-orange on-timeout-user"},n("Save"))))};p.propTypes={toggleModal:i.a.func.isRequired};var b=p,y=n(3),g=n(13),h=n(46),v=n(58),E=n(144);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e){var t=e.profileType,n=e.username,o=e.avatar,i=e.name,s=e.backgroundUrl,u=e.highlight_colour,m=e.numFollowers,p=e.numStoriesPublished,g=e.numLists,h=e.toggleModal,O=e.toggleToast,S=e.onUnmuteUser,C=e.onUnblock,j=e.onBlock,N=e.recentlyMuted,k=e.recentlyBlocked,T=e.isMobile,P=e.isMuted,_=e.safety,R=e.isAmbassador,I=Object(d.o)().trans,A=w(Object(r.useState)(t),2),x=A[0],L=A[1],M=w(Object(r.useState)(k),2),D=M[0],U=M[1],q=w(Object(r.useState)(!1),2),F=q[0],B=q[1];Object(r.useEffect)((function(){return F?O({className:"unblock",body:I("%s is now unblocked. You can block them at any time.",n)}):k&&O({className:"block",body:I("%s is now blocked. You can unblock them at any time.",n)}),function(){O()}}),[N,I,n,O,x,k,F]);var W=function(e){var t={username:n,toggleModal:h,onUnblock:V,buttonRef:e.current},r=function(){return a.a.createElement(c.a,t)};r.displayName="UnblockModal",h({type:"unblock",className:"unblock-modal",hideClose:!0,component:r})},H=function(e){_.isMuted&&(L("block"),U(!0),B(!1)),j(e)},V=function(e){_.isMuted&&(L("mute"),B(!0)),C(e)};return a.a.createElement("div",{id:"restricted-profile",className:"profile-layout"},a.a.createElement(l.a,{username:n,avatar:o,name:i,backgroundUrl:s,highlight_colour:u,numFollowers:m,numStoriesPublished:p,numLists:g,onUnmuteUser:S,profileType:x,blockUser:H,onUnblock:W,isMobile:T,className:"restricted-profile-header"}),a.a.createElement("div",{id:"page-navigation",className:"sub-navigation"},a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"navigation-content"},a.a.createElement("nav",{className:"navigation"},a.a.createElement("ul",{className:"nav-list"},a.a.createElement("li",{className:"nav-item","data-section":"about"},a.a.createElement("button",{className:"section btn-link"},I("About"))),a.a.createElement("li",{className:"nav-item","data-section":"conversations"},a.a.createElement("button",{className:"section btn-link"},I("Conversations"))),!T&&a.a.createElement("li",{className:"nav-item","data-section":"following"},a.a.createElement("button",{className:"section btn-link"},I("Following"))))),!T&&a.a.createElement("div",{className:"actions"},a.a.createElement("div",{className:"button-group inline-block relative"},a.a.createElement(E.a,{username:n,isMuted:("mute"===x||P)&&"block"!==x,isAmbassador:R,isBlocked:"block"===x,onCloseAccount:function(){var e={toggleModal:h},t=function(){return a.a.createElement(f,e)};t.displayName="CloseAccountModal",h({type:"closeAccountModal",className:"close-account-modal",hideClose:!0,component:t})},onTimeout:function(){var e={toggleModal:h},t=function(){return a.a.createElement(b,e)};t.displayName="TimeoutModal",h({type:"timeoutModal",className:"timeout-modal",hideClose:!0,component:t})},onUnmuteUser:S,unblockUser:W,blockUser:H,isRestrictedProfile:!0,showModerationOptions:!0})))))),(k||D)&&a.a.createElement(v.a,null),F&&a.a.createElement(v.a,null),a.a.createElement(y.v,null))};S.propTypes={profileType:i.a.string.isRequired,username:i.a.string.isRequired,backgroundUrl:i.a.string,avatar:i.a.string,highlight_colour:i.a.string,numStoriesPublished:i.a.number,numLists:i.a.number,numFollowers:i.a.number,name:i.a.string,toggleModal:i.a.func,toggleToast:i.a.func,onUnmuteUser:i.a.func,onUnblock:i.a.func,onBlock:i.a.func,recentlyMuted:i.a.bool,recentlyBlocked:i.a.bool,isMobile:i.a.bool,isBlocked:i.a.bool,isMuted:i.a.bool,isAmbassador:i.a.bool,safety:i.a.object};t.a=Object(s.b)(null,{toggleModal:g.b,toggleToast:h.c})(S)},function(e,t,n){"use strict";var r=n(14),a=n.n(r),o=n(4),i=n.n(o),s=n(1),l=n.n(s),c=n(0),u=n.n(c),d=n(3),m=n(2),f=n(61);function p(e){var t,n,r=e.onPurchase,a=e.onCancelPurchase,o=e.toggleModal,i=e.currentPartIsBlocked,s=e.price,l=e.isPurchasingStory,c=Object(m.o)().trans;return l?(t=c("Unlock whole story"),n=c("You are about to use %s Coins to unlock this story",s)):i?(t=c("Unlock this part"),n=c("You are about to use %s Coins to unlock this part",s)):(t=c("Unlock next part"),n=c("You are about to use %s Coins to unlock the next part",s)),u.a.createElement(u.a.Fragment,null,u.a.createElement("h3",null,n),u.a.createElement("div",{className:"purchase-options"},u.a.createElement("button",{onClick:function(){a(),o()},className:"btn btn-grey cancel"},c("Cancel")),u.a.createElement("button",{onClick:function(){o(),r()},className:"btn btn-orange confirm-unlock"},u.a.createElement(f.a,{width:"24px",height:"24px"}),u.a.createElement("span",null,t))))}p.propTypes={onPurchase:l.a.func.isRequired,onCancelPurchase:l.a.func.isRequired,toggleModal:l.a.func.isRequired,currentPartIsBlocked:l.a.bool.isRequired,price:l.a.number.isRequired,isPurchasingStory:l.a.bool.isRequired};var b=n(5),y=n(13),g=n(129),h=n(93),v=n(7),E=n(391),w=n.n(E),O=["294965960","294966013","294966028","294966049","294966539","294966588","294966611","294966627"],S=function(e){if("string"!=typeof e)throw new TypeError("storyId must be a string");return O.includes(e)};function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var a=R(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(s,e);var t,n,r,o=T(s);function s(){var e;j(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return I(_(e=o.call.apply(o,[this].concat(n))),"onPurchase",(function(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.props,i=o.buyPaidContent,s=o.blockedPart,l=o.fetchWalletBalance,c=o.startPaidContentPurchase,d=o.markPaidContentPurchaseSuccessful,m=o.finishPaidContentPurchase,f=o.trans,y=o.isDesktop,g=o.group,h=o.toggleModal,v=o.amount,E=o.onBuyCoins,O=o.currentPartIsBlocked,S=t<=v;if(!S)return window.te.push("event","paywall","purchase",null,"failed",{page:"reading",storyid:n,partid:r,cost:t,starting_balance:v,part_index:j}),void E();y||Object(b.v)(e.paywallRef,-25);var C=function(){return window.te.push("event","paywall","purchase",null,"cancelled",{page:"reading",storyid:n,partid:r,cost:t,part_index:j,content_type:r?"part":"story"})},j=Object(b.j)(s.id,g),N=void 0===r&&!a;N?h({component:function(a){var o=a.toggleModal;return u.a.createElement(p,{onPurchase:function(){e.onPurchase(t,n,r,!0)},onCancelPurchase:C,toggleModal:o,currentPartIsBlocked:O,isPurchasingStory:!r,price:t})},className:"purchase-confirmation",onCloseModal:C}):Promise.all([i(t,n,r,j),c(t,r)]).then((function(){return l(wattpad.user.username,!0),d()})).then(m).then((function(){var t="/".concat(s.id);window.app.router.navigate(t,{trigger:!0}),setTimeout((function(){var t=e.props.group.user,n=w.a.renderToString(u.a.createElement(L,{trans:f,user:t}));window.wattpad.utils.showToast(n,{dismissAfterDuration:6e3})}),700)})).catch((function(){m()}))})),I(_(e),"renderAuthorDetails",(function(){var t=e.props,n=t.isDesktop,r=t.group,a=t.trans,o=r.user,i=r.description,s=o.username,l=o.name,c=o.avatar;return n?u.a.createElement("div",{className:"author-info desktop"},u.a.createElement("a",{className:"on-navigate",href:"/user/".concat(s)},u.a.createElement("div",{className:"avatar avatar-lg center-block"},u.a.createElement(d.a,{avatar:c,username:s}))),u.a.createElement("div",{className:"info"},u.a.createElement("a",{className:"on-navigate",href:"/user/".concat(s)},u.a.createElement("span",{className:"center-block",dangerouslySetInnerHTML:{__html:a("by <strong>%s</strong>",l)}})),u.a.createElement("a",{className:"on-navigate",href:"/user/".concat(s)},u.a.createElement("div",null,"@".concat(s))),u.a.createElement("div",{className:"description"},Object(b.x)(i,70)))):u.a.createElement("div",{className:"author-info mobile"},u.a.createElement("div",{className:"avatar avatar-sm center-block"},u.a.createElement(d.a,{avatar:c,username:s})),u.a.createElement("span",{dangerouslySetInnerHTML:{__html:a('by <a href=%s class="on-navigate">%s</a>',"/user/".concat(s),s)}}))})),I(_(e),"getConditionalCopy",(function(e,t,n,r,a){var o,i=a(e?r?"Read it now":"Buy this part":"Buy next part");o=a(e?t?"Buy this story part or the entire story.":"Buy this story part.":t?"Buy a new story part or the entire story.":"Buy a new story part.");var s=a(t?"Either way, your Coins help writers earn money for the stories you love.":"Your Coins help writers earn money for the stories you love."),l=r?a("Unlock this part to continue reading instantly."):null;return{buyPartCopy:i,supportCtaCopy:n||l||"".concat(o," ").concat(s)}})),e}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.blockedPart,n=e.amount,r=e.group;if(t){var a=Object(b.j)(t.id,r);window.te.push("event","paywall",null,null,"view",{page:"reading",storyid:r.id,partid:t.id,starting_balance:n,part_index:a})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.blockedPart,r=t.currentPartIsBlocked,o=t.group,s=t.storyPrice,l=t.remainingBlockedParts,c=t.purchase,m=t.isDesktop,p=t.trans,b=t.showStoryPaywallModal,y=t.onBuyCoins,h=o.user,v=o.id,E=o.completed,w=h.username,O=h.name,C=n.price,j=n.id,N=n.blockedMessage,k=n.isBonusPart,T=c.isPurchasing,P=a.a.isNumber(s),_=E&&P,R=this.getConditionalCopy(r,_,N,k,p),I=R.buyPartCopy,A=R.supportCtaCopy,x=S(v);return u.a.createElement("div",{className:i()("story-part-paywall",{"is-bonus-part":k}),ref:function(t){return e.paywallRef=t}},u.a.createElement("div",{className:"lock-circle"},u.a.createElement(d.g,{iconName:"fa-lock",height:"16",color:"wp-neutral-2"})),!m&&u.a.createElement(g.a,{onWalletClick:y}),u.a.createElement("div",{className:"cta"},u.a.createElement("h2",null,x&&!E?p("New parts added weekly"):p(k?"Show your support for %s and stay immersed in the story":"Show your support for %s, and continue reading this story",O)),this.renderAuthorDetails(),u.a.createElement("div",{className:"become-a-supporter"},A)),u.a.createElement("div",{className:"purchase-buttons-container"},_&&!k&&u.a.createElement("button",{onClick:function(){return e.onPurchase(s,v)},className:i()("btn btn-primary unlock unlock-story",{disabled:T})},u.a.createElement("span",{className:"cost"},u.a.createElement(f.a,{height:"24px",width:"24px"}),u.a.createElement("span",{className:"price"},s)),u.a.createElement("span",{className:"unlock-copy"},u.a.createElement("strong",null,p("Buy whole story")))),u.a.createElement("button",{onClick:function(){return e.onPurchase(C,v,j)},className:i()("btn btn-primary unlock unlock-part",{disabled:T})},u.a.createElement("span",{className:"cost"},u.a.createElement(f.a,{height:"24px",width:"24px"}),u.a.createElement("span",{className:"price"},C)),u.a.createElement("span",{className:"unlock-copy"},u.a.createElement("strong",null,I)))),u.a.createElement("div",{className:"more-details"},_&&!k&&u.a.createElement("p",{dangerouslySetInnerHTML:{__html:p("This story has <strong>%s remaining parts</strong>",l)}}),p(k?"Your coins help writers like @%s earn money for creating the stories you love.":"See how Coins support your favorite writers like @%s.",w),u.a.createElement("button",{className:"btn-link",onClick:b},p("Learn more"))))}}])&&N(t.prototype,n),r&&N(t,r),s}(u.a.Component);I(A,"propTypes",{blockedPart:l.a.shape({price:l.a.number,id:l.a.number.isRequired,blockedMessage:l.a.string,isBonusPart:l.a.bool}),currentPartIsBlocked:l.a.bool.isRequired,storyPrice:l.a.number,isDesktop:l.a.bool.isRequired,amount:l.a.number.isRequired,group:l.a.shape({user:l.a.shape({username:l.a.string.isRequired,name:l.a.string.isRequired}),description:l.a.string.isRequired,id:l.a.string.isRequired,completed:l.a.bool}),remainingBlockedParts:l.a.number.isRequired,buyPaidContent:l.a.func,fetchWalletBalance:l.a.func.isRequired,startPaidContentPurchase:l.a.func.isRequired,markPaidContentPurchaseSuccessful:l.a.func.isRequired,finishPaidContentPurchase:l.a.func.isRequired,purchase:l.a.shape({isPurchasing:l.a.bool.isRequired,amountSpent:l.a.number.isRequired,buyingPart:l.a.bool.isRequired}).isRequired,trans:l.a.func.isRequired,toggleModal:l.a.func.isRequired,showStoryPaywallModal:l.a.func,onBuyCoins:l.a.func});var x={fetchWalletBalance:h.a,startPaidContentPurchase:h.d,markPaidContentPurchaseSuccessful:h.c,finishPaidContentPurchase:h.b,toggleModal:y.b};t.a=Object(v.b)((function(e){return{purchase:e.purchase,amount:e.wallet.amount}}),x)(Object(b.n)(A));function L(e){var t=e.user,n=e.trans,r=t.name,a=t.username,o=t.avatar;return u.a.createElement("div",{style:{display:"flex"}},u.a.createElement("div",{className:"avatar avatar-md",style:{flexShrink:0,marginRight:12}},u.a.createElement(d.a,{avatar:o,username:a})),u.a.createElement("div",{style:{lineHeight:"normal"}},u.a.createElement("div",{style:{fontSize:17,fontWeight:600,marginBottom:5}},r),u.a.createElement("div",null,"“",n("Thank you for the support! I hope you enjoy the story!"),"”")))}L.propTypes={user:l.a.shape({username:l.a.string.isRequired,name:l.a.string.isRequired,avatar:l.a.string.isRequired}),trans:l.a.func.isRequired}},function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(0),a=n.n(r),o=n(197),i=n(1),s=n.n(i),l=n(74);function c(e){var t=e.coverColor;return a.a.createElement("div",{className:"story-card-skeleton"},a.a.createElement("div",{className:"top-section"},a.a.createElement("div",{className:"cover-skeleton"},a.a.createElement(l.a,{width:"100%",height:"100%",animation:!0,color:t,styles:{borderRadius:"4px"}})),a.a.createElement("div",{className:"title-skeleton"},a.a.createElement(l.a,{width:"100%",height:"28px",animation:!0}))),a.a.createElement("div",{className:"bottom-section"},a.a.createElement(l.a,{width:"100%",height:"100%",animation:!0})))}function u(e){var t=e.numSkeletonCards;return a.a.createElement("div",{className:"story-card-skeleton-container hidden"},a.a.createElement("ul",{className:"list-group new-list-group"},Array.from({length:t},(function(e,t){return a.a.createElement("li",{key:t,className:"list-group-item"},a.a.createElement(c,{coverColor:"@ds-neutral-60-solid"}))}))))}c.propTypes={coverColor:s.a.string},u.propTypes={numSkeletonCards:s.a.number};var d=n(2),m=n(15),f=n(5);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=e.stories,n=void 0===t?[]:t,i=e.searchTerm,s=e.nextUrl,l=e.isMobile,c=e.numStories,y=e.viewedStories,h=void 0===y?[]:y,E=l?3:15,w=v(Object(r.useState)(n),2),O=w[0],S=w[1],C=c<E?O.length:E,j=v(Object(r.useState)(C),2),N=j[0],k=j[1],T=v(Object(r.useState)(s),2),P=T[0],_=T[1],R=v(Object(r.useState)(-1),2),I=R[0],A=R[1],x=v(Object(r.useState)(n.length),2),L=x[0],M=x[1],D=Object(d.o)(),U=D.trans,q=D.ngettext,F=Object(r.useCallback)((function(e){e&&e.focus()}),[]),B=!!P,W=function(e,t,n){var r,a;h.includes(e)||(window.te.push("event","story",null,null,"view",{storyid:e,page:"search",position:t,query:[i],algo_source:n}),null===(r=app)||void 0===r||null===(a=r.trigger)||void 0===a||a.call(r,"app:component:stories:view",e))};return a.a.createElement("div",{className:"feed-item-new panel new-container"},a.a.createElement("div",{className:"story-card-container"},a.a.createElement("ul",{className:"list-group new-list-group"},O.map((function(e,t){return a.a.createElement(a.a.Fragment,{key:e.id},t===I&&a.a.createElement("li",{tabIndex:-1,ref:F,className:"more-stories"},a.a.createElement("span",{className:"sr-only"},Object(m.sprintf)(q("%s more story","%s more stories",L),L))),a.a.createElement("li",{className:"list-group-item"},a.a.createElement(o.a,p({},e,{searchTerm:i,index:t,viewedStories:h,pushViewEvent:W}))))}))),B&&a.a.createElement("button",{className:"btn-load-more load-more",onClick:function(){var e=P;Promise.resolve($.get(e)).then((function(e){var t,n,r=e.stories.filter((function(e){return!O.some((function(t){return t.id===e.id}))})).map((function(e){return g(g({},e),{},{language:e.language.id})}));M(r.length),S((function(e){return[].concat(b(e),b(r))})),k(N+E>c?c:N+E),_(e.nextUrl),A(O.length),null===(t=app)||void 0===t||null===(n=t.trigger)||void 0===n||n.call(t,"app:component:search:refreshSearchAd")})).catch((function(){wattpad.utils.showToast(U("Something went wrong. Please try again"),{type:"dismissable"})}))}},U("Load more stories")),a.a.createElement("div",{className:"results",dangerouslySetInnerHTML:{__html:U("You are seeing %s of %s results","<strong>".concat(N,"</strong>"),"<strong>".concat(Object(f.b)(Math.max(c,N)),"</strong>"))}})),!l&&a.a.createElement(u,{numSkeletonCards:15}))}O.propTypes={stories:s.a.array,searchTerm:s.a.string,nextUrl:s.a.string,showMore:s.a.bool,isMobile:s.a.bool,numStories:s.a.number,viewedStories:s.a.array}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(2),l=n(34),c=n(7),u=n(106),d=function(e){var t=e.title,n=e.mainContent,r=e.secondaryContent,o=e.link,i=e.button,s=e.closePopover,l=e.handleHelpLink;return a.a.createElement("div",{className:"react-popover-tooltip"},a.a.createElement("h3",{className:"popover-title"},t),a.a.createElement("div",{className:"popover-content"},n&&a.a.createElement("div",{className:"main-content"},n),r&&a.a.createElement("div",{className:"secondary-content"},r),a.a.createElement("div",{className:"tooltip-footer"},o&&a.a.createElement("a",{target:"blank",href:o.href,onClick:l},o.text),i&&a.a.createElement("button",{className:"btn on-okay btn-orange",onClick:function(){return s()}},i.text))))};d.defaultProps={closePopover:function(e){return e.preventDefault()},handleHelpLink:function(){}},d.propTypes={title:i.a.string,mainContent:i.a.string,secondaryContent:i.a.string,link:i.a.object,button:i.a.object,closePopover:i.a.func,handleHelpLink:i.a.func};var m=d,f=n(174);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){var t=e.story,n=e.openPopover,o=e.handleUpdateCopyright,i=Object(s.o)().trans,l=Object(r.useRef)(),c=Object(f.b)(),d=Object(f.a)(),y=t&&t.copyright?t.copyright+"":"1",g=b(Object(r.useState)(y),2),v=g[0],E=g[1],w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};window.te.push("event","copyright","story",e,t,n)},O=function(){w(null,"learn_more",{storyid:t.id,target:"hc_copyright_faq"})};return a.a.createElement(a.a.Fragment,null,a.a.createElement(u.a,{label:i("Copyright"),dropdownOptions:d,name:"copyright",onFocus:function(){w(null,"open",{storyid:t.id})},onChange:function(e){var n=e.target.value,r=parseInt(n,10);E(n),w("license","select",{storyid:t.id,license_id:r}),o(r)},onBlur:function(){w(null,"close",{storyid:t.id})},selected:v,onClickIcon:function(e){e.preventDefault(),l.current||(l.current=e.currentTarget);n({component:function(e){var t=e.closePopover;return a.a.createElement(m,p({},c.copyright,{closePopover:t,handleHelpLink:O}))},triggerRef:l,passthroughProps:{placement:"top",showArrow:"true"}})},ariaLabel:i("Copyright options")}),a.a.createElement(h,{copyrightId:v,copyrightLicenses:d}))},h=function(e){var t=e.copyrightId,n=e.copyrightLicenses.find((function(e){return e.value.toString()===t}));return a.a.createElement("p",{className:"copyright-description"},n.summary)};h.propTypes={copyrightId:i.a.string,copyrightLicenses:i.a.array},g.defaultProps={story:{}},g.propTypes={openPopover:i.a.func.isRequired,story:i.a.object,handleUpdateCopyright:i.a.func,closePopover:i.a.func};var v=Object(c.b)(null,{openPopover:l.c})(g);t.a=v},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(4),i=n.n(o),s=n(1),l=n.n(s),c=n(23),u=n(40),d=n.n(u),m=n(10),f=n(213),p=n(2),b=n(30);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e){var t=e.adData,n=e.partId,o=e.storyId,s=e.partTitle,l=e.paragraphId,u=e.paragraphBody,g=e.storyAuthor,h=e.initialCommentId,v=e.onDrawerRef,E=e.onCloseDrawer,w=e.onUpdateCount,O=e.onCommentsChanged,S=Object(p.o)().trans,C=Object(r.useRef)(),j=y(Object(r.useState)(!1),2),N=j[0],k=j[1],T={page:"comment",storyid:parseInt(o),partid:parseInt(n),paragraph_id:l,entity_type:"comment",sentiment_type:"like"};Object(r.useEffect)((function(){return k(!0),document.body.classList.add("paragraph-comments-drawer-open"),function(){return document.body.classList.remove("paragraph-comments-drawer-open")}}),[]);var P=function(){k(!1),setTimeout(E,300)};return d.a.createPortal(a.a.createElement("div",{className:"paragraph-comments-drawer",ref:v},a.a.createElement("div",{role:"presentation",className:i()("modal-backdrop fade",{in:N}),onClick:P}),a.a.createElement("div",{ref:C,className:i()("drawer-content",{open:N})},a.a.createElement("header",{className:"drawer-header"},a.a.createElement("h1",{className:"drawer-title"},s),a.a.createElement("button",{className:"close-btn",onClick:P,"aria-label":S("Close")},a.a.createElement(m.a,{iconName:"fa-remove",height:"14",color:"wp-neutral-1"}))),a.a.createElement("div",{className:"drawer-body"},a.a.createElement("div",{className:"paragraph-content"},a.a.createElement("pre",{dangerouslySetInnerHTML:{__html:u}})),a.a.createElement(f.a,{adData:t,partId:n,paragraphId:l,storyAuthor:g,scrollableRef:C,initialComment:h&&Object(b.m)(h),location:c.d.PARAGRAPH,sentimentEventData:T,onUpdateCount:w,onCommentsChanged:O})))),document.getElementById("story-reading"))};h.propTypes={adData:c.a,partId:l.a.number.isRequired,storyId:l.a.string.isRequired,partTitle:l.a.string.isRequired,paragraphId:l.a.string.isRequired,paragraphBody:l.a.string.isRequired,storyAuthor:l.a.string.isRequired,initialCommentId:l.a.string,onDrawerRef:l.a.func,onCloseDrawer:l.a.func.isRequired,onUpdateCount:l.a.func.isRequired,onCommentsChanged:l.a.func};var v=h,E=n(5);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e){var t=e.partId,n=e.storyId,o=e.partTitle,s=e.paragraphId,l=e.paragraphBody,c=e.storyAuthor,u=e.adData,d=e.initialCommentId,f=e.commentCount,b=w(Object(r.useState)(),2),y=b[0],g=b[1],h=w(Object(r.useState)(!1),2),O=h[0],S=h[1],C=w(Object(r.useState)(f),2),j=C[0],N=C[1],k=w(Object(r.useState)(d),2),T=k[0],P=k[1],_=Object(r.useRef)(),R=Object(r.useCallback)((function(e){return g(e)}),[]),I=function(e){window.te.push("event","comments",null,null,e,{page:"comment",storyid:parseInt(n),partid:parseInt(t),paragraph_id:s})},A=function(){S(!0),I("view")},x=function(){var e;S(!1),P(void 0),null===(e=_.current)||void 0===e||e.focus(),I("close")};Object(r.useEffect)((function(){d&&A()}),[d]);var L=Object(p.p)(y,_.current,x).updateTabStops;return a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{ref:_,onClick:A,className:i()("btn-no-background comment-marker",{"hide-marker":!j})},a.a.createElement("span",{className:"num-comment"},j?Object(E.b)(j):"+"),a.a.createElement(m.a,{iconName:"fa-comment-count",height:"28",color:"wp-neutral-2"})),O&&a.a.createElement(v,{partId:t,storyId:n,partTitle:o,paragraphId:s,paragraphBody:l,storyAuthor:c,initialCommentId:T,onDrawerRef:R,onCloseDrawer:x,onUpdateCount:function(e){N((function(t){return t+e}))},onCommentsChanged:L,adData:u}))};S.propTypes={partId:l.a.number.isRequired,storyId:l.a.string.isRequired,partTitle:l.a.string.isRequired,paragraphId:l.a.string.isRequired,paragraphBody:l.a.string.isRequired,storyAuthor:l.a.string.isRequired,commentCount:l.a.number.isRequired,adData:c.a,initialCommentId:l.a.string};t.a=S},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(4),l=n.n(s),c=n(3),u=n(5);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h,v,E,w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(i,e);var t,n,r,o=b(i);function i(){return m(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.story,r=t.trans;n.publishedPartsCount=n.parts.filter((function(e){return!e.draft})).length,n.draftPartsCount=n.parts.filter((function(e){return e.draft})).length;var o=r("%s Published part",n.publishedPartsCount);n.publishedPartsCount>1&&(o=r("%s Published parts",n.publishedPartsCount));var i=r("%s - draft",n.draftPartsCount);return n.draftPartsCount>1&&(i=r("%s - drafts",n.draftPartsCount)),a.a.createElement("div",{className:l()("story-list-item",this.props.className),key:n.id,onClick:function(){return e.props.onSelectStory(n)},onKeyDown:function(){return e.props.onSelectStory(n)},role:"row",tabIndex:"0"},a.a.createElement("img",{className:"story-cover",src:n.cover,alt:"".concat(n," cover")}),a.a.createElement("div",{className:"story-item-details"},a.a.createElement("h4",{className:"story-title"},n.title),a.a.createElement("div",null,n.publishedPartsCount?a.a.createElement("span",{className:"publish-count"},o):"",n.draftPartsCount?a.a.createElement("span",{className:"draft-count"}," ",i):""),a.a.createElement("div",{className:"updated-date"},r("Updated %s",Object(u.e)(n.modifyDate))),a.a.createElement("div",{className:"meta-wrapper"},a.a.createElement("span",{className:"story-meta"},a.a.createElement(c.g,{iconName:"fa-view",height:"12",color:"wp-neutral-3"}),Object(u.b)(n.readCount).toString()),a.a.createElement("span",{className:"story-meta"},a.a.createElement(c.g,{iconName:"fa-vote",height:"12",color:"wp-neutral-3"}),Object(u.b)(n.voteCount).toString()),a.a.createElement("span",{className:"story-meta"},a.a.createElement(c.g,{iconName:"fa-comment",height:"12",color:"wp-neutral-3"}),Object(u.b)(n.commentCount).toString()))))}}])&&f(t.prototype,n),r&&f(t,r),i}(a.a.Component);h=w,v="propTypes",E={story:i.a.object.isRequired,className:i.a.string,trans:i.a.func.isRequired,onSelectStory:i.a.func},v in h?Object.defineProperty(h,v,{value:E,enumerable:!0,configurable:!0,writable:!0}):h[v]=E;var O=Object(u.n)(w);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var a=_(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(i,e);var t,n,r,o=k(i);function i(){var e;C(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return R(P(e=o.call.apply(o,[this].concat(n))),"state",{done:!1,selectedStory:e.props.selectedStoryId,uploading:!1}),R(P(e),"selectStory",(function(t){e.setState({selectedStory:t.id})})),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this,t=window.wattpad.utils.currentUser().toJSON().username;this.setState({newCover:document.getElementById("newCover").getAttribute("src")}),$.get("/api/v3/users/".concat(t,"/stories")).then((function(t){e.setState({works:t.stories.sort((function(t,n){return e.state.selectedStory&&t.id==e.state.selectedStory?-1:e.state.selectedStory&&n.id==e.state.selectedStory?1:0}))})}))}},{key:"detectCanvasSupport",value:function(){return!!document.createElement("canvas").getContext}},{key:"captureCover",value:function(e){if(this.detectCanvasSupport())return new Promise((function(t){var n=new Image;n.crossOrigin="Anonymous",n.onload=function(){var e=document.createElement("canvas");e.width=512,e.height=800,e.getContext("2d").drawImage(n,0,0,512,800),t(e.toDataURL())},n.src=e}))}},{key:"uploadCover",value:function(e){var t=this;this.captureCover(this.state.newCover).then((function(n){if(n)return t.setState({uploading:!0}),Promise.resolve($.ajax({type:"POST",url:"/apiv2/updatestorycover",data:{id:e,image:n.match(/;base64,(.+)$/)[1]}})).then((function(){t.setState({done:!0}),window.te.push("event","writer","cover",null,"add",{storyid:e,source:"canva"})}))}))}},{key:"render",value:function(){var e=this,t=this.props.trans,n=this.state.works?this.state.works:this.props.works?this.props.works:[],r=(this.state.newCover?this.state:this.props).newCover,o=this.state,i=o.done,s=o.uploading;return a.a.createElement("div",{id:"creation-works-listing",className:"container"},i&&a.a.createElement("div",{className:l()("cover-finished")},a.a.createElement("span",{className:"success-message",dangerouslySetInnerHTML:{__html:t("Cover uploaded to <strong>'%s'</strong>",this.state.works.find((function(t){return t.id==e.state.selectedStory})).title)}}),a.a.createElement("a",{href:"/myworks/".concat(this.state.selectedStory),className:"btn btn-md btn-orange"},t("Go to story"))),a.a.createElement("div",{className:"import-cover"},!i&&a.a.createElement("div",{className:"new-cover-block"},a.a.createElement("img",{width:"256",id:"newCover",src:r,alt:"new cover"})),!i&&a.a.createElement("div",{className:"user-story-list"},a.a.createElement("h3",null,t("Add cover to selected story")),s&&a.a.createElement(c.c,{name:"/icons/spinner-black.svg",className:"progress-spinner fa-spin",alt:t("Spinner"),height:"48",width:"48"}),!s&&n.map((function(t){var n=!1;return e.state.selectedStory&&e.state.selectedStory==t.id&&(n=!0),a.a.createElement(O,{key:t.id,story:t,className:l()({selected:n}),onSelectStory:e.selectStory})})))),!i&&a.a.createElement("div",{className:l()("continue-nav",{hidden:i})},a.a.createElement("button",{onClick:this.uploadCover.bind(this,this.state.selectedStory),className:l()("btn btn-md btn-orange",{disabled:!this.state.selectedStory})},t("Next"))))}}])&&j(t.prototype,n),r&&j(t,r),i}(a.a.Component);R(I,"propTypes",{works:i.a.array,coverUri:i.a.string,selectedStoryId:i.a.string,trans:i.a.func.isRequired});t.a=Object(u.n)(I)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(104),l={id:1,title:"The Ugly Barnacle",description:"A story about an ugly barnacle",cover:"https://img.wattpad.com/cover/197712604-512-k40d0e0.jpg",isPaid:!0,tags:["shortstory","sad","tragedy"],sources:["a","b","c"],width:200,index:1,numParts:10,completed:!0,mature:!1,firstPartId:123},c=Array(10).fill(l),u=n(2);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,s,"next",e)}function s(e){m(o,r,a,i,s,"throw",e)}i(void 0)}))}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y="stories(id,title,tags,cover)",g={sectionType:"swimlane",index:0,setPosition:function(){},windowWidth:1920,wasSeen:!1},h=function(e){var t=p(Object(r.useState)([]),2),n=t[0],o=t[1],i=Object(u.o)().trans;Object(r.useEffect)((function(){function t(){return(t=f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:!n.length&&e.rootTopic&&$.get("/v4/paid_stories/tags/".concat(e.rootTopic.get("name"),"?fields=").concat(y)).then((function(t){return t.stories.filter((function(t){return!!_.isObject(t)||(console.error("TagpagePaidStoriesContainer: ".concat(e.rootTopic.get("name")," given invalid value: ").concat(t)),!1)})).map((function(e){return e.isPaid=!0,e}))})).then((function(e){return o(e)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.rootTopic,n.length]);var l=!(!n.length||!e.rootTopic);return a.a.createElement(a.a.Fragment,null,l&&a.a.createElement(s.a,d({},g,{page:"tags",wasSeen:!0,sectionType:"tags_paid_carousel",heading:i("Hottest Wattpad Originals"),subheading:i("Read the stories we love"),stories:n.length?n:c.slice(0,7),isPromoted:!1,storiesToShow:7,storyWidth:112})))};h.propTypes={rootTopic:i.a.object};t.a=h},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(2),i=n(1),s=n.n(i),l=n(6),c=n(4),u=n.n(c);function d(e){var t=Object(o.o)().trans;return a.a.createElement("div",{className:u()(e.className,"onboarding-tooltip")},a.a.createElement("div",{className:"tooltip-overlay"}),a.a.createElement("div",{className:"tooltip-content"},a.a.createElement("h6",{className:"tooltip-title"},e.title),a.a.createElement("p",{className:"tooltip-text"},e.text),a.a.createElement(l.Button,{label:t("Got it"),fullWidth:!1,size:l.ButtonSize.SMALL,className:"confirm-button"}),a.a.createElement("div",{className:"arrow"})))}d.propTypes={title:s.a.string.isRequired,text:s.a.string.isRequired,className:s.a.string};var m=d;t.a=function(){var e=Object(o.o)().trans;return a.a.createElement(m,{title:e("Interested in writing?"),text:e("Write your first story or edit your published stories here."),className:"write-tooltip"})}},,,,function(e,t,n){"use strict";var r=n(14),a={parts:[],story:{price:[]},has_full_access:void 0};e.exports={DEFAULT_API_RESPONSE:a,formatPaidContentMetadata:function(e,t,n){t.story.hasBonusParts=!1,t.story.isPaidPreview=!1,t.story.numNewParts=0,t.story.numNewBonusParts=0,t.story.premiumPicks=t.story.premium_picks?{liveness:t.story.premium_picks.liveness,endsAt:new Date(t.story.premium_picks.ends_at),startsAt:new Date(t.story.premium_picks.starts_at)}:null;var a=new Date;return a.setDate(a.getDate()-14),r.each(e,(function(e){var o=r.find(t.parts,{id:e.id.toString()}),i=new Date(null==e?void 0:e.createDate);if(e.id=parseInt(e.id,10),e.paywalled=!(null==o||!o.paywalled),e.isBlocked=e.paywalled&&!(null!=o&&o.has_access),e.blockedMessage=(null==o?void 0:o.author_message)||"",e.isBonusPart="paid_bonus"===(null==o?void 0:o.paid_model),e.bonusType=null==o?void 0:o.bonus_type,e.authorNote=null==o?void 0:o.author_note,e.chapterDescription=null==o?void 0:o.chapter_description,e.bonusTypeName=function(e,t){switch(e){case 0:return t("Exclusive Chapter");case 1:return t("Story Branch");case 2:return t("Writer Reveal");default:return""}}(null==o?void 0:o.bonus_type,n),o){var s=r.find(o.price,{id:"wp1"});s&&(e.price=s.amount)}t.story.hasBonusParts||(t.story.hasBonusParts=e.isBonusPart),t.story.isPaidPreview||(t.story.isPaidPreview=!(e.paywalled&&!e.isBlocked)),!e.draft&&i>=a?(e.new=!0,e.isBonusPart?t.story.numNewBonusParts++:t.story.numNewParts++):e.new=!1})),t.parts=e,t}}},,,function(e,t,n){"use strict";(function(e){function t(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}var r=n(139),a=r()?function(t,n,r){return e.require("../server/utils").apiHttp.get(t,null,r,n).then((function(e){if((null==e?void 0:e.code)>=400&&(null==e?void 0:e.code)<500)throw e;return e})).catch((function(e){throw e}))}:function(e){return Promise.resolve($.ajax({type:"GET",url:e}))};e.exports=function(e,n){return new Promise(function(){var r,o=(r=regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=r,t.next=4,a("/api/v3/internal/features?platform=web",e,n).then((function(e){return e})).catch((function(e){var t,n;return n=400===(t=e).status&&t.responseJSON?t.responseJSON.message:400===t.code&&t.message?t.message:"No response received",console.error("getWattpadBackendFeatureFlags: ".concat(n)),{}}));case 4:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,o){var i=r.apply(e,n);function s(e){t(i,a,o,s,l,"next",e)}function l(e){t(i,a,o,s,l,"throw",e)}s(void 0)}))});return function(e){return o.apply(this,arguments)}}())}}).call(this,n(295)(e))},function(e,t){e.exports={getPrivateMessageFeatureFlags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.private_message;if(!t)return{};var n={canSendPrivateMessage:(null==t?void 0:t.can_send_private_message)||!1,displayDeprecationNotice:(null==t?void 0:t.display_deprecation_notice)||!1,displayWarningNotice:(null==t?void 0:t.display_warning_notice)||!1};return n}}},,function(e,t){function n(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}var r=function(e){return Promise.resolve($.ajax({type:"GET",url:e}))};e.exports=function(e){return new Promise(function(){var t,a=(t=regeneratorRuntime.mark((function t(n,a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(e).then((function(e){return n(e.data.items)})).catch((function(e){return a(e)}));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(a,o){var i=t.apply(e,r);function s(e){n(i,a,o,s,l,"next",e)}function l(e){n(i,a,o,s,l,"throw",e)}s(void 0)}))});return function(e,t){return a.apply(this,arguments)}}())}},function(e,t,n){var r=n(102),a=r.CommentPlacement,o=r.ReaderPlacement,i=r.StoryDetailsPlacement,s=r.LibraryPlacement,l=r.SearchPlacement,c=r.BrowsePlacement,u={skipped_paid_story:"story_paywalled",skipped_ad_exempt_story:"story_ad_exempt",images_under_moderation:"image_moderation_flag",skipped_premium_user:"premium_subscription",skipped_exempt:"special_ad_exempt_country"};e.exports=function(e){var t=e.adData,n=e.skipReason,r=t.adEligibility;if(r){var d=r.placement.name,m="passes_all_rules"===n||"skipped_default"===n||"skipped_brandsafe"===n,f={reference_id:r.placement.reference_id,eligible:m,eligibility_factor:u[n],country_code:t.userGeo},p=[o.ReaderTop,o.ReaderMid,o.ReaderBottom,o.ReaderVideo,a.Comments,a.CommentsInline],b=[i.StoryDetails],y=[s.LibraryReadingLists,l.Search,c.TagSearch];if(p.includes(d))f[d]={storyid:t.context.story.id,partid:t.context.storyPart.id},m&&(f.is_mature=window.wattpad.utils.isMatureStory(t.context.story));else if(b.includes(d))f[d]={storyid:t.context.story.id},m&&(f.is_mature=window.wattpad.utils.isMatureStory(t.context.story));else{if(!y.includes(d))return void console.error("invalid placement: ",d);f[d]={}}window.te.push("event",null,null,null,"ad_eligibility_decision_v0",f)}else console.error("missing adEligibility")}},function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(5),l=n(2),c=n(3),u=n(72),d=n(214),m=n(207);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=b||e,y=function(e){var t=e.user,n=(t=void 0===t?{}:t).username,o=t.avatar,i=e.cover,p=e.draft,y=e.isLoggedInUser,g=e.isPaid,h=e.isPaidPreview,v=e.isPaidStory,E=e.firstPartId,w=e.statsItems,O=e.title,S=void 0===O?"Placeholder title TBD":O,C=e.storyId,j=e.readingLists,N=e.storiesCollections,k=e.sources,T=e.writerPreviewHasBannedCover,P=f(Object(r.useState)(b.innerWidth),2),_=P[0],R=P[1],I=f(Object(r.useState)(.3*_),2),A=I[0],x=I[1],L=Object(l.o)().trans,M=36,D=36;Object(l.d)("resize",(function(){R(b.innerWidth),x(_>650?195:.3*_)})),_<=575&&(M=22,D=16);var U=Object(s.t)(i,A);return a.a.createElement("div",{className:"story-header"},a.a.createElement("div",{className:"story-cover"},U?a.a.createElement("img",{src:U,alt:""}):a.a.createElement("img",{src:i,alt:""}),T&&a.a.createElement("div",{className:"banned-overlay"},a.a.createElement(c.g,{name:"warning-triangle",size:"68",color:"wp-warning-01",viewBox:"24",className:"warning-icon"}))),a.a.createElement("div",{className:"story-info"},g&&v&&a.a.createElement("div",{className:"paid-indicator"},a.a.createElement("span",null,L("Wattpad Original"))),a.a.createElement("span",{className:"sr-only"},S),a.a.createElement("div",{"aria-hidden":"true",className:"story-info__title"},Object(s.x)(S,M,!1)),n&&a.a.createElement(m.a,{username:n,avatar:o,authorCharLimit:D}),a.a.createElement(u.a,{statsItems:w,className:"hidden-xxs",showTooltip:!0}),a.a.createElement(d.a,{className:"hidden-xxs",draft:p,isLoggedInUser:y,isPaid:g,isPaidPreview:h,isPaidStory:v,firstPartId:E,storyId:C,readingLists:j,sources:k,storiesCollections:N})))};y.propTypes={user:i.a.shape({username:i.a.string,avatar:i.a.string.isRequired}),cover:i.a.string.isRequired,draft:i.a.bool,firstPartId:i.a.number,isLoggedInUser:i.a.bool,isPaid:i.a.bool,isPaidPreview:i.a.bool,isPaidStory:i.a.bool,statsItems:i.a.arrayOf(i.a.object),title:i.a.string,storyId:i.a.number,readingLists:i.a.array,storiesCollections:i.a.object,sources:i.a.array,writerPreviewHasBannedCover:i.a.bool},t.a=y}).call(this,n(33))},function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(206),l=n(131),c=n(192),u=n(51),d=n(82),m=n.n(d),f=n(2);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=y||e,g=function(e){var t=e.stories,n=e.userLang,o=e.page,i=p(Object(r.useState)(!1),2),d=i[0],b=i[1],g=Object(r.useRef)(),h=Object(u.a)()&&y.innerWidth<575,v=Object(f.o)().trans,E=m()(n);return Object(r.useEffect)((function(){if(!d&&h){var e=_.throttle((function(){if(g.current){var e=g.current.getBoundingClientRect(),t=e.top,n=e.bottom;t>=0&&n<=y.innerHeight&&b(!0)}}),300);return y.addEventListener("scroll",e),function(){y.removeEventListener("scroll",e)}}}),[d,b,g,h]),a.a.createElement("div",{className:"story-list"},a.a.createElement("div",{className:"story-list__container"},a.a.createElement("div",{className:"story-list__DW_title"},v("You may also like")),t&&t.map((function(e,t){return a.a.createElement("div",{key:t,className:"story-list__item"},a.a.createElement(c.a,{id:e.id,cover:e.cover,title:e.title,user:e.user,description:e.description,url:e.url,descCharLimit:100,isCompleted:e.completed,isMature:e.mature,numParts:e.numParts,isFeatureFlagged:!0,isMobile:h}))}))),a.a.createElement("div",{ref:g,className:"story-list__MW_title"},v("You may also like")),E?a.a.createElement(l.a,{stories:t,sectionType:"similar_stories",windowWidth:y.innerWidth,wasSeen:d&&h,page:o}):a.a.createElement(s.a,{stories:t,sectionType:"similar_stories",windowWidth:y.innerWidth,userLang:n,page:o,wasSeen:d&&h}))};g.propTypes={stories:i.a.array,userLang:i.a.number,page:i.a.string},t.a=g}).call(this,n(33))},,function(e,t){e.exports=function(e,t){var n;switch(e.toLowerCase()){case"1006":n=t("Please make sure all fields are filled in.");break;case"1027":n=t("Sorry, based on the information you have provided, we couldn't create an account for you.");break;case"1171":n=t("An account with this email address may already exist. Try using another email address.");break;case"fixerrors":n=t("Please fix any errors to continue.");break;case"unknown":default:n=t("Sorry, something went wrong. Please try again.")}return n}},function(e,t){e.exports=function(e,t){return new Promise((function(n,r){if(!t)return r([wattpad.utils.trans("Publish date is required")]);var a=parseInt(e.get("groupid"),10),o=parseInt(e.get("id"),10),i=wattpad.utils.trans("Failed to schedule part");Promise.resolve(e.save()).then((function(e){return(null==e?void 0:e.error_count)>0?null!=e&&e.error?r(e.error):(null==e?void 0:e.errors.length)>0?r(e.errors[0]):r(i):Promise.resolve($.post("/v4/parts/".concat(o,"/schedule-publish"),{datetime:t}))})).then((function(e){if(null==e||!e.part_id||null==e||!e.scheduled_datetime)return r(i);var t=wattpad.utils.currentUser().get("username");return wattpad.utils.cacheBust(["StoryCreateModel","StoryPartCreateModel"],[{id:a},{id:o}],null,!0),wattpad.utils.cacheBust(["Works","Works"],[{username:t},{username:t,published:!0}]),n(e)})).catch((function(e){var t,n,a,o;return e&&200!==(null==e?void 0:e.status)?null!=e&&null!==(t=e.responseJSON)&&void 0!==t&&t.message?r(null==e||null===(a=e.responseJSON)||void 0===a?void 0:a.message):(null==e||null===(n=e.responseJSON)||void 0===n?void 0:n.errors.length)>0?r(null==e||null===(o=e.responseJSON)||void 0===o?void 0:o.errors[0]):void 0:r(i)}))}))}},function(e,t){e.exports=function(e){return new Promise((function(t,n){var r=parseInt(e.get("groupid"),10),a=parseInt(e.get("id"),10),o=wattpad.utils.trans("Failed to unschedule part");Promise.resolve($.post("/v4/parts/".concat(a,"/unschedule-publish"))).then((function(e){return null!=e&&e.success?(wattpad.utils.cacheBust(["StoryCreateModel","StoryPartCreateModel"],[{id:r},{id:a}],null,!0),t(e)):n(o)})).catch((function(e){var t,r,a,i;return e&&200!==(null==e?void 0:e.status)?null!=e&&null!==(t=e.responseJSON)&&void 0!==t&&t.message?n(null==e||null===(a=e.responseJSON)||void 0===a?void 0:a.message):(null==e||null===(r=e.responseJSON)||void 0===r?void 0:r.errors.length)>0?n(null==e||null===(i=e.responseJSON)||void 0===i?void 0:i.errors[0]):void 0:n(o)}))}))}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var r=n(0),a=n.n(r),o=n(7),i=n(146),s=n(1),l=n.n(s),c=n(2),u=n(104);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=f||e;function p(e){var t=e.loadPaidStoriesList,n=e.paidStoriesListByTag,o=e.catalog,i=d(Object(r.useState)(f.innerWidth),2),s=i[0],l=i[1];Object(c.d)("resize",(function(){l(f.innerWidth)})),Object(c.l)({direction:"down",threshold:200,onThreshold:function(){t()}}),Object(r.useEffect)((function(){var e,n,r;t(),f.te.push("event",null,null,null,"app_page_view_v1",{page:(e={},n="wattpadoriginals"===o?"wattpad_originals":"paid_stories",r={},n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e)})}),[t,o]);var m=Object(c.o)().trans,p={ongoingstories:m("Ongoing Stories"),featuredpicks:m("Featured Picks"),onsale:m("On Sale"),teenfiction:m("Contemporary Teen Fiction"),romance:m("Adult Romance"),lgbt:m("LGBTQIAP+"),newadult:m("New Adult Romance"),fantasy:m("High Fantasy"),featuredstories:m("Featured Stories"),newreleases:m("New Releases"),werewolf:m("Werewolf"),diverselit:m("Diverse Lit"),wattpadbooks:m("Wattpad Books"),lessthan74coins:m("Deals: Stories for 74 coins or less"),urbanfantasy:m("Urban Fantasy"),genreyoungadult:m("Genre Young Adult"),historicalfiction:m("Historical Fiction"),paranormal:m("Paranormal"),sciencefiction:m("Science Fiction"),vampire:m("Vampire"),series:m("Series"),chicklit:m("ChickLit"),sexyandsteamy:m("Sexy and Steamy"),emotionalanduplifting:m("Emotional and Uplifting"),darkanddisturbing:m("Dark and Disturbing"),mystery:m("Mystery"),horror:m("Horror"),thriller:m("Thriller"),adventure:m("Adventure"),action:m("Action"),humor:m("Humor")},b="".concat(m("Catalog")," - ").concat(m("wattpadoriginals"===o?"Wattpad Originals":"Paid Stories"));return Object(c.m)(b),a.a.createElement("div",{className:"catalog-content"},Object.keys(n).map((function(e){var t=p[e]||e;return a.a.createElement(u.a,{key:e,windowWidth:s,index:0,setPosition:function(){},page:"catalog",wasSeen:!0,sectionType:"paid_view_all_carousel",title:t,heading:t,stories:n[e],isPromoted:!1,withDivider:!1})})))}p.propTypes={loadPaidStoriesList:l.a.func,paidStoriesListByTag:l.a.object,catalog:l.a.string};var b=Object(o.b)((function(e){return{paidStoriesListByTag:e.paidStoriesCatalog.paidStoriesListByTag}}),{loadPaidStoriesList:i.c})(p)}).call(this,n(33))},function(e,t){e.exports=function(e){var t=new app.views.SignUpPrompt({model:new app.models.Authsignup,formType:"modal",form:"signup"});$("#generic-modal .modal-dialog").addClass("signup-modal-wrapper"),$("#generic-modal .modal-content").addClass("auth-modal"),$("#generic-modal .modal-body").html(t.render().$el),wattpad.utils.openModal("generic-modal")}},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(103),a=n(28);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={modalProps:null};var c=n(34),u=n(17);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n(169),b=n(60),y=n(146),g=n(147),h=n(172),v=n(148),E=n(92),w=n(99),O=n(16);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=n(20),k=n(46),T=n(149),P=n(38);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A={isLoading:!0,hasNotesBeenVisible:!1,data:{id:null,protagonist:{name:null,other_names:"",pronoun:null,attributes:"",extrovert_introvert:null,likeable:null,focus_past_future:null,thinking_feeling:null,decisive_improvise:null,laidback_serious:null,personality_change:null},protagonist_goal:{description:"",physical_emotional:null,type:null,change_themselves_surroundings:null,explore_emotions_world:null,navigate_familiar_unfamiliar:null,recall_past:null,find_meaning:null,take_keep:null,outcome:"",succeed:null,outcome_feeling:null},opportunity:{interested:null,logline:"",story_progress:null,types:null}}};var x=n(150),L=n(19);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e){return{story_id:B(e,"story_id"),part_id:B(e,"part_id"),author_id:B(e,"author_id"),author_note:F(e,"author_note"),chapter_description:F(e,"chapter_description"),paid_model:F(e,"paid_model"),bonus_type:B(e,"bonus_type"),is_free_part:F(e,"is_free_part")}}function F(e,t){var n;return(null===(n=e.data)||void 0===n?void 0:n[t])||L.b.data[t]}function B(e,t){var n;return parseInt(null===(n=e.data)||void 0===n?void 0:n[t])||L.b.data[t]}var W=Object(r.c)({userData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e},appData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e},deviceData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e},wallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{amount:0,animationStep:u.n.DEFAULT,id:u.d,fetched:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.k:return m(m({},e),{},{amount:t.amount,fetched:!0});case u.m:return m(m({},e),{},{animationStep:t.step});case u.a:return m(m({},e),{},{animationStep:u.n.DEFAULT});default:return e}},purchase:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isPurchasing:!1,amountSpent:0,buyingPart:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.b:return m(m({},e),{},{amountSpent:t.price,isPurchasing:!0,buyingPart:!!t.partId});case u.a:return m(m({},e),{},{isPurchasing:!1,amountSpent:0});default:return e}},threads:v.a,conversation:E.a,paidMetadata:p.b,modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.e:return i(i({},e),{},{modalProps:e.modalProps?null:t.modalProps});case a.d:return i(i({},e),{},{modalProps:t.modalProps});case a.a:return i(i({},e),{},{modalProps:null});default:return e}},popover:c.b,contestForm:b.a,storyTags:w.b,homeSections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sections:[],sectionBounds:{},error:void 0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.e:return C(C({},e),{},{sections:t.sections});case O.i:return C(C({},e),{},{homeLoading:!0});case O.j:return C(C({},e),{},{homeLoading:!1});case O.t:return C(C({},e),{},{showLoader:!0});case O.f:return C(C({},e),{},{showLoader:!1});case O.p:return C(C({},e),{},{sectionBounds:C(C({},e.sectionBounds),{},j({},t.info.index,t.info))});case O.n:return C(C({},e),{},{contentSettings:t.settings});case O.m:return C(C({},e),{},{message:"no change"});case O.g:return C(C({},e),{},{contentSettingsLoading:!0});case O.h:return C(C({},e),{},{contentSettingsLoading:!1});case O.s:return C(C({},e),{},{sectionBounds:C(C({},e.sectionBounds),{},j({},t.index,C(C({},e.sectionBounds[t.index]),{},{viewed:!0})))});case O.o:return C(C({},e),{},{readingLists:t.lists,readingListsLoading:!1});case O.k:return C(C({},e),{},{readingListsLoading:!0});case O.q:return C(C({},e),{},{storiesCollections:C(C({},e.storiesCollections),t.collections),storiesCollectionsLoading:!1});case O.l:return C(C({},e),{},{storiesCollectionsLoading:!0});case O.a:return C(C({},e),{},{storiesCollections:C(C({},e.storiesCollections),{},j({},t.storyId,C(C({},e.storiesCollections[t.storyId]),{},j({},t.collectionId,!0))))});case O.r:return C(C({},e),{},{storiesCollections:C(C({},e.storiesCollections),{},j({},t.storyId,C(C({},e.storiesCollections[t.storyId]),{},j({},t.collectionId,!1))))});case O.d:return C(C({},e),{},{error:t.error});case O.c:return C(C({},e),{},{error:null});default:return e}},profileData:N.d,toast:k.b,paidStoriesCatalog:y.a,premiumPicksCatalog:g.a,storyItem:h.b,quests:T.a,storyNotes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case P.d:return R(R({},e),{},{isLoading:!0});case P.b:var n,r,a,o;return R(R({},e),{},{isLoading:!1,data:{id:parseInt(null===(n=t.data)||void 0===n?void 0:n.id)||A.data.id,protagonist:(null===(r=t.data)||void 0===r?void 0:r.protagonist)||A.data.protagonist,protagonist_goal:(null===(a=t.data)||void 0===a?void 0:a.protagonist_goal)||A.data.protagonist_goal,opportunity:(null===(o=t.data)||void 0===o?void 0:o.opportunity)||A.data.opportunity}});case P.c:return R(R(R({},e),e.data),{},{isLoading:!1});case P.a:return R(R({},e),{},{isLoading:!1});case P.e:return R(R({},e),{},{data:{id:parseInt(t.data.id)||A.data.id,protagonist:t.data.protagonist||A.data.protagonist,protagonist_goal:t.data.protagonist_goal||A.data.protagonist_goal,opportunity:t.data.opportunity||A.data.opportunity}});case P.f:return R(R({},e),{},{hasNotesBeenVisible:!0});default:return e}},worksItemDetails:x.a,paidPartConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L.b,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case L.f:return D(D({},e),{},{isLoading:!0});case L.d:return D(D({},e),{},{isLoading:!1,data:q(t)});case L.e:return D(D(D({},e),e.data),{},{isLoading:!1});case L.c:return D(D({},e),{},{isLoading:!1});case L.g:return D(D({},e),{},{data:q(t)});case L.h:return D(D({},e),{},{isFormVisible:!0});default:return e}}});t.a=W}])}));
//# sourceMappingURL=react-bundle.components.1ac5b55c.js.map